{"meta":{"title":"Hareric","subtitle":"æŸ æª¬èŒ¶ğŸ‹ æ°¸è¿œçš„ç¥","description":"äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨python","author":"Eric Chen","url":"https://hareric.com"},"posts":[{"title":"jsonè§£æå·¥å…·","slug":"jsonè§£æå·¥å…·","date":"2021-05-29T08:48:30.000Z","updated":"2021-05-29T08:46:48.202Z","comments":true,"path":"2021/05/29/jsonè§£æå·¥å…·/","link":"","permalink":"https://hareric.com/2021/05/29/json%E8%A7%A3%E6%9E%90%E5%B7%A5%E5%85%B7/","excerpt":"","text":"","raw":null,"content":null,"categories":[],"tags":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://hareric.com/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"}]},{"title":"å“ˆå¸Œ&ç¼–ç å·¥å…·","slug":"å“ˆå¸Œ&ç¼–ç å·¥å…·","date":"2021-05-23T03:47:30.000Z","updated":"2021-05-29T08:46:43.065Z","comments":true,"path":"2021/05/23/å“ˆå¸Œ&ç¼–ç å·¥å…·/","link":"","permalink":"https://hareric.com/2021/05/23/%E5%93%88%E5%B8%8C&%E7%BC%96%E7%A0%81%E5%B7%A5%E5%85%B7/","excerpt":"","text":"","raw":null,"content":null,"categories":[],"tags":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://hareric.com/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"}]},{"title":"Hive 2.3.4 å®‰è£åŠé…ç½®","slug":"Hive 2.3.4å®‰è£åŠé…ç½®","date":"2019-03-04T12:18:01.000Z","updated":"2021-05-23T13:21:37.192Z","comments":true,"path":"2019/03/04/Hive 2.3.4å®‰è£åŠé…ç½®/","link":"","permalink":"https://hareric.com/2019/03/04/Hive%202.3.4%E5%AE%89%E8%A3%9D%E5%8F%8A%E9%85%8D%E7%BD%AE/","excerpt":"Hiveæ˜¯ä¸€ä¸ªæ•°æ®ä»“åº“åŸºç¡€å·¥å…·åœ¨Hadoopä¸­ç”¨æ¥å¤„ç†ç»“æ„åŒ–æ•°æ®ã€‚å®ƒæ¶æ„åœ¨Hadoopä¹‹ä¸Šï¼Œæ€»å½’ä¸ºå¤§æ•°æ®ï¼Œå¹¶ä½¿å¾—æŸ¥è¯¢å’Œåˆ†ææ–¹ä¾¿ã€‚å¹¶æä¾›ç®€å•çš„sqlæŸ¥è¯¢åŠŸèƒ½ï¼Œå¯ä»¥å°†sqlè¯­å¥è½¬æ¢ä¸ºMapReduceä»»åŠ¡è¿›è¡Œè¿è¡Œã€‚","text":"Hiveæ˜¯ä¸€ä¸ªæ•°æ®ä»“åº“åŸºç¡€å·¥å…·åœ¨Hadoopä¸­ç”¨æ¥å¤„ç†ç»“æ„åŒ–æ•°æ®ã€‚å®ƒæ¶æ„åœ¨Hadoopä¹‹ä¸Šï¼Œæ€»å½’ä¸ºå¤§æ•°æ®ï¼Œå¹¶ä½¿å¾—æŸ¥è¯¢å’Œåˆ†ææ–¹ä¾¿ã€‚å¹¶æä¾›ç®€å•çš„sqlæŸ¥è¯¢åŠŸèƒ½ï¼Œå¯ä»¥å°†sqlè¯­å¥è½¬æ¢ä¸ºMapReduceä»»åŠ¡è¿›è¡Œè¿è¡Œã€‚ å‰æœŸå·¥ä½œ å®‰è£…JDK å®‰è£…Hadoop å®‰è£…MySQL ä¸‹è½½å¹¶å®‰è£…Hiveä¸‹è½½Hiveä¸‹è½½åœ°å€åŠå®˜ç½‘ã€‚ é€‰æ‹©apache-hive-2.3.4-bin.tar.gzè¿›è¡Œä¸‹è½½ã€‚ å®‰è£…å°†å‹ç¼©åŒ…å¤åˆ¶è‡³æƒ³è¦çš„å®‰è£…ä½ç½®ï¼Œæˆ‘çš„åšæ³•æ˜¯å¤åˆ¶åˆ°è·Ÿhadoopå®‰è£…çš„åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚123sudo mv apache-hive-2.1.1-bin.tar.gz /usr/local/Cellar/hadoopcd /usr/local/Cellar/hadoopsudo tar -xzvf apache-hive-2.3.4-bin.tar.gz ##è§£å‹ è®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡ç¼–è¾‘bash_profileæ–‡ä»¶ vi .bash_profileã€‚æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚123# Hiveexport HIVE_HOME=/usr/local/Cellar/hadoop/apache-hive-2.3.4-binexport PATH=$PATH:$HIVE_HOME/binä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ: source .bash_profile é…ç½®æ–‡ä»¶hive.site.xmlè¿›å…¥Hive/confæ–‡ä»¶å¤¹ å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶å¹¶æ”¹åä¸ºhive.site.xml1cp hive-default.xml.template hive-site.xmlåœ¨å¼€å¤´æ·»åŠ å¦‚ä¸‹é…ç½®ã€‚12345678&lt;property&gt; &lt;name&gt;system:java.io.tmpdir&lt;/name&gt; &lt;value&gt;/tmp/hive/java&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;system:user.name&lt;/name&gt; &lt;value&gt;$&#123;user.name&#125;&lt;/value&gt;&lt;/property&gt; åˆ›å»ºåŠé…ç½®HDFSæ–‡ä»¶å¤¹åˆ›å»ºåœ¨ Hive ä¸­åˆ›å»ºè¡¨ä¹‹å‰éœ€è¦åˆ›å»ºä»¥ä¸‹ HDFS ç›®å½•å¹¶ç»™å®ƒä»¬èµ‹ç›¸åº”çš„æƒé™ã€‚ 123456hdfs dfs -mkdir -p /user/hive/warehousehdfs dfs -mkdir -p /user/hive/tmphdfs dfs -mkdir -p /user/hive/loghdfs dfs -chmod 777 /user/hive/warehousehdfs dfs -chmod 777 /usr/hive/tmphdfs dfs -chmod 777 /usr/hive/log åˆ›å»ºå®Œæˆåå¯ä»¥ä½¿ç”¨hdfs dfs -ls /hiveæŸ¥çœ‹æ˜¯å¦å·²ç»æˆåŠŸæ–°å»ºæ–‡ä»¶å¤¹ã€‚ é…ç½®æ‰“å¼€åˆšåˆšå‡†å¤‡å¥½çš„hive-site.xmlé…ç½®æ–‡ä»¶ï¼ŒæŠŠåˆšåˆšæ–°å»ºçš„HDFSæ–‡ä»¶å¤¹çš„è·¯å¾„æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ä¸­å»ã€‚123456789101112131415&lt;property&gt; &lt;name&gt;hive.exec.scratchdir&lt;/name&gt; &lt;value&gt;hive/tmp&lt;/value&gt; &lt;description&gt;HDFS root scratch dir for Hive jobs which gets created with write all (733) permission. For each connecting user, an HDFS scratch dir: $&#123;hive.exec.scratchdir&#125;/&amp;lt;username&amp;gt; is created, with $&#123;hive.scratch.dir.permission&#125;.&lt;/description&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt; &lt;value&gt;/hive/warehouse&lt;/value&gt; &lt;description&gt;location of default database for the warehouse&lt;/description&gt; &lt;/property&gt;&lt;property&gt; &lt;name&gt;hive.querylog.location&lt;/name&gt; &lt;value&gt;/hive/log&lt;/value&gt; &lt;description&gt;Location of Hive run time structured log file&lt;/description&gt; &lt;/property&gt; åˆ›å»ºåŠé…ç½®Mysqlåˆ›å»ºHiveæ•°æ®åº“å‡å®šä½ å·²ç»å®‰è£…å¥½MySQLã€‚ä¸‹é¢éœ€è¦åˆ›å»ºä¸€ä¸ª hive æ•°æ®åº“ç”¨æ¥å­˜å‚¨ Hive å…ƒæ•°æ® æ‰“å¼€MysqlæœåŠ¡ï¼Œå¹¶ä»¥rootç”¨æˆ·ç™»å…¥ã€‚12mysql.server startmysql -u root -p # å›è½¦åè¾“å…¥å¯†ç  è‹¥æ— å¯†ç åˆ™ä½¿ç”¨ mysql -u root åˆ›å»ºç”¨æˆ·åè¿›å…¥mysqlåï¼Œåˆ›å»ºä¸€ä¸ª hive æ•°æ®åº“ç”¨æ¥å­˜å‚¨ Hive å…ƒæ•°æ®ï¼Œä¸”æ•°æ®åº“è®¿é—®çš„ç”¨æˆ·åå’Œå¯†ç éƒ½ä¸ºhadoopã€‚1234567CREATE DATABASE hive; USE hive; CREATE USER &#x27;hadoop&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;hadoop&#x27;;GRANT ALL ON hive.* TO &#x27;hive&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;hadoop&#x27;; GRANT ALL ON hive.* TO &#x27;hive&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;hadoop&#x27;; FLUSH PRIVILEGES; quit; é…ç½®å°†åˆšåˆšåˆ›å»ºçš„æ•°æ®åº“åŠç”¨æˆ·åå’Œå¯†ç å†™å…¥é…ç½®æ–‡ä»¶ã€‚12345678910111213141516&lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; &lt;value&gt;jdbc:mysql://localhost:3306/hive?createDatabaseIfNotExist=true&amp;amp;characterEncoding=UTF-8&amp;amp;useSSL=false&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt; &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt; &lt;value&gt;hadoop&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt; &lt;value&gt;hadoop&lt;/value&gt;&lt;/property&gt; é…ç½®JDBCç”±äºéœ€è¦ä½¿ç”¨Javaè¿æ¥Mysqlæ•°æ®åº“ï¼Œæ‰€ä»¥éœ€è¦é…ç½®MySQL Connectorã€‚æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯mysql-connector-java-5.1.39-binç‰ˆæœ¬ä¸‹è½½åœ°å€ã€‚å¹¶å°†å®ƒå¤åˆ¶è¿› $HIVE_HOME/libè·¯å¾„ä¸‹ å¯åŠ¨åŠæµ‹è¯•å¯åŠ¨HDFSä½¿ç”¨Hiveä¹‹å‰ï¼Œè¯·å…ˆç¡®ä¿HDFSå·²ç»å¯åŠ¨ã€‚å¯ä»¥ä½¿ç”¨start-dfs.shè„šæœ¬æ¥å¯åŠ¨ HDFSã€‚ Mysqlåˆå§‹åŒ–ä» Hive 2.1 ç‰ˆæœ¬å¼€å§‹, æˆ‘ä»¬éœ€è¦å…ˆè¿è¡Œ schematool å‘½ä»¤æ¥æ‰§è¡Œåˆå§‹åŒ–æ“ä½œã€‚1schematool -dbType mysql -initSchemaè¿è¡Œåç»ˆç«¯å°†ä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ ä½¿ç”¨Hive CLIè¦ä½¿ç”¨ Hive CLIï¼ˆHive command line interfaceï¼‰, å¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥Hiveï¼Œä¾¿å¯ä»¥è¿›å…¥ã€‚å¯åŠ¨ä¿¡æ¯å¦‚ä¸‹ï¼šåˆ›å»ºä¸€ä¸ªtable1CREATE TABLE pokes (foo INT, bar STRING);show tableså’Œdesc pokes æ˜¾ç¤ºä¿¡æ¯å¦‚ä¸‹åœ¨HDFSä¸­æ˜¾ç¤ºå¦‚ä¸‹","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"ä½¿ç”¨Pigå¯¹æ•°æ®è¿›è¡Œå¤„ç†å’Œåˆ†æ","slug":"ä½¿ç”¨Pigå¯¹æ•°æ®è¿›è¡Œå¤„ç†å’Œåˆ†æ","date":"2019-02-25T08:54:09.000Z","updated":"2021-05-23T14:08:57.122Z","comments":true,"path":"2019/02/25/ä½¿ç”¨Pigå¯¹æ•°æ®è¿›è¡Œå¤„ç†å’Œåˆ†æ/","link":"","permalink":"https://hareric.com/2019/02/25/%E4%BD%BF%E7%94%A8Pig%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86%E5%92%8C%E5%88%86%E6%9E%90/","excerpt":"æœ¬æ–‡å°†é’ˆå¯¹ä¸€ä»½æ•°æ®æå‡ºå¤šä¸ªæ•°æ®å¤„ç†çš„ç›¸å…³é—®é¢˜ï¼Œå¹¶ä»‹ç»å¦‚ä½•ä½¿ç”¨Apache Pigæ¥è§£å†³ç›¸å…³çš„é—®é¢˜ï¼Œå»ºè®®è¯»è€…æ ¹æ®å…·ä½“é—®é¢˜å…·ä½“å®è·µåå†æŸ¥çœ‹æˆ‘åˆ†äº«çš„è§£é¢˜Pigä»£ç ã€‚","text":"æœ¬æ–‡å°†é’ˆå¯¹ä¸€ä»½æ•°æ®æå‡ºå¤šä¸ªæ•°æ®å¤„ç†çš„ç›¸å…³é—®é¢˜ï¼Œå¹¶ä»‹ç»å¦‚ä½•ä½¿ç”¨Apache Pigæ¥è§£å†³ç›¸å…³çš„é—®é¢˜ï¼Œå»ºè®®è¯»è€…æ ¹æ®å…·ä½“é—®é¢˜å…·ä½“å®è·µåå†æŸ¥çœ‹æˆ‘åˆ†äº«çš„è§£é¢˜Pigä»£ç ã€‚ æ•°æ®æ•°æ®ä¸‹è½½æœ¬æ–‡ç”¨åˆ°çš„æ•°æ®æ˜¯1999å¹´è‡³2004å¹´çš„The Daily Showå˜‰å®¾çš„å†å²æ•°æ®ã€‚ä¸‹è½½åœ°å€ æ•°æ®æè¿°YEAR â€“ The year the episode aired. GoogleKnowlege_Occupation -Their occupation or office, according to Googleâ€™s Knowledge Graph. On the other hand, if they are not in there, how Stewart introduced them on the program. Show â€“ Air date of the episode. Not unique, as some shows had more than one guest Group â€“ A larger group designation for the occupation. For instance, U.S senators, U.S presidents, and former presidents are all under â€œpoliticiansâ€ Raw_Guest_List â€“ The person or list of people who appeared on the show, according to Wikipedia. The GoogleKnowlege_Occupation only refers to one of them in a given row. é—®é¢˜é—®é¢˜1åœ¨æŒ‡å®šçš„æ—¶é—´èŒƒå›´å†…ï¼Œæ ¹æ®GoogleKnowlege_Occupationçš„ä¸åŒï¼Œæ‰¾å‡ºæœ€å¤šçš„5ç§ç±»å‹ã€‚ pigä»£ç 123456789101112A = load &#x27;dialy_show_guests&#x27; using PigStorage(&#x27;,&#x27;) AS (year:chararray,occupation:chararray,date:chararray, groupName:chararray,gusetlist:chararray);C = foreach A generate occupation,ToDate(date,&#x27;MM/dd/yy&#x27;) as date;D = filter C by ((date&gt; ToDate(&#x27;1/11/99&#x27;,&#x27;MM/dd/yy&#x27;)) AND (date&lt;ToDate(&#x27;6/11/99&#x27;,&#x27;MM/dd/yy&#x27;)));E = group D by occupation;F = foreach E generate group, COUNT(D) as cnt;describe F;G = order F by cnt desc;H = limit G 5;DUMP H; è¾“å‡ºç»“æœ (actor,28)(actress,20)(comedian,4)(television actress,3)(singer,2) é—®é¢˜2æ ¹æ®Group,æ‰¾å‡ºæ¯å¹´å‚åŠ è¯¥showçš„politiciançš„äººæ•°ã€‚ pig ä»£ç 123456789A = load &#x27;dialy_show_guests&#x27; using PigStorage(&#x27;,&#x27;) AS (year:chararray,occupation:chararray,date:chararray, groupName:chararray,gusetlist:chararray);B = FILTER A by groupName==&#x27;Politician&#x27;;C = foreach B generate ToDate(date,&#x27;MM/dd/yy&#x27;) as date;D = FOREACH C GENERATE GetYear(date) as y;E = GROUP D by y;F = FOREACH E GENERATE group, COUNT(D) as cnt;DUMP F; åœ¨åšè¿™é¢˜çš„æ—¶å€™ï¼Œæ²¡æœ‰å‘ç°æ•°æ®å·²ç»æä¾›äº†yearæ•°æ®åŸŸï¼Œäºæ˜¯æˆ‘ä½¿ç”¨dateæ•°æ®åŸŸå¹¶æå–äº†å…¶ä¸­çš„å¹´ä»½ï¼Œæœ‰äº›å¤šæ­¤ä¸€ä¸¾ã€‚ è¾“å‡ºç»“æœ (1999,2)(2000,13)(2001,3)(2002,8)(2003,14)(2004,32)(2005,22)(2006,25)(2007,21)(2008,27)â€¦ é—®é¢˜3åœ¨æ•°æ®æè¿°ä¸­ï¼ŒGroupæ•°æ®ç±»å‹ä¸GoogleKnowledge occupationæ•°æ®ç±»å‹ï¼Œæ˜¯åŒ…å«å…³ç³»ï¼Œæœ¬é¢˜æ˜¯è¦ç»Ÿè®¡æ¯ä¸ªgroupä¸­æœ‰å¤šå°‘ç§ä¸åŒçš„GoogleKnowledge occupationã€‚ pig ä»£ç 12345678A = load &#x27;dialy_show_guests&#x27; using PigStorage(&#x27;,&#x27;) AS (year:chararray,occupation:chararray,date:chararray, groupName:chararray,gusetlist:chararray);B = FOREACH A GENERATE occupation, groupName;C = GROUP B by groupName;D = FOREACH C &#123;o = DISTINCT B.occupation; GENERATE group, COUNT(o) as cnt;&#125;;E = ORDER D BY cnt DESC ; DUMP E; è¾“å‡ºç»“æœ (Politician,105)(Media,80)(Athletics,29)(Government,27)(Musician,25)(Academic,24)(Misc,16)â€¦ é—®é¢˜4æ‰¾å‡ºå„ä¸ªGroupä¸GoogleKnowledge occupationç»„åˆç±»åçš„å‚åŠ showçš„äººæ•°ã€‚ pig ä»£ç 1234567A = load &#x27;dialy_show_guests&#x27; using PigStorage(&#x27;,&#x27;) AS (year:chararray,occupation:chararray,date:chararray, groupName:chararray,gusetlist:chararray);B = GROUP A BY (groupName, occupation);C = FOREACH B GENERATE group, COUNT(A) as cnt;D = ORDER C BY cnt desc;DUMP D; è¾“å‡ºç»“æœ ((Acting,actor),596)((Acting,actress),271)((Media,journalist),180)((Media,author),102)((Media,Journalist),72)((Comedy,comedian),64)((Politician,us senator),50)((Media,Author),48)((Media,television host),39)((Comedy,Comedian),39)((Media,writer),30)â€¦","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"ä½¿ç”¨Eclipse+Javaé…ç½®Pigå¼€å‘ç¯å¢ƒ","slug":"ä½¿ç”¨Eclipse-Javaé…ç½®Pigå¼€å‘ç¯å¢ƒ","date":"2019-02-22T14:54:25.000Z","updated":"2021-05-23T13:21:37.191Z","comments":true,"path":"2019/02/22/ä½¿ç”¨Eclipse-Javaé…ç½®Pigå¼€å‘ç¯å¢ƒ/","link":"","permalink":"https://hareric.com/2019/02/22/%E4%BD%BF%E7%94%A8Eclipse-Java%E9%85%8D%E7%BD%AEPig%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/","excerpt":"è‡ªä»å¼€å§‹ä½¿ç”¨Eclipse+Mavenæ¥é…ç½®Javaçš„å¼€å‘ç¯å¢ƒå¹¶ä½“éªŒåˆ°äº†Mavençš„å¼ºå¤§å’Œæ–¹ä¾¿ä»¥åã€‚åœ¨ä¹‹åå­¦ä¹ Hadoopçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘éƒ½å°½é‡é¿å…ä½¿ç”¨ç»ˆç«¯é…ç½®è¿è¡Œç¯å¢ƒã€‚\næœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é…ç½®Eclipseåœ¨Pigä¸­çš„å¼€å‘ç¯å¢ƒã€‚è‹¥è¿˜æœªä½¿ç”¨è¿‡Mavené…ç½®Hadoopå¼€å‘ç¯å¢ƒï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡åšå®¢","text":"è‡ªä»å¼€å§‹ä½¿ç”¨Eclipse+Mavenæ¥é…ç½®Javaçš„å¼€å‘ç¯å¢ƒå¹¶ä½“éªŒåˆ°äº†Mavençš„å¼ºå¤§å’Œæ–¹ä¾¿ä»¥åã€‚åœ¨ä¹‹åå­¦ä¹ Hadoopçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘éƒ½å°½é‡é¿å…ä½¿ç”¨ç»ˆç«¯é…ç½®è¿è¡Œç¯å¢ƒã€‚ æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é…ç½®Eclipseåœ¨Pigä¸­çš„å¼€å‘ç¯å¢ƒã€‚è‹¥è¿˜æœªä½¿ç”¨è¿‡Mavené…ç½®Hadoopå¼€å‘ç¯å¢ƒï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡åšå®¢ å¼€å‘ç¯å¢ƒ ç³»ç»Ÿï¼šMacOS 10.14.1 Hadoopï¼š2.7.0 Javaï¼š1.8.0 Eclipseï¼š4.6.2 Maven: 3.3.9 Pigä¸‹è½½åœ°å€Apache Pig çš„å®˜æ–¹ä¸‹è½½åœ°å€ ç”±äºæœ¬æ–‡ä»‹ç»çš„æ˜¯ç”¨Eclipseå¼€å‘ï¼ŒMavené…ç½®ï¼Œå› æ­¤ä¸éœ€è¦ä»æ­¤ç½‘ç«™ä¸‹è½½ã€‚ ç¡®å®šç‰ˆæœ¬åœ¨ä¸‹è½½å‰éœ€è¦ç¡®å®šç‰ˆæœ¬ã€‚ ç”±äºä¸åŒç‰ˆæœ¬çš„Pigæ”¯æŒä¸åŒçš„ç‰ˆæœ¬çš„Hadoopï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å› æ­¤åœ¨å¼€å§‹é…ç½®å‰ï¼Œéœ€è¦ç¡®å®šè‡ªå·±çš„Hadoopç‰ˆæœ¬å¹¶é€‰æ‹©åˆé€‚çš„Pigç‰ˆæœ¬ã€‚ æˆ‘ä½¿ç”¨çš„æ˜¯Hadoop 2.7.0 åªæœ‰Pig 0.17.0 å¯ä»¥æ”¯æŒã€‚æ‰€ä»¥æˆ‘é€‰æ‹©0.17ç‰ˆæœ¬ã€‚ å…¶ä½™ç‰ˆæœ¬ä»‹ç» é…ç½®jaråŒ…ä½¿ç”¨Javaåœ¨Eclipseè¿è¡ŒPigä»£ç ï¼Œéœ€è¦antlrï¼Œpigå’ŒpigunitåŒ…ï¼Œå› æ­¤éœ€è¦åœ¨Maven Projectçš„pom.xmlæ·»åŠ ä»¥ä¸‹ä¾èµ–ã€‚ ç”±äºè®¸å¤šä¸å¯æŠ—åŠ›ï¼Œä½¿ç”¨ApacheåŸç”Ÿçš„pigç‰ˆæœ¬æ—¶ä¸€ç›´æ— æ³•é…ç½®æˆåŠŸï¼Œå› æ­¤æˆ‘é€‰æ‹©Clouderaå…¬å¸çš„å‘è¡Œç‰ˆæœ¬ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ clouderaçš„èµ„æºåº“ã€‚ 123456789101112131415161718192021222324252627&lt;repositories&gt; &lt;repository&gt; &lt;id&gt;cloudera&lt;/id&gt; &lt;url&gt;https://repository.cloudera.com/artifactory/cloudera-repos/&lt;/url&gt; &lt;/repository&gt;&lt;/repositories&gt;&lt;dependencies&gt; &lt;!-- https://mvnrepository.com/artifact/org.antlr/antlr4 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.antlr&lt;/groupId&gt; &lt;artifactId&gt;antlr4&lt;/artifactId&gt; &lt;version&gt;4.7.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.pig&lt;/groupId&gt; &lt;artifactId&gt;pig&lt;/artifactId&gt; &lt;version&gt;0.17.0-cdh6.0.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.pig&lt;/groupId&gt; &lt;artifactId&gt;pigunit&lt;/artifactId&gt; &lt;version&gt;0.17.0-cdh6.0.0&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; åˆ›å»ºè„šæœ¬Apache Pig æä¾›äº†åç¼€åä¸ºè„šæœ¬æ–¹å¼æ¥å¤„ç†æ•°æ®ã€‚è„šæœ¬æ˜¯ä»¥åç¼€åä¸º.pigçš„æ–‡æœ¬æ–‡ä»¶è¿›è¡Œä¿å­˜ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªpigè„šæœ¬ä»£ç ï¼Œç»Ÿè®¡å•è¯çš„æ•°é‡ï¼Œå°†è¯¥è„šæœ¬ä¿å­˜åœ¨srcæ–‡ä»¶å¤¹å†…wordcount.pigã€‚12345A = load &#x27;src/main/resources/pigData/sample.data&#x27;;B = foreach A generate flatten(TOKENIZE((chararray)$0)) as word;C = group B by word;D = foreach C generate COUNT(B), group;dump D;sample.dataæ•°æ®æ–‡ä»¶12345678Johny, Johny!Yes, PapaEating sugar?No, PapaTelling lies?No, PapaOpen your mouth!Ha! Ha! Ha! ä½¿ç”¨Javaè¿è¡ŒPig æœ‰ä¸¤ç§è¿è¡Œæ¨¡å¼ï¼š Local æ¨¡å¼å’Œ MapReduce æ¨¡å¼ã€‚åœ¨Javaä¸­ï¼Œå¯ä»¥é€šè¿‡org.apache.pig.ExecTypeè¿›è¡Œè®¾ç½® PigServerPigRunner.java1234567891011121314151617181920import java.util.Properties;import org.apache.pig.ExecType;import org.apache.pig.PigServer;public class PigRunner&#123; public static void main(String[] args) throws Exception &#123; // MapReduce æ¨¡å¼ Properties props = new Properties(); props.setProperty(&quot;fs.default.name&quot;, &quot;hdfs://localhost:9000&quot;);// props.setProperty(&quot;mapred.job.tracker&quot;, &quot;http://localhost:50070&quot;); PigServer pigServer = new PigServer(ExecType.MAPREDUCE, props); pigServer.registerScript(&quot;src/main/java/pig/wordcount.pig&quot;); // local æ¨¡å¼ PigServer pigServer1 = new PigServer(ExecType.LOCAL); pigServer1.registerScript(&quot;src/main/java/pig/wordcount.pig&quot;); &#125;&#125; PigTestPigTestæä¾›äº†å¯¹Pigè„šæœ¬æ‰€å¾—çš„ç»“æœè¿›è¡Œå•å…ƒæµ‹è¯•ã€‚AppTest.java1234567891011121314import org.apache.pig.pigunit.PigTest;import junit.framework.*;public class AppTest extends TestCase&#123; public void testStudentsPigScript() throws Exception &#123; PigTest pigTest = new PigTest(&quot;src/main/java/pig/wordcount.pig&quot;); pigTest.assertOutput(&quot;D&quot;, new String[] &#123; &quot;(2,No)&quot;, &quot;(3,Ha!)&quot;, &quot;(1,Yes)&quot;, &quot;(1,Open)&quot;, &quot;(3,Papa)&quot;, &quot;(1,your)&quot;, &quot;(1,Johny)&quot;, &quot;(1,lies?)&quot;, &quot;(1,Eating)&quot;, &quot;(1,Johny!)&quot;, &quot;(1,mouth!)&quot;, &quot;(1,sugar?)&quot;, &quot;(1,Telling)&quot;&#125;); &#125;&#125; ä¸‹å›¾ä¸ºä¸Šè¿°æ–‡ä»¶åœ¨Java Projectä¸­çš„è·¯å¾„ã€‚å¯ä¾›è¯»è€…è¿›è¡Œå‚è€ƒ","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"MapReduceå®è·µ Uberæ•°æ®åˆ†æ","slug":"MapReduceå®è·µ Uberæ•°æ®åˆ†æ","date":"2019-02-21T05:02:57.000Z","updated":"2021-05-23T14:10:24.527Z","comments":true,"path":"2019/02/21/MapReduceå®è·µ Uberæ•°æ®åˆ†æ/","link":"","permalink":"https://hareric.com/2019/02/21/MapReduce%E5%AE%9E%E8%B7%B5%20Uber%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/","excerpt":"ä»‹ç»è¿™ç¯‡åšå®¢æ˜¯å…³äºå¦‚ä½•åœ¨Hadoop MapReduceä¸­è¿›è¡ŒUberæ•°æ®åˆ†æçš„ã€‚","text":"ä»‹ç»è¿™ç¯‡åšå®¢æ˜¯å…³äºå¦‚ä½•åœ¨Hadoop MapReduceä¸­è¿›è¡ŒUberæ•°æ®åˆ†æçš„ã€‚ æ•°æ®æ•°æ®ä¸‹è½½ æ•°æ®å±•ç¤º æ•°æ®è¯´æ˜ è¯¥æ•°æ®æœ‰4åˆ—ï¼š dispatching_base_number date active_vehicles trips é—®é¢˜æè¿°è®¡ç®—æ¯ä¸ªBasementæ¯ä¸ªå‘¨å‡ æ€»å…±æœ‰å¤šå°‘trips MapReduceå®ç°Mapperåœ¨Mapperä¸­ ä½¿ç”¨java.time.LocalDateæ¥è·å–æ¯ä¸ªå¹´æœˆæ—¥å…·ä½“æ˜¯æ˜ŸæœŸå‡ ï¼Œå¹¶å°†Basement_number+dayofweekä½œä¸ºkeysï¼ŒtripNumä½œä¸ºvalueã€‚ 1234567891011121314151617181920212223242526public static class ExtractTripMapper extends Mapper&lt;Object, Text, Text, IntWritable&gt;&#123; private IntWritable tripNum; // trip å€¼ String specifyDate = &quot;MM/DD/YYYY&quot;; DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;M/d/y&quot;); // dateè½¬åŒ–æ ¼å¼ LocalDate date; String dayOfWeek; public void map(Object key, Text value, Context context) throws IOException, InterruptedException &#123; String[] splitArray = value.toString().split(&quot;,&quot;); // å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡åˆ† specifyDate = splitArray[1]; // ä½¿ç”¨tryæ¥å¤„ç†ä¸å’Œè°çš„æ•°æ® try&#123; date = LocalDate.parse(specifyDate,formatter); dayOfWeek = date.getDayOfWeek().toString(); tripNum = new IntWritable(new Integer(splitArray[3])); &#125; catch (DateTimeParseException e)&#123; e.printStackTrace(); return; &#125; context.write(new Text(splitArray[0] + &quot;+&quot; + dayOfWeek), tripNum); &#125;&#125; Combiner&amp;Reducerä¹‹åå°±ä¸WordContç›¸åŒï¼Œè¿›è¡Œç®€å•çš„ç»Ÿè®¡å’Œåˆå¹¶ã€‚12345678910111213public static class SumReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt;&#123; public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context) throws IOException, InterruptedException &#123; int sum = 0; for (IntWritable val : values) &#123; sum += val.get(); &#125; context.write(key, new IntWritable(sum)); &#125;&#125; è¾“å‡º å®Œæ•´ä»£ç ","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"MapReduceå®è·µ Youtubeæ•°æ®åˆ†æ","slug":"MapReduceå®è·µ-Youtubeæ•°æ®åˆ†æ","date":"2019-02-19T14:46:21.000Z","updated":"2021-05-23T13:21:37.192Z","comments":true,"path":"2019/02/19/MapReduceå®è·µ-Youtubeæ•°æ®åˆ†æ/","link":"","permalink":"https://hareric.com/2019/02/19/MapReduce%E5%AE%9E%E8%B7%B5-Youtube%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/","excerpt":"ä»‹ç»è¿™ç¯‡åšå®¢æ˜¯å…³äºå¦‚ä½•åœ¨Hadoop MapReduceä¸­è¿›è¡ŒYouTubeæ•°æ®åˆ†æçš„ã€‚ä½¿ç”¨è¯¥æ•°æ®é›†æ‰§è¡Œä¸€äº›åˆ†æï¼Œå¹¶å°†æå–ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼Œä¾‹å¦‚YouTubeä¸Šæ’åå‰10ä½çš„è§†é¢‘ï¼Œä»–ä»¬ä¸Šä¼ äº†æœ€å¤šçš„è§†é¢‘ã€‚","text":"ä»‹ç»è¿™ç¯‡åšå®¢æ˜¯å…³äºå¦‚ä½•åœ¨Hadoop MapReduceä¸­è¿›è¡ŒYouTubeæ•°æ®åˆ†æçš„ã€‚ä½¿ç”¨è¯¥æ•°æ®é›†æ‰§è¡Œä¸€äº›åˆ†æï¼Œå¹¶å°†æå–ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼Œä¾‹å¦‚YouTubeä¸Šæ’åå‰10ä½çš„è§†é¢‘ï¼Œä»–ä»¬ä¸Šä¼ äº†æœ€å¤šçš„è§†é¢‘ã€‚ æ•°æ®æ•°æ®ä¸‹è½½ æ•°æ®å±•ç¤º æ•°æ®è¯´æ˜Column 1: Video id of 11 characters.Column 2: uploader of the videoColumn 3: Interval between the day of establishment of Youtube and the date of uploading of the video.Column 4: Category of the video.Column 5: Length of the video.Column 6: Number of views for the video.Column 7: Rating on the video.Column 8: Number of ratings given for the videoColumn 9: Number of comments done on the videos.Column 10: Related video ids with the uploaded video. é—®é¢˜æè¿°å¯»æ‰¾Top Nä¸ªæœ€å¤šè§†é¢‘çš„ç±»åˆ« MapReduceå®ç°Mapperå¯¹æ¯ä¸€è¡Œæ•°æ®è¿›è¡Œåˆ’åˆ†ï¼Œç»Ÿè®¡å„ä¸ªè§†é¢‘ç±»åˆ«çš„æ•°é‡ï¼ˆColumn 4ï¼‰ã€‚æ•°æ®é›†ä¸­éƒ¨åˆ†æ•°æ®ç¼ºå¤±ï¼Œå› æ­¤å¿½ç•¥äº†åˆ’åˆ†åå°‘äº5ä¸ªå±æ€§çš„æ•°æ®ã€‚123456789101112131415public static class CategoryMapper extends Mapper&lt;Object, Text, Text, IntWritable&gt;&#123; private final static IntWritable one = new IntWritable(1); // å€¼ä¸º1 private Text category = new Text(); public void map(Object key, Text value, Context context) throws IOException, InterruptedException &#123; String[] attributeArray = value.toString().split(&quot;\\t&quot;);// å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡åˆ† if (attributeArray.length &gt; 5) // å¿½ç•¥å±æ€§å€¼å°‘äº5çš„é”™è¯¯æ•°æ® &#123; category.set(attributeArray[3]); context.write(category, one); &#125; &#125;&#125; CombinerCombinerçš„ä½œç”¨å°±æ˜¯å¯¹mapç«¯çš„è¾“å‡ºå…ˆåšä¸€æ¬¡åˆå¹¶ï¼Œä»¥å‡å°‘åœ¨mapå’ŒreduceèŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®ä¼ è¾“é‡ï¼Œä»¥æé«˜ç½‘ç»œIOæ€§èƒ½ï¼Œæ˜¯MapReduceçš„ä¸€ç§ä¼˜åŒ–æ‰‹æ®µä¹‹ä¸€ã€‚Combinerå®è´¨å°±æ˜¯åœ¨æœ¬åœ°ç«¯å…ˆè¿è¡Œçš„ä¸€æ¬¡Reducerã€‚ 1234567891011121314public static class SumReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt;&#123; public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context) throws IOException, InterruptedException &#123; int sum = 0; for (IntWritable val : values) &#123; sum += val.get(); &#125; context.write(key, new IntWritable(sum)); &#125;&#125; Reducerå› ä¸ºéœ€è¦å¯¹ï¼Œ[è§†é¢‘ç±»åˆ«, è§†é¢‘æ•°]æ•°ç»„è¿›è¡Œæ’åºæ¯”è¾ƒï¼Œå› æ­¤é¦–å…ˆå®šä¹‰ä¸€ä¸ªäºŒå…ƒç»„ç±»ï¼ŒåŒ…å«è§†é¢‘ç±»åˆ«å’Œè§†é¢‘æ•°ï¼Œåˆ†åˆ«å¯¹åº”firstå’Œsecondã€‚å¹¶å®šä¹‰äº†Comparableæ¥å£ï¼Œç”¨äºåé¢æ’åºçš„éœ€è¦ã€‚12345678910111213141516171819202122public static class TwoTuple implements Comparable&lt;TwoTuple&gt;&#123; public String first; public int second; public TwoTuple(String a, int b) &#123; first = a; second = b; &#125; public String toString() &#123; return &quot;(&quot; + first + &quot;, &quot; + second + &quot;)&quot;; &#125; @Override public int compareTo(TwoTuple tt) &#123; return second - tt.second; &#125;&#125;ä½¿ç”¨Reducerå®ç°æå–Top Nå€¼çš„ç®—æ³•ã€‚ é¦–å…ˆéœ€è¦ä»‹ç»setup()å‡½æ•°å’Œcleanup()å‡½æ•°ï¼Œä¸reduce()å‡½æ•°ä¸åŒï¼Œä¸ä¼šæ ¹æ®keyçš„æ•°ç›®å¤šæ¬¡æ‰§è¡Œï¼Œåªä¼šæ‰§è¡Œ1æ¬¡ã€‚ setup() æ­¤æ–¹æ³•è¢«MapReduceæ¡†æ¶ä»…ä¸”æ‰§è¡Œä¸€æ¬¡ï¼Œåœ¨æ‰§è¡ŒMapä»»åŠ¡å‰ï¼Œè¿›è¡Œç›¸å…³å˜é‡æˆ–è€…èµ„æºçš„é›†ä¸­åˆå§‹åŒ–å·¥ä½œã€‚è‹¥æ˜¯å°†èµ„æºåˆå§‹åŒ–å·¥ä½œæ”¾åœ¨æ–¹æ³•map()ä¸­ï¼Œå¯¼è‡´Mapperä»»åŠ¡åœ¨è§£ææ¯ä¸€è¡Œè¾“å…¥æ—¶éƒ½ä¼šè¿›è¡Œèµ„æºåˆå§‹åŒ–å·¥ä½œï¼Œå¯¼è‡´é‡å¤ï¼Œç¨‹åºè¿è¡Œæ•ˆç‡ä¸é«˜ã€‚ cleanup() æ­¤æ–¹æ³•è¢«MapReduceæ¡†æ¶ä»…ä¸”æ‰§è¡Œä¸€æ¬¡ï¼Œåœ¨æ‰§è¡Œå®Œæ¯•Mapä»»åŠ¡åï¼Œè¿›è¡Œç›¸å…³å˜é‡æˆ–èµ„æºçš„é‡Šæ”¾å·¥ä½œã€‚è‹¥æ˜¯å°†é‡Šæ”¾èµ„æºå·¥ä½œæ”¾å…¥æ–¹æ³•map()ä¸­ï¼Œä¹Ÿä¼šå¯¼è‡´Mapperä»»åŠ¡åœ¨è§£æã€å¤„ç†æ¯ä¸€è¡Œæ–‡æœ¬åé‡Šæ”¾èµ„æºï¼Œè€Œä¸”åœ¨ä¸‹ä¸€è¡Œæ–‡æœ¬è§£æå‰è¿˜è¦é‡å¤åˆå§‹åŒ–ï¼Œå¯¼è‡´åå¤é‡å¤ï¼Œç¨‹åºè¿è¡Œæ•ˆç‡ä¸é«˜ã€‚ ç®—æ³•ä»‹ç»åœ¨setup()å‡½æ•°ä¸­ï¼Œä¸»è¦ç”¨æ¥ä»é…ç½®ä¸­è·å–éœ€è¦æå–Top Nçš„Nå€¼ï¼Œå¹¶åˆå§‹åŒ–top[]æ•°ç»„ï¼›åœ¨reduce()å‡½æ•°ä¸­ï¼Œè®¡ç®—å‡ºæ¯ä¸ªCategoryçš„è§†é¢‘æ€»æ•°åè¦†ç›–æ”¾å…¥top[0]æ•°ç»„å¹¶è¿›è¡Œæ’åºï¼›åœ¨cleanup()å‡½æ•°ä¸­ï¼Œå°†è¦†ç›–æ’åºå¤šæ¬¡åçš„topæ•°ç»„å†™å…¥outputã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546public static class TopNReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt;&#123; int len; TwoTuple[] top; @Override protected void setup(Context context) throws IOException, InterruptedException &#123; len =context.getConfiguration().getInt(&quot;N&quot;, 10); // ä»é…ç½®ä¸­è·å–top Nçš„Nå€¼ï¼Œè‹¥æ— åˆ™é»˜è®¤ä¸º10 top = new TwoTuple[len + 1]; for (int i=0; i&lt;=len; i++) &#123; top[i] = new TwoTuple(&quot;null&quot;, 0); &#125; &#125; @Override protected void cleanup(Context context) throws IOException, InterruptedException &#123; for (int i = len; i &gt; 0; i--) &#123; context.write(new Text(top[i].first), new IntWritable(top[i].second)); &#125; &#125; @Override protected void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context) throws IOException, InterruptedException &#123; int sum = 0; for (IntWritable val : values) &#123; sum += val.get(); &#125; add(key.toString(), sum); &#125; private void add(String key, int val) &#123; top[0].first = key; top[0].second = val; // æ›¿æ¢æ‰æœ€å°å€¼ Arrays.sort(top); // æ’åºï¼Œä»å°åˆ°å¤§é¡ºåº &#125;&#125; main&amp;conf12345678910111213141516171819202122232425262728public static void main(String[] args) throws Exception&#123; Configuration conf = new Configuration(); conf.addResource(&quot;classpath:/hadoop/core-site.xml&quot;); conf.addResource(&quot;classpath:/hadoop/hdfs-site.xml&quot;); conf.addResource(&quot;classpath:/hadoop/mapred-site.xml&quot;); conf.setInt(&quot;N&quot;, 5); // String[] otherArgs = new GenericOptionsParser(conf, // args).getRemainingArgs(); String[] otherArgs = &#123; &quot;/youtube&quot;, &quot;/youtube_category_Top5&quot; &#125;; if (otherArgs.length != 2) &#123; System.err.println(&quot;Usage: wordcount &lt;in&gt; &lt;out&gt;&quot;); System.exit(2); &#125; Job job = new Job(conf, &quot;youtube&quot;); job.setJarByClass(FindMaxCategory.class); job.setMapperClass(CategoryMapper.class); job.setCombinerClass(SumReducer.class);// job.setReducerClass(SumReducer.class); // ç»Ÿè®¡æ¯ä¸ªç±»åˆ«çš„æ€»é‡ job.setReducerClass(TopNReducer.class); // ç»Ÿè®¡TopNçš„ç±»åˆ«çš„æ€»é‡ job.setOutputKeyClass(Text.class); job.setOutputValueClass(IntWritable.class); FileInputFormat.setInputDirRecursive(job, true); FileInputFormat.addInputPath(job, new Path(otherArgs[0])); FileOutputFormat.setOutputPath(job, new Path(otherArgs[1])); System.exit(job.waitForCompletion(true) ? 0 : 1);&#125; è¾“å‡º å®Œæ•´ä»£ç ","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"Hadoopæ’åº","slug":"Hadoopæ’åº","date":"2019-02-18T08:14:51.000Z","updated":"2021-05-22T08:01:05.399Z","comments":true,"path":"2019/02/18/Hadoopæ’åº/","link":"","permalink":"https://hareric.com/2019/02/18/Hadoop%E6%8E%92%E5%BA%8F/","excerpt":"Hadoopæ’åºè½¬è½½æ¥æº\nHadoopæ’åºï¼Œä»å¤§çš„èŒƒå›´æ¥è¯´æœ‰ä¸¤ç§æ’åºï¼Œä¸€ç§æ˜¯æŒ‰ç…§keyæ’åºï¼Œä¸€ç§æ˜¯æŒ‰ç…§valueæ’åºã€‚å¦‚æœæŒ‰ç…§valueæ’åºï¼Œåªéœ€åœ¨mapå‡½æ•°ä¸­å°†keyå’Œvalueå¯¹è°ƒï¼Œç„¶ååœ¨reduceå‡½æ•°ä¸­åœ¨å¯¹è°ƒå›å»ã€‚ä»å°èŒƒå›´æ¥è¯´æ’åºåˆåˆ†æˆéƒ¨åˆ†æ’åºï¼Œå…¨å±€æ’åºï¼Œè¾…åŠ©æ’åºï¼ŒäºŒæ¬¡æ’åºç­‰ã€‚æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨Hadoopä¸­å®ç°å…¨å±€æ’åºã€‚","text":"Hadoopæ’åºè½¬è½½æ¥æº Hadoopæ’åºï¼Œä»å¤§çš„èŒƒå›´æ¥è¯´æœ‰ä¸¤ç§æ’åºï¼Œä¸€ç§æ˜¯æŒ‰ç…§keyæ’åºï¼Œä¸€ç§æ˜¯æŒ‰ç…§valueæ’åºã€‚å¦‚æœæŒ‰ç…§valueæ’åºï¼Œåªéœ€åœ¨mapå‡½æ•°ä¸­å°†keyå’Œvalueå¯¹è°ƒï¼Œç„¶ååœ¨reduceå‡½æ•°ä¸­åœ¨å¯¹è°ƒå›å»ã€‚ä»å°èŒƒå›´æ¥è¯´æ’åºåˆåˆ†æˆéƒ¨åˆ†æ’åºï¼Œå…¨å±€æ’åºï¼Œè¾…åŠ©æ’åºï¼ŒäºŒæ¬¡æ’åºç­‰ã€‚æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨Hadoopä¸­å®ç°å…¨å±€æ’åºã€‚ å…¨å±€æ’åºï¼Œå°±æ˜¯è¯´åœ¨ä¸€ä¸ªMapReduceç¨‹åºäº§ç”Ÿçš„è¾“å‡ºæ–‡ä»¶ä¸­ï¼Œæ‰€æœ‰çš„ç»“æœéƒ½æ˜¯æŒ‰ç…§æŸä¸ªç­–ç•¥è¿›è¡Œæ’åºçš„ï¼Œä¾‹å¦‚é™åºè¿˜æ˜¯å‡åºã€‚MapReduceåªèƒ½ä¿è¯ä¸€ä¸ªåˆ†åŒºå†…çš„æ•°æ®æ˜¯keyæœ‰åºçš„ï¼Œä¸€ä¸ªåˆ†åŒºå¯¹åº”ä¸€ä¸ªreduceï¼Œå› æ­¤åªæœ‰ä¸€ä¸ªreduceå°±ä¿è¯äº†æ•°æ®å…¨å±€æœ‰åºï¼Œä½†æ˜¯è¿™æ ·åˆä¸èƒ½ç”¨åˆ°Hadoopé›†ç¾¤çš„ä¼˜åŠ¿ã€‚ å¯¹äºå¤šä¸ªreduceå¦‚ä½•ä¿è¯æ•°æ®çš„å…¨å±€æ’åºå‘¢ï¼Ÿé€šå¸¸çš„åšæ³•æ˜¯æŒ‰ç…§keyå€¼åˆ†åŒºï¼Œé€šè¿‡MapReduceçš„é»˜è®¤åˆ†åŒºå‡½æ•°HashPartitionå°†ä¸åŒèŒƒå›´çš„keyå‘é€åˆ°ä¸åŒçš„reduceå¤„ç†ï¼Œä¾‹å¦‚ä¸€ä¸ªæ–‡ä»¶ä¸­æœ‰keyå€¼ä»1åˆ°10000çš„æ•°æ®ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªåˆ†åŒºï¼Œå°†1åˆ°5000çš„keyå‘é€åˆ°partition1ï¼Œç„¶åç”±reduce1å¤„ç†ï¼Œ5001åˆ°10000çš„keyå‘åŠ¨åˆ°partition2ç„¶åç”±reduce2å¤„ç†ï¼Œreduce1ä¸­çš„keyæ˜¯æŒ‰ç…§1åˆ°5000çš„å‡åºæ’åºï¼Œreduce2ä¸­çš„keyæ˜¯æŒ‰ç…§5001åˆ°10000çš„å‡åºæ’åºï¼Œè¿™æ ·å°±ä¿è¯äº†æ•´ä¸ªMapReduceç¨‹åºçš„å…¨å±€æ’åºã€‚ä½†æ˜¯è¿™æ ·åšæœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼š 1ã€å½“æ•°æ®é‡å¤§æ—¶ä¼šå‡ºç°OOMã€‚ 2ã€ä¼šå‡ºç°æ•°æ®å€¾æ–œã€‚ Hadoopæä¾›TotalOrderPartitionerç±»ç”¨äºå®ç°å…¨å±€æ’åºçš„åŠŸèƒ½ï¼Œå¹¶ä¸”è§£å†³äº†OOMå’Œæ•°æ®å€¾æ–œçš„é—®é¢˜ã€‚ TotalOrderPartitionerç±»æä¾›äº†æ•°æ®é‡‡æ ·å™¨ï¼Œå¯¹keyå€¼è¿›è¡Œéƒ¨åˆ†é‡‡æ ·ï¼Œç„¶åæŒ‰ç…§é‡‡æ ·ç»“æœå¯»æ‰¾keyå€¼çš„æœ€ä½³åˆ†å‰²ç‚¹ï¼Œå°†keyå€¼å‡åŒ€çš„åˆ†é…åˆ°ä¸åŒçš„åˆ†åŒºä¸­ã€‚ TotalOrderPartitioner ç±»æä¾›äº†ä¸‰ä¸ªé‡‡æ ·å™¨ï¼Œåˆ†åˆ«æ˜¯ï¼š SplitSampler åˆ†ç‰‡é‡‡æ ·å™¨ï¼Œä»æ•°æ®åˆ†ç‰‡ä¸­é‡‡æ ·æ•°æ®ï¼Œè¯¥é‡‡æ ·å™¨ä¸é€‚åˆå·²ç»æ’å¥½åºçš„æ•°æ® RandomSampleréšæœºé‡‡æ ·å™¨ï¼ŒæŒ‰ç…§è®¾ç½®å¥½çš„é‡‡æ ·ç‡ä»ä¸€ä¸ªæ•°æ®é›†ä¸­é‡‡æ · IntervalSampleré—´éš”é‡‡æ ·æœºï¼Œä»¥å›ºå®šçš„é—´éš”ä»åˆ†ç‰‡ä¸­é‡‡æ ·æ•°æ®ï¼Œå¯¹äºå·²ç»æ’å¥½åºçš„æ•°æ®æ•ˆæœéå¸¸å¥½ã€‚ ä¸‰ä¸ªé‡‡æ ·å™¨éƒ½å®ç°äº†K[] getSample(InputFormat&lt;K,V&gt; inf, Job job)æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›çš„æ˜¯K[]æ•°ç»„ï¼Œæ•°ç»„ä¸­å­˜æ”¾çš„æ˜¯æ ¹æ®é‡‡æ ·ç»“æœè¿”å›çš„keyå€¼ï¼Œå³åˆ†éš”ç‚¹ï¼ŒMapRdeuceå°±æ˜¯æ ¹æ®K[]æ•°ç»„çš„é•¿åº¦Nç”ŸæˆN-1ä¸ªåˆ†åŒºpartitionæ•°é‡ï¼Œç„¶åæŒ‰ç…§åˆ†å‰²ç‚¹çš„èŒƒå›´å°†å¯¹åº”çš„æ•°æ®å‘é€åˆ°å¯¹åº”çš„åˆ†åŒºä¸­ã€‚","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"MapReduceçš„ç±»å‹ä¸æ ¼å¼","slug":"MapReduceçš„ç±»å‹ä¸æ ¼å¼","date":"2019-02-18T08:14:40.000Z","updated":"2021-05-23T13:21:37.191Z","comments":true,"path":"2019/02/18/MapReduceçš„ç±»å‹ä¸æ ¼å¼/","link":"","permalink":"https://hareric.com/2019/02/18/MapReduce%E7%9A%84%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%A0%BC%E5%BC%8F/","excerpt":"MapReduceçš„ç±»å‹ä¸æ ¼å¼è½¬è½½æ¥æº\nMapReduceçš„ç±»å‹é»˜è®¤çš„MRä½œä¸š\né»˜è®¤çš„mapperæ˜¯ï¼­apperç±»ï¼Œå®ƒå°†è¾“å…¥çš„é”®å’Œå€¼åŸå°ä¸åŠ¨åœ°å†™åˆ°è¾“å‡ºä¸­\né»˜è®¤çš„partitioneræ˜¯HashPartitionerï¼Œå®ƒå¯¹æ¯æ¡è®°å½•çš„é”®è¿›è¡Œå“ˆå¸Œæ“ä½œä»¥å†³å®šè¯¥è®°å½•åº”è¯¥å±äºå“ªä¸ªåˆ†åŒºï¼ˆæ¯ä¸ªåˆ†åŒºå¯¹åº”äºä¸€ä¸ªreduceä»»åŠ¡ï¼‰\né»˜è®¤çš„reduceræ˜¯Reducerç±»ï¼Œå®ƒå°†æ‰€æœ‰çš„è¾“å…¥å†™åˆ°è¾“å‡ºä¸­\nmapä»»åŠ¡çš„æ•°é‡ç­‰äºè¾“å…¥æ–‡ä»¶è¢«åˆ’åˆ†æˆçš„å—æ•°\nreduceä»»åŠ¡çš„ä¸ªæ•°çš„é€‰æ‹©ï¼š ä¸€ä¸ªç»éªŒæ³•åˆ™æ˜¯ç›®æ ‡reducerä¿æŒåœ¨æ¯ä¸ªè¿è¡Œ5åˆ†é’Ÿå·¦å³ä¸”äº§ç”Ÿè‡³å°‘ä¸€ä¸ªHDFSå—çš„è¾“å‡ºæ¯”è¾ƒåˆé€‚\né»˜è®¤çš„è¾“å…¥æ ¼å¼æ˜¯TexInputFormatï¼Œè¾“å‡ºæ˜¯TextOutpFormat","text":"MapReduceçš„ç±»å‹ä¸æ ¼å¼è½¬è½½æ¥æº MapReduceçš„ç±»å‹é»˜è®¤çš„MRä½œä¸š é»˜è®¤çš„mapperæ˜¯ï¼­apperç±»ï¼Œå®ƒå°†è¾“å…¥çš„é”®å’Œå€¼åŸå°ä¸åŠ¨åœ°å†™åˆ°è¾“å‡ºä¸­ é»˜è®¤çš„partitioneræ˜¯HashPartitionerï¼Œå®ƒå¯¹æ¯æ¡è®°å½•çš„é”®è¿›è¡Œå“ˆå¸Œæ“ä½œä»¥å†³å®šè¯¥è®°å½•åº”è¯¥å±äºå“ªä¸ªåˆ†åŒºï¼ˆæ¯ä¸ªåˆ†åŒºå¯¹åº”äºä¸€ä¸ªreduceä»»åŠ¡ï¼‰ é»˜è®¤çš„reduceræ˜¯Reducerç±»ï¼Œå®ƒå°†æ‰€æœ‰çš„è¾“å…¥å†™åˆ°è¾“å‡ºä¸­ mapä»»åŠ¡çš„æ•°é‡ç­‰äºè¾“å…¥æ–‡ä»¶è¢«åˆ’åˆ†æˆçš„å—æ•° reduceä»»åŠ¡çš„ä¸ªæ•°çš„é€‰æ‹©ï¼š ä¸€ä¸ªç»éªŒæ³•åˆ™æ˜¯ç›®æ ‡reducerä¿æŒåœ¨æ¯ä¸ªè¿è¡Œ5åˆ†é’Ÿå·¦å³ä¸”äº§ç”Ÿè‡³å°‘ä¸€ä¸ªHDFSå—çš„è¾“å‡ºæ¯”è¾ƒåˆé€‚ é»˜è®¤çš„è¾“å…¥æ ¼å¼æ˜¯TexInputFormatï¼Œè¾“å‡ºæ˜¯TextOutpFormat è¾“å…¥æ ¼å¼è¾“å…¥åˆ†ç‰‡ä¸è®°å½• ä¸€ä¸ªè¾“å…¥åˆ†ç‰‡å°±æ˜¯ç”±å•ä¸ªmapæ“ä½œæ¥å¤„ç†çš„æ•°æ®å—ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªmapåªå¤„ç†ä¸€ä¸ªåˆ†ç‰‡ã€ æ¯ä¸ªè¾“å…¥åˆ†ç‰‡åˆ†ä¸ºè‹¥å¹²ä¸ªè®°å½•ï¼Œæ¯æ¡è®°å½•å°±æ˜¯ ä¸€ä¸ªé”®å€¼å¯¹ï¼Œmapå°†ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å¤„ç†è®°å½• è¾“å…¥åˆ†ç‰‡å’Œè®°å½•éƒ½æ˜¯é€»è¾‘æ¦‚å¿µï¼Œä¸ä¸€å®šå¯¹åº”ç€æ–‡ä»¶ï¼Œä¹Ÿå¯èƒ½å¯¹åº”å…¶ä»–æ•°æ®å½¢å¼ï¼Œå¦‚å¯¹äºæ•°æ®åº“ï¼Œè¾“å…¥åˆ†ç‰‡å°±æ˜¯å¯¹åº”äºä¸€ä¸ªè¡¨ä¸Šçš„è‹¥å¹²è¡Œï¼Œä¸€æ¡è®°å½•å¯¹åº”ç€å…¶ä¸­çš„ä¸€è¡Œ è¾“å…¥åˆ†ç‰‡åªæ˜¯æŒ‡å‘æ•°æ®çš„å¼•ç”¨ï¼Œä¸åŒ…å«æ•°æ®æœ¬èº« InputSpiltæ¥å£ï¼ˆJavaä¸­çš„å®ç°ï¼‰ï¼ŒåŒ…å« ä»¥å­—èŠ‚ä¸ºå•ä½çš„é•¿åº¦ï¼Œè¡¨ç¤ºåˆ†ç‰‡çš„å¤§å°ï¼Œç”¨ä»¥æ’åºåˆ†ç‰‡ï¼Œä»¥ä¾¿ä¼˜å…ˆå¤„ç†æœ€å¤§çš„åˆ†ç‰‡ï¼Œä»è€Œæœ€å°åŒ–ä½œä¸šè¿è¡Œæ—¶é—´ ä¸€ç»„å­˜å‚¨ä½ç½®ï¼Œä¾›MRç³»ç»Ÿä½¿ç”¨ä¸€è¾¹å°†mapä»»åŠ¡å°½å¯èƒ½æ”¾åœ¨åˆ†ç‰‡æ•°æ®é™„è¿‘ è¯¥æ¥å£ç”±InputFormatåˆ›å»º InputFormat è¿è¡Œä½œä¸šçš„å®¢æˆ·ç«¯ä½¿ç”¨getSplitsæ–¹æ³•è®¡ç®—åˆ†ç‰‡ï¼Œå¹¶å°†ç»“æœå‘ŠçŸ¥application masterï¼Œåè€…ä½¿ç”¨å…¶å­˜å‚¨ä¿¡æ¯æ¥è°ƒåº¦mapä»»åŠ¡ä»è€Œåœ¨é›†ç¾¤é›†ç¾¤ä¸Šå¤„ç†è¿™äº›åˆ†ç‰‡æ•°æ® mapä»»åŠ¡å°†è¾“å…¥åˆ†ç‰‡ä¼ ç»™createRecordReaderæ–¹æ³•æ¥è·å–è¿™ä¸ªåˆ†ç‰‡çš„RecordReaderï¼ˆå°±åƒæ˜¯è®°å½•ä¸Šçš„è¿­ä»£å™¨ï¼‰ï¼Œmapä»»åŠ¡ç”¨è¿™ä¸ªRecordReaderæ¥ç”Ÿæˆè®°å½•çš„é”®å€¼å¯¹ï¼Œç„¶åå†å°†é”®å€¼å¯¹ä¼ é€’ç»™mapå‡½æ•°ï¼ˆå‚è§runæ–¹æ³•ï¼‰ 1234567891011121314/////InputFormatæ¥å£public abstract class InputFormat&lt;K, V&gt; &#123; public abstract List&lt;InputSplit&gt; getSplits(JobContext context) throws IOException, InterruptedException; public abstract RecordReader&lt;K, V&gt; createRecordReader(InputSplit split, TaskAttemptContext context) throws IOException, InterruptedException;&#125;/////Mapperçš„runæ–¹æ³•public void run(Context context) throws IOException, InterruptedException &#123; setup(context); while (context.nextKeyValue()/*å§”æ‰˜ç»™RecorReaderçš„åŒåæ–¹æ³•ï¼Œä¸ºmapperäº§ç”Ÿé”®å€¼å¯¹*/) &#123; map(context.getCurrentKey(), context.getCurrentValue(), context);//ä»RecordReaderä¸­æ£€ç´¢å‡ºå¹¶ä¼ é€’ç»™mapæ–¹æ³• &#125; cleanup(context);&#125; æ–‡ä»¶è¾“å…¥â€“FileInputFormat FileInputFormatç±»æä¾›ä¸¤ä¸ªåŠŸèƒ½ï¼š æŒ‡å‡ºä½œä¸šçš„è¾“å…¥æ–‡ä»¶ä½ç½® å®ç°äº†ä¸ºè¾“å…¥æ–‡ä»¶äº§ç”Ÿè¾“å…¥åˆ†ç‰‡çš„åŠŸèƒ½ï¼ˆæŠŠåˆ†ç‰‡åˆ‡å‰²æˆè®°å½•çš„åŠŸèƒ½ç”±å…¶å­ç±»å®Œæˆï¼‰ è¾“å…¥è·¯å¾„public static void addInputPath(Job job, Path path)public static void addInputPaths(Job job, String commaSeparatedPaths)public static void setInputPaths(Job job, Path... inputPaths)public static void setInputPaths(Job job, String commaSeparatedPaths) å‰ä¸¤è€…ç”¨äºåŠ å…¥ä¸€ä¸ªæˆ–å¤šä¸ªè·¯å¾„åˆ°è·¯å¾„åˆ—è¡¨ä¸­ï¼Œåä¸¤è€…ä¸€æ¬¡è®¾å®šå®Œæ•´çš„è·¯å¾„åˆ—è¡¨ï¼ˆreplacing any paths set on the Job in previous callsï¼‰ ä¸€æ¡è·¯å¾„å¯ä»¥æ˜¯æ–‡ä»¶ã€ç›®å½•æˆ–è€…globï¼ˆæ–‡ä»¶å’Œç›®å½•çš„ç»“åˆï¼‰ï¼Œä½†æ˜¯ç›®å½•åœ¨é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šè¿›è¡Œé€’å½’å¤„ç†ï¼Œå¦‚æœç›®å½•ä¸‹å­˜åœ¨å­ç›®å½•ï¼Œåˆ™è¦ä¹ˆé‡‡ç”¨globçš„å½¢å¼ï¼Œè¦ä¹ˆè®¾ç½®è¿‡æ»¤å™¨è¿‡æ»¤å­ç›®å½•ï¼ˆå› ä¸ºå­ç›®å½•ä¼šè¢«å½“ä½œæ–‡ä»¶è€ŒæŠ¥é”™ï¼‰ï¼Œæˆ–è€…æ›´æ”¹å±æ€§è®¾ç½®è®©å…¶å¯ä»¥é€’å½’å¤„ç† FileInputFormatæœ‰é»˜è®¤è¿‡æ»¤å™¨ï¼Œç”¨ä»¥è¿‡æ»¤éšè—æ–‡ä»¶ï¼ˆè‡ªå®šä¹‰çš„è¿‡æ»¤å™¨ä¼šå’Œè¿™ä¸ªé»˜è®¤çš„ä¸€èµ·å·¥ä½œï¼‰ è¾“å…¥åˆ†ç‰‡ï¼š FileInputFormatåªåˆ†å‰²å¤§æ–‡ä»¶ï¼ˆè¶…è¿‡å—çš„å¤§å°ï¼‰ åˆ†ç‰‡è®¡ç®—å…¬å¼ max(minimumSize, min(maximumSize, blockSize)) é»˜è®¤æƒ…å†µ minimumSize &lt; blockSize &lt; maximumSize å°æ–‡ä»¶ä¸CombineFileInputFormat CombineFileInputFormatç±»å¯ä»¥æŠŠå¤šä¸ªæ–‡ä»¶æ‰“åŒ…åˆ°ä¸€ä¸ªåˆ†ç‰‡ä¸­ï¼ˆåœ¨å†³å®šå°†å“ªäº›å—æ”¾åˆ°åŒä¸€åˆ†ç‰‡æ—¶ï¼Œä¼šè€ƒè™‘èŠ‚ç‚¹å’Œæœºæ¶çš„å› ç´ ï¼‰ é¿å…åˆ‡åˆ† è®¾ç½®æœ€å°åˆ†ç‰‡å¤§å°ä»¥é¿å…åˆ‡åˆ†ã€ é‡å†™isSplitableæ–¹æ³• mapperä¸­æ–‡ä»¶ä¿¡æ¯ è°ƒç”¨Mapperç±»ä¸­Contextå¯¹è±¡çš„getInputSplitæ–¹æ³•æ¥è·å¾—InputSplitï¼Œå¯¹äºFileInputFormatï¼Œå®ƒä¼šè¢«è½¬æˆFileSplit æ³¨æ„æ­¤å¤„çš„getInputSplitæ–¹æ³•å’ŒInputFormatä¸­çš„getSplitæ–¹æ³•ï¼Œåè€…æ˜¯ç”¨äºä¸ºæ•´ä¸ªè¾“å…¥è®¡ç®—åˆ†ç‰‡ï¼Œè€Œå‰è€…æ˜¯ä¸ºæŸä¸ªmapperè·å–è¯¥è¾“å…¥åˆ†ç‰‡çš„ç›¸å…³ä¿¡æ¯ æŠŠæ•´ä¸ªæ–‡ä»¶ä½œä¸ºä¸€æ¡è®°å½•å¤„ç† å³ä¾¿ä¸åˆ†å‰²æ–‡ä»¶ï¼Œä»ç„¶éœ€è¦ä¸€ä¸ªRecordReaderæ¥è¯»å–æ–‡ä»¶å†…å®¹ä½œä¸ºrecordçš„å€¼ WholeFileRecordReader,java æ–‡æœ¬è¾“å…¥â€“TextInputFormatHadoopéå¸¸æ“…é•¿å¤„ç†éç»“æ„åŒ–æ–‡æœ¬æ•°æ® TextInputFormatæ˜¯é»˜è®¤çš„InputFormat æ¯æ¡è®°å½•æ˜¯ä¸€æ¡è¾“å…¥ï¼Œé”®æ˜¯LongWritableï¼Œå­˜å‚¨è¯¥è¡Œåœ¨æ•´ä¸ªæ–‡ä»¶ä¸­çš„å­—èŠ‚åç§»é‡ï¼Œå€¼æ˜¯è¯¥è¡Œçš„å†…å®¹ï¼ˆä¸åŒ…æ‹¬ä»»ä½•è¡Œç»ˆæ­¢ç¬¦ï¼‰ ç”±äºæ­¤å¤„çš„é€»è¾‘è®°å½•æ˜¯ä»¥è¡Œä¸ºå•ä½çš„ï¼Œå› è€Œå¯èƒ½å‡ºç°æŸä¸€è¡Œä¼šè·¨æ–‡ä»¶å—å­˜æ”¾ï¼Œä»æœªä¼šä¸ºâ€˜æœ¬åœ°åŒ–â€™çš„mapä»»åŠ¡å¸¦æ¥è¿œç¨‹è¯»æ“ä½œçš„å¼€é”€ï¼ˆè¿™æ˜¯å› ä¸ºåˆ†ç‰‡æ˜¯å’Œè¡Œå¯¹é½çš„è€Œä¸æ˜¯hdfså—ï¼Œå‚è€ƒå›¾ç¤ºï¼‰ æ§åˆ¶ä¸€è¡Œæœ€å¤§çš„é•¿åº¦ ç›®çš„æ˜¯åº”å¯¹æŸåçš„æ–‡ä»¶ï¼Œæ–‡ä»¶çš„æŸåå¯èƒ½å¯¹åº”ä¸€ä¸ªè¶…é•¿è¡Œï¼Œä»è€Œå¯¼è‡´å†…å­˜æº¢å‡º é•¿åº¦é€šè¿‡å±æ€§mapreduce.input.linerecordreader.line.maxlengthè®¾ç½® å…³äºKeyValueTextInputFFormat ç›®çš„æ˜¯åº”å¯¹é‚£äº›æ¯è¡Œå†…å®¹æ˜¯ä¸€ä¸ªé”®å€¼å¯¹çš„æ–‡ä»¶ï¼ˆä¹‹æ‰€ä»¥æ˜¯é”®å€¼å¯¹ï¼Œæ˜¯å› ä¸ºå®ƒç»è¿‡äº†ä¸€äº›æ“ä½œï¼Œæ¯”å¦‚TextOutputFormatçš„è¾“å‡ºå°±ä¼šå°†é”®å€¼å¯¹å†™å…¥æ–‡ä»¶ï¼Œä¸¤è€…ä¹‹é—´ä½¿ç”¨åˆ†éš”ç¬¦åˆ†å¼€ï¼‰ æ‰€ä»¥ä½¿ç”¨æ—¶è¦æŒ‡å®šé”®å€¼å¯¹ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯åˆ¶è¡¨ç¬¦ï¼ˆå±æ€§mapreduce.input.keyvaluelinere cordreader.key.value.separatorï¼‰ï¼Œä¸”ä¿æŒåŸæ¥çš„é”®è€Œä¸æ˜¯ä½¿ç”¨åç§»é‡ä½œä¸ºé”® å…³äºNLineInputFormat ä¸€èˆ¬æ¯ä¸ªmapperæ”¶åˆ°çš„è¡Œæ•°ä¸åŒï¼ˆè¡Œæ•°å–å†³äºåˆ†ç‰‡å¤§å°å’Œè¡Œé•¿åº¦ï¼‰ï¼Œé€šè¿‡è¯¥ç±»å¯æ˜¯ä½¿æ¯ä¸ªmapperæ”¶åˆ°çš„è¡Œæ•°ç›¸åŒ é”®æ˜¯æ–‡ä»¶ä¸­è¡Œçš„å­—èŠ‚åç§»é‡ï¼Œå€¼æ˜¯è¡Œæœ¬èº« åº”ç”¨åœºæ™¯ ä»¿çœŸ ç”¨Hadoopå¼•å¯¼ä»å¤šä¸ªæ•°æ®æºï¼ˆå¦‚æ•°æ®åº“ï¼‰åŠ è½½æ•°æ®ï¼Œæ¯è¡Œä¸€ä¸ªæ•°æ®æº å…³äºxml StreamXmlReccordReader","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"Parquetå­¦ä¹ ç¬”è®°","slug":"Parquetå­¦ä¹ ç¬”è®°","date":"2019-02-15T11:56:20.000Z","updated":"2021-05-23T13:21:37.192Z","comments":true,"path":"2019/02/15/Parquetå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://hareric.com/2019/02/15/Parquet%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"ç®€ä»‹Apache Parquetæ˜¯Hadoopç”Ÿæ€åœˆä¸­ä¸€ç§æ–°å‹åˆ—å¼å­˜å‚¨æ ¼å¼ï¼Œå®ƒå¯ä»¥å…¼å®¹Hadoopç”Ÿæ€åœˆä¸­å¤§å¤šæ•°è®¡ç®—æ¡†æ¶(Hadoopã€Sparkç­‰)ï¼Œè¢«å¤šç§æŸ¥è¯¢å¼•æ“æ”¯æŒ(Hiveã€Impalaã€Drillç­‰)ï¼Œå¹¶ä¸”å®ƒæ˜¯è¯­è¨€å’Œå¹³å°æ— å…³çš„ã€‚","text":"ç®€ä»‹Apache Parquetæ˜¯Hadoopç”Ÿæ€åœˆä¸­ä¸€ç§æ–°å‹åˆ—å¼å­˜å‚¨æ ¼å¼ï¼Œå®ƒå¯ä»¥å…¼å®¹Hadoopç”Ÿæ€åœˆä¸­å¤§å¤šæ•°è®¡ç®—æ¡†æ¶(Hadoopã€Sparkç­‰)ï¼Œè¢«å¤šç§æŸ¥è¯¢å¼•æ“æ”¯æŒ(Hiveã€Impalaã€Drillç­‰)ï¼Œå¹¶ä¸”å®ƒæ˜¯è¯­è¨€å’Œå¹³å°æ— å…³çš„ã€‚ Definition level &amp; Repetition levelå®šä¹‰definition LevelDefinition levelæŒ‡æ˜è¯¥åˆ—çš„è·¯å¾„ä¸Šå¤šå°‘ä¸ªå¯é€‰fieldè¢«å®šä¹‰äº†ã€‚ definition Levelæ˜¯è¯¥è·¯å¾„ä¸Šæœ‰å®šä¹‰çš„repeated field å’Œ optional fieldçš„ä¸ªæ•°ï¼Œä¸åŒ…æ‹¬required fieldï¼Œå› ä¸ºrequired fieldæ˜¯å¿…é¡»æœ‰å®šä¹‰çš„ã€‚ Repetition levelsRepetition levelæŒ‡æ˜è¯¥å€¼åœ¨è·¯å¾„ä¸­å“ªä¸ªrepeated fieldé‡å¤ã€‚ DLå’ŒRLçš„è®¡ç®— æˆ‘ä»¬ç”¨æ·±åº¦0è¡¨ç¤ºä¸€ä¸ªçºªå½•çš„å¼€å¤´ï¼ˆè™šæ‹Ÿçš„æ ¹èŠ‚ç‚¹ï¼‰ï¼Œæ·±åº¦çš„è®¡ç®—å¿½ç•¥éé‡å¤å­—æ®µï¼ˆæ ‡ç­¾ä¸æ˜¯repeatedçš„å­—æ®µéƒ½ä¸ç®—åœ¨æ·±åº¦é‡Œï¼‰ã€‚æ‰€ä»¥åœ¨Name.Language.Codeè¿™ä¸ªè·¯å¾„ä¸­ï¼ŒåŒ…å«ä¸¤ä¸ªé‡å¤å­—æ®µï¼ŒNameå’ŒLanguageï¼Œå¦‚æœåœ¨Nameå¤„é‡å¤ï¼Œé‡å¤æ·±åº¦ä¸º1ï¼ˆè™šæ‹Ÿçš„æ ¹èŠ‚ç‚¹æ˜¯0ï¼Œä¸‹ä¸€çº§å°±æ˜¯1ï¼‰ï¼Œåœ¨Languageå¤„é‡å¤å°±æ˜¯2ï¼Œä¸å¯èƒ½åœ¨Codeå¤„é‡å¤ï¼Œå®ƒæ˜¯requiredç±»å‹ï¼Œè¡¨ç¤ºæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªï¼›åŒæ ·çš„ï¼Œåœ¨è·¯å¾„Links.Forwardä¸­ï¼ŒLinksæ˜¯optionalçš„ï¼Œä¸å‚ä¸æ·±åº¦è®¡ç®—ï¼ˆä¸å¯èƒ½é‡å¤ï¼‰ï¼ŒForwardæ˜¯repeatedçš„ï¼Œå› æ­¤åªæœ‰åœ¨Forwardå¤„é‡å¤æ—¶é‡å¤æ·±åº¦ä¸º1ã€‚ Parquet Java exampleæ¥æºpomæ–‡ä»¶123456789101112131415161718&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt; &lt;artifactId&gt;parquet-avro&lt;/artifactId&gt; &lt;version&gt;1.10.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt; &lt;version&gt;0.23.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt; &lt;version&gt;2.7.1&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt;WriteParquet.java1234567891011121314151617181920212223242526272829303132333435363738import java.io.IOException;import java.util.ArrayList;import java.util.List;import org.apache.avro.Schema;import org.apache.avro.Schema.Field;import org.apache.avro.Schema.Type;import org.apache.avro.generic.GenericData;import org.apache.avro.generic.GenericData.Record;import org.apache.hadoop.fs.Path;import org.apache.parquet.avro.AvroParquetWriter;import org.apache.parquet.hadoop.ParquetWriter;import org.apache.parquet.hadoop.metadata.CompressionCodecName;public class WriteParquet &#123; public static void main(String[] args) throws IllegalArgumentException, IOException &#123; List&lt;Field&gt; fields = new ArrayList&lt;Field&gt;(); Object defaultValue = null; fields.add(new Field(&quot;x&quot;, Schema.create(Type.INT), &quot;x&quot;, defaultValue)); fields.add(new Field(&quot;y&quot;, Schema.create(Type.INT), &quot;y&quot;, defaultValue)); Schema schema = Schema.createRecord(&quot;name&quot;, &quot;doc&quot;, &quot;namespace&quot;, false, fields); try (ParquetWriter&lt;GenericData.Record&gt; writer = AvroParquetWriter.&lt;GenericData.Record&gt;builder( new Path(&quot;my-file.parquet&quot;)).withSchema(schema).withCompressionCodec(CompressionCodecName.SNAPPY) .build()) &#123; // æ¨¡æ‹Ÿ10000è¡Œæ•°æ® for (int r = 0; r &lt; 10000; ++r) &#123; Record record = new Record(schema); record.put(0, r); record.put(1, r * 3); writer.write(record); &#125; &#125; &#125;&#125;ReadParquet.java12345678910111213141516171819import java.io.IOException;import org.apache.avro.generic.GenericRecord;import org.apache.hadoop.fs.Path;import org.apache.parquet.avro.AvroParquetReader;import org.apache.parquet.hadoop.ParquetReader;public class ReadParquet &#123; public static void main(String[] args) throws IllegalArgumentException, IOException &#123; ParquetReader&lt;GenericRecord&gt; reader = AvroParquetReader.&lt;GenericRecord&gt;builder(new Path(&quot;my-file.parquet&quot;)) .build(); GenericRecord record; while ((record = reader.read()) != null) &#123; System.out.println(record); &#125; &#125;&#125;","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"Avroç®€ä»‹åŠJavaè¿ç”¨","slug":"Avroç®€ä»‹åŠJavaè¿ç”¨","date":"2019-02-15T04:36:05.000Z","updated":"2021-05-22T08:01:05.398Z","comments":true,"path":"2019/02/15/Avroç®€ä»‹åŠJavaè¿ç”¨/","link":"","permalink":"https://hareric.com/2019/02/15/Avro%E7%AE%80%E4%BB%8B%E5%8F%8AJava%E8%BF%90%E7%94%A8/","excerpt":"ç®€ä»‹Avroæ˜¯ä¸€ç§è¿œç¨‹è¿‡ç¨‹è°ƒç”¨å’Œæ•°æ®åºåˆ—åŒ–æ¡†æ¶ï¼Œæ˜¯åœ¨Apacheçš„Hadoopé¡¹ç›®ä¹‹å†…å¼€å‘çš„ã€‚å®ƒä½¿ç”¨JSONæ¥å®šä¹‰æ•°æ®ç±»å‹å’Œé€šè®¯åè®®ï¼Œä½¿ç”¨å‹ç¼©äºŒè¿›åˆ¶æ ¼å¼æ¥åºåˆ—åŒ–æ•°æ®ã€‚å®ƒä¸»è¦ç”¨äºHadoopï¼Œå®ƒå¯ä»¥ä¸ºæŒä¹…åŒ–æ•°æ®æä¾›ä¸€ç§åºåˆ—åŒ–æ ¼å¼ï¼ŒAvroæ˜¯ä¸€ä¸ªæ•°æ®åºåˆ—åŒ–çš„ç³»ç»Ÿã€‚å¯ä»¥å°†æ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬åŒ–æˆä¾¿äºå­˜å‚¨æˆ–ä¼ è¾“çš„æ ¼å¼ã€‚Avroè®¾è®¡ä¹‹åˆå°±ç”¨æ¥æ”¯æŒæ•°æ®å¯†é›†å‹åº”ç”¨ï¼Œé€‚åˆäºè¿œç¨‹æˆ–æœ¬åœ°å¤§è§„æ¨¡æ•°æ®çš„å­˜å‚¨å’Œäº¤æ¢ã€‚","text":"ç®€ä»‹Avroæ˜¯ä¸€ç§è¿œç¨‹è¿‡ç¨‹è°ƒç”¨å’Œæ•°æ®åºåˆ—åŒ–æ¡†æ¶ï¼Œæ˜¯åœ¨Apacheçš„Hadoopé¡¹ç›®ä¹‹å†…å¼€å‘çš„ã€‚å®ƒä½¿ç”¨JSONæ¥å®šä¹‰æ•°æ®ç±»å‹å’Œé€šè®¯åè®®ï¼Œä½¿ç”¨å‹ç¼©äºŒè¿›åˆ¶æ ¼å¼æ¥åºåˆ—åŒ–æ•°æ®ã€‚å®ƒä¸»è¦ç”¨äºHadoopï¼Œå®ƒå¯ä»¥ä¸ºæŒä¹…åŒ–æ•°æ®æä¾›ä¸€ç§åºåˆ—åŒ–æ ¼å¼ï¼ŒAvroæ˜¯ä¸€ä¸ªæ•°æ®åºåˆ—åŒ–çš„ç³»ç»Ÿã€‚å¯ä»¥å°†æ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬åŒ–æˆä¾¿äºå­˜å‚¨æˆ–ä¼ è¾“çš„æ ¼å¼ã€‚Avroè®¾è®¡ä¹‹åˆå°±ç”¨æ¥æ”¯æŒæ•°æ®å¯†é›†å‹åº”ç”¨ï¼Œé€‚åˆäºè¿œç¨‹æˆ–æœ¬åœ°å¤§è§„æ¨¡æ•°æ®çš„å­˜å‚¨å’Œäº¤æ¢ã€‚ åºåˆ—åŒ–åŠååºåˆ—åŒ–æ¦‚å¿µ æŠŠå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹ç§°ä¸ºå¯¹è±¡çš„åºåˆ—åŒ–ã€‚ æŠŠå­—èŠ‚åºåˆ—æ¢å¤ä¸ºå¯¹è±¡çš„è¿‡ç¨‹ç§°ä¸ºå¯¹è±¡çš„ååºåˆ—åŒ–ã€‚ å¯¹è±¡çš„åºåˆ—åŒ–ä¸»è¦æœ‰ä¸¤ç§ç”¨é€”ï¼š æŠŠå¯¹è±¡çš„å­—èŠ‚åºåˆ—æ°¸ä¹…åœ°ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œé€šå¸¸å­˜æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ åœ¨ç½‘ç»œä¸Šä¼ é€å¯¹è±¡çš„å­—èŠ‚åºåˆ—ã€‚ åœ¨å¾ˆå¤šåº”ç”¨ä¸­ï¼Œéœ€è¦å¯¹æŸäº›å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ï¼Œè®©å®ƒä»¬ç¦»å¼€å†…å­˜ç©ºé—´ï¼Œå…¥ä½ç‰©ç†ç¡¬ç›˜ï¼Œä»¥ä¾¿é•¿æœŸä¿å­˜ã€‚æ¯”å¦‚æœ€å¸¸è§çš„æ˜¯WebæœåŠ¡å™¨ä¸­çš„Sessionå¯¹è±¡ï¼Œå½“æœ‰ 10ä¸‡ç”¨æˆ·å¹¶å‘è®¿é—®ï¼Œå°±æœ‰å¯èƒ½å‡ºç°10ä¸‡ä¸ªSessionå¯¹è±¡ï¼Œå†…å­˜å¯èƒ½åƒä¸æ¶ˆï¼Œäºæ˜¯Webå®¹å™¨å°±ä¼šæŠŠä¸€äº›seesionå…ˆåºåˆ—åŒ–åˆ°ç¡¬ç›˜ä¸­ï¼Œç­‰è¦ç”¨äº†ï¼Œå†æŠŠä¿å­˜åœ¨ç¡¬ç›˜ä¸­çš„å¯¹è±¡è¿˜åŸåˆ°å†…å­˜ä¸­ã€‚ å½“ä¸¤ä¸ªè¿›ç¨‹åœ¨è¿›è¡Œè¿œç¨‹é€šä¿¡æ—¶ï¼Œå½¼æ­¤å¯ä»¥å‘é€å„ç§ç±»å‹çš„æ•°æ®ã€‚æ— è®ºæ˜¯ä½•ç§ç±»å‹çš„æ•°æ®ï¼Œéƒ½ä¼šä»¥äºŒè¿›åˆ¶åºåˆ—çš„å½¢å¼åœ¨ç½‘ç»œä¸Šä¼ é€ã€‚å‘é€æ–¹éœ€è¦æŠŠè¿™ä¸ªJavaå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—ï¼Œæ‰èƒ½åœ¨ç½‘ç»œä¸Šä¼ é€ï¼›æ¥æ”¶æ–¹åˆ™éœ€è¦æŠŠå­—èŠ‚åºåˆ—å†æ¢å¤ä¸ºJavaå¯¹è±¡ã€‚ Avroç‰¹ç‚¹ ä¸°å¯Œçš„æ•°æ®ç»“æ„ç±»å‹ï¼› å¿«é€Ÿå¯å‹ç¼©çš„äºŒè¿›åˆ¶æ•°æ®å½¢å¼ï¼Œå¯¹æ•°æ®äºŒè¿›åˆ¶åºåˆ—åŒ–åå¯ä»¥èŠ‚çº¦æ•°æ®å­˜å‚¨ç©ºé—´å’Œç½‘ç»œä¼ è¾“å¸¦å®½ï¼› å­˜å‚¨æŒä¹…æ•°æ®çš„æ–‡ä»¶å®¹å™¨ï¼› å¯ä»¥å®ç°è¿œç¨‹è¿‡ç¨‹è°ƒç”¨RPCï¼› ç®€å•çš„åŠ¨æ€è¯­è¨€ç»“åˆåŠŸèƒ½ã€‚ æ•°æ®ç±»å‹åŸºç¡€æ•°æ®ç±»å‹ Type Description Schema null the absence of a value â€œnullâ€ boolean a binary value â€œbooleanâ€ int 32-bit signed integer â€œintâ€ long 64-bit signed integer â€œlongâ€ float Single-precision (32-bit) IEEE 754 floating-point number â€œfloatâ€ double Double-precision (64-bit) IEEE 754 floating-point number â€œdoubleâ€ bytes Sequence of 8-bit unsigned bytes â€œbytesâ€ string Sequence of Unicode characters â€œstringâ€ å¤æ‚æ•°æ®ç±»å‹Avroæä¾›äº†6ç§å¤æ‚ç±»å‹ã€‚åˆ†åˆ«æ˜¯Recordï¼ŒEnumï¼ŒArrayï¼ŒMapï¼ŒUnionå’ŒFixedã€‚ RecordRecordæ˜¯ä¸€ä¸ªä»»æ„ç±»å‹çš„å‘½åå­—æ®µçš„é›†åˆ æ”¯æŒçš„å±æ€§è®¾ç½®ï¼š nameï¼šrecordç±»å‹çš„åå­—(å¿…å¡«) namespaceï¼šå‘½åç©ºé—´(å¯é€‰) docï¼šè¿™ä¸ªç±»å‹çš„æ–‡æ¡£è¯´æ˜(å¯é€‰) aliasesï¼šrecordç±»å‹çš„åˆ«åï¼Œæ˜¯ä¸ªå­—ç¬¦ä¸²æ•°ç»„(å¯é€‰) fieldsï¼šrecordç±»å‹ä¸­çš„å­—æ®µï¼Œæ˜¯ä¸ªå¯¹è±¡æ•°ç»„(å¿…å¡«)ã€‚æ¯ä¸ªå­—æ®µéœ€è¦ä»¥ä¸‹å±æ€§ï¼š nameï¼šå­—æ®µåå­—(å¿…å¡«) docï¼šå­—æ®µè¯´æ˜æ–‡æ¡£(å¯é€‰) typeï¼šä¸€ä¸ªschemaçš„jsonå¯¹è±¡æˆ–è€…ä¸€ä¸ªç±»å‹åå­—(å¿…å¡«) defaultï¼šé»˜è®¤å€¼(å¯é€‰) orderï¼šæ’åº(å¯é€‰)ï¼Œåªæœ‰3ä¸ªå€¼ascending(é»˜è®¤)ï¼Œdescendingæˆ–ignore aliasesï¼šåˆ«åï¼Œå­—ç¬¦ä¸²æ•°ç»„(å¯é€‰) ä¸€ä¸ªRecordç±»å‹ä¾‹å­ï¼Œå®šä¹‰ä¸€ä¸ªå…ƒç´ ç±»å‹æ˜¯Longçš„é“¾è¡¨ï¼š123456789&#123; &quot;type&quot;: &quot;record&quot;, &quot;name&quot;: &quot;LongList&quot;, &quot;aliases&quot;: [&quot;LinkedLongs&quot;], // old name for this &quot;fields&quot; : [ &#123;&quot;name&quot;: &quot;value&quot;, &quot;type&quot;: &quot;long&quot;&#125;, // each element has a long &#123;&quot;name&quot;: &quot;next&quot;, &quot;type&quot;: [&quot;null&quot;, &quot;LongList&quot;]&#125; // optional next element ]&#125; Enumæšä¸¾ç±»å‹çš„ç±»å‹åå­—æ˜¯â€enumâ€ï¼Œè¿˜æ”¯æŒå…¶å®ƒå±æ€§çš„è®¾ç½®ï¼š nameï¼šæšä¸¾ç±»å‹çš„åå­—(å¿…å¡«) namespaceï¼šå‘½åç©ºé—´(å¯é€‰) aliasesï¼šå­—ç¬¦ä¸²æ•°ç»„ï¼Œåˆ«å(å¯é€‰) docï¼šè¯´æ˜æ–‡æ¡£(å¯é€‰) symbolsï¼šå­—ç¬¦ä¸²æ•°ç»„ï¼Œæ‰€æœ‰çš„æšä¸¾å€¼(å¿…å¡«)ï¼Œä¸å…è®¸é‡å¤æ•°æ®ã€‚ ä¸€ä¸ªæšä¸¾ç±»å‹çš„ä¾‹å­ï¼š1234&#123; &quot;type&quot;: &quot;enum&quot;, &quot;name&quot;: &quot;Suit&quot;, &quot;symbols&quot; : [&quot;SPADES&quot;, &quot;HEARTS&quot;, &quot;DIAMONDS&quot;, &quot;CLUBS&quot;]&#125; Arrayæ•°ç»„ç±»å‹çš„ç±»å‹åå­—æ˜¯â€arrayâ€å¹¶ä¸”åªæ”¯æŒä¸€ä¸ªå±æ€§ï¼š itemsï¼šæ•°ç»„å…ƒç´ çš„schema ä¸€ä¸ªæ•°ç»„ä¾‹å­ï¼š1234&#123; &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: &quot;string&quot;&#125; MapMapç±»å‹çš„ç±»å‹åå­—æ˜¯â€mapâ€å¹¶ä¸”åªæ”¯æŒä¸€ä¸ªå±æ€§ï¼š valuesï¼šmapå€¼çš„schema Mapçš„keyå¿…é¡»æ˜¯å­—ç¬¦ä¸²ã€‚ ä¸€ä¸ªMapä¾‹å­ï¼š1234&#123; &quot;type&quot;: &quot;map&quot;, &quot;values&quot;: &quot;long&quot;&#125; Unionç»„åˆç±»å‹ï¼Œè¡¨ç¤ºå„ç§ç±»å‹çš„ç»„åˆï¼Œä½¿ç”¨æ•°ç»„è¿›è¡Œç»„åˆã€‚æ¯”å¦‚[â€œnullâ€, â€œstringâ€]è¡¨ç¤ºç±»å‹å¯ä»¥ä¸ºnullæˆ–è€…stringã€‚ å¦‚ä»¥ä¸‹ä¾‹å­12345678910&#123; &quot;type&quot;: &quot;record&quot;, &quot;namespace&quot;: &quot;com.example&quot;, &quot;name&quot;: &quot;FullName&quot;, &quot;fields&quot;: [ &#123; &quot;name&quot;: &quot;first&quot;, &quot;type&quot;: [&quot;null&quot;, &quot;string&quot;] &#125;, &#123; &quot;name&quot;: &quot;last&quot;, &quot;type&quot;: &quot;string&quot;, &quot;default&quot; : &quot;Doe&quot; &#125; ]&#125; ç»„åˆç±»å‹çš„é»˜è®¤å€¼æ˜¯çœ‹ç»„åˆç±»å‹çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤å¦‚æœä¸€ä¸ªç»„åˆç±»å‹åŒ…æ‹¬nullç±»å‹ï¼Œé‚£ä¹ˆnullç±»å‹ä¸€èˆ¬éƒ½ä¼šæ”¾åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¿™æ ·å­çš„è¯è¿™ä¸ªç»„åˆç±»å‹çš„é»˜è®¤å€¼å°±æ˜¯nullã€‚ ç»„åˆç±»å‹ä¸­ä¸å…è®¸åŒä¸€ç§ç±»å‹çš„å…ƒç´ çš„ä¸ªæ•°ä¸ä¼šè¶…è¿‡1ä¸ªï¼Œé™¤äº†recordï¼Œfixedå’Œenumã€‚æ¯”å¦‚ç»„åˆç±»ä¸­æœ‰2ä¸ªarrayç±»å‹æˆ–è€…2ä¸ªmapç±»å‹ï¼Œè¿™æ˜¯ä¸å…è®¸çš„ã€‚ ç»„åˆç±»å‹ä¸å…è®¸åµŒå¥—ç»„åˆç±»å‹ã€‚ Fixedæ··åˆç±»å‹çš„ç±»å‹åå­—æ˜¯fixedï¼Œæ”¯æŒä»¥ä¸‹å±æ€§ï¼š nameï¼šåå­—(å¿…å¡«) namespaceï¼šå‘½åç©ºé—´(å¯é€‰) aliasesï¼šå­—ç¬¦ä¸²æ•°ç»„ï¼Œåˆ«å(å¯é€‰) sizeï¼šä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ¯ä¸ªå€¼çš„å­—èŠ‚æ•°(å¿…å¡«) æ¯”å¦‚16ä¸ªå­—èŠ‚æ•°çš„fixedç±»å‹ä¾‹å­å¦‚ä¸‹ï¼š12345&#123; &quot;type&quot;: &quot;fixed&quot;, &quot;size&quot;: 16, &quot;name&quot;: &quot;md5&quot;&#125; javaå®è·µé…ç½®å¼•å…¥pom.xml12345&lt;dependency&gt; &lt;groupId&gt;org.apache.avro&lt;/groupId&gt; &lt;artifactId&gt;avro&lt;/artifactId&gt; &lt;version&gt;1.8.2&lt;/version&gt;&lt;/dependency&gt; ä¸‹è½½avro-toolavro-tools-1.8.2.jar è¯¥jaråŒ…ä¸»è¦ç”¨æˆ·å°†å®šä¹‰å¥½çš„schemaæ–‡ä»¶ç”Ÿæˆå¯¹åº”çš„javaæ–‡ä»¶ä¸‹è½½åœ°å€ schemaAvroä¾èµ–æ¨¡å¼(Schema)æ¥å®ç°æ•°æ®ç»“æ„å®šä¹‰ã€‚å¯ä»¥æŠŠæ¨¡å¼ç†è§£ä¸ºJavaçš„ç±»ï¼Œå®ƒå®šä¹‰æ¯ä¸ªå®ä¾‹çš„ç»“æ„ï¼Œå¯ä»¥åŒ…å«å“ªäº›å±æ€§ã€‚å¯ä»¥æ ¹æ®ç±»æ¥äº§ç”Ÿä»»æ„å¤šä¸ªå®ä¾‹å¯¹è±¡ã€‚å¯¹å®ä¾‹åºåˆ—åŒ–æ“ä½œæ—¶å¿…é¡»éœ€è¦çŸ¥é“å®ƒçš„åŸºæœ¬ç»“æ„ï¼Œä¹Ÿå°±éœ€è¦å‚è€ƒç±»çš„ä¿¡æ¯ã€‚è¿™é‡Œï¼Œæ ¹æ®æ¨¡å¼äº§ç”Ÿçš„Avroå¯¹è±¡ç±»ä¼¼äºç±»çš„å®ä¾‹å¯¹è±¡ã€‚æ¯æ¬¡åºåˆ—åŒ–/ååºåˆ—åŒ–æ—¶éƒ½éœ€è¦çŸ¥é“æ¨¡å¼çš„å…·ä½“ç»“æ„ã€‚æ‰€ä»¥ï¼Œåœ¨Avroå¯ç”¨çš„ä¸€äº›åœºæ™¯ä¸‹ï¼Œå¦‚æ–‡ä»¶å­˜å‚¨æˆ–æ˜¯ç½‘ç»œé€šä¿¡ï¼Œéƒ½éœ€è¦æ¨¡å¼ä¸æ•°æ®åŒæ—¶å­˜åœ¨ã€‚Avroæ•°æ®ä»¥æ¨¡å¼æ¥è¯»å’Œå†™(æ–‡ä»¶æˆ–æ˜¯ç½‘ç»œ)ï¼Œå¹¶ä¸”å†™å…¥çš„æ•°æ®éƒ½ä¸éœ€è¦åŠ å…¥å…¶å®ƒæ ‡è¯†ï¼Œè¿™æ ·åºåˆ—åŒ–æ—¶é€Ÿåº¦å¿«ä¸”ç»“æœå†…å®¹å°‘ã€‚ç”±äºç¨‹åºå¯ä»¥ç›´æ¥æ ¹æ®æ¨¡å¼æ¥å¤„ç†æ•°æ®ï¼Œæ‰€ä»¥Avroæ›´é€‚åˆäºè„šæœ¬è¯­è¨€çš„å‘æŒ¥ã€‚ å®šä¹‰schemaavroçš„schemaæ˜¯jsonæ ¼å¼ï¼Œæ”¯æŒå‰æ–‡æ‰€æè¿°çš„ç±»å‹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªschemaä¾‹å­ User.avsc12345678910111213141516171819202122232425&#123; &quot;type&quot;: &quot;record&quot;, &quot;name&quot;: &quot;User&quot;, &quot;fields&quot;: [ &#123; &quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot;, &quot;doc&quot;:&quot;å§“å&quot; &#125;, &#123; &quot;name&quot;: &quot;favorite_number&quot;, &quot;type&quot;: [ &quot;int&quot;, &quot;null&quot; ] &#125;, &#123; &quot;name&quot;: &quot;favorite_color&quot;, &quot;type&quot;: [ &quot;string&quot;, &quot;null&quot; ] &#125; ]&#125; ç¼–è¯‘schemaä½¿ç”¨avro-tools-1.8.2.jar ç¼–è¯‘ç¼–è¯‘å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š java -jar avro-tools-1.8.2.jar compile schema &lt;filename.avsc&gt; &lt;outputpath&gt; åºåˆ—åŒ–ä¸ååºåˆ—åŒ–avroçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ˜¯éœ€è¦åˆ©ç”¨schemaç”Ÿæˆå®ä½“ç±»ï¼Œå¦å¤–ä¸€ç§åªéœ€è¦æŒ‡å®šschemaå¹¶ä½¿ç”¨GenericRecordä½œä¸ºå®ä½“ã€‚ ç”Ÿæˆå®ä½“ç±»Userç¼–è¯‘schemaè‡³javaé¡¹ç›®srcç›®å½• åºåˆ—åŒ–AvroSerialize.java1234567891011121314151617181920212223242526272829303132import java.io.*;import org.apache.avro.file.*;import org.apache.avro.io.*;import org.apache.avro.specific.*; public class AvroSerialize &#123; public static void main(String args[]) throws IOException &#123; // æ–°å»º3ä¸ªå®ä½“ç±» User user1 = new User(); user1.setName(&quot;Alyssa&quot;); user1.setFavoriteNumber(256); User user2 = new User(&quot;Ben&quot;, 7, &quot;red&quot;); User user3 = User.newBuilder() .setName(&quot;Charlie&quot;) .setFavoriteColor(&quot;blue&quot;) .setFavoriteNumber(null) .build(); DatumWriter&lt;User&gt; userDatumWriter = new SpecificDatumWriter&lt;User&gt;(User.class); DataFileWriter&lt;User&gt; dataFileWriter = new DataFileWriter&lt;User&gt;(userDatumWriter); dataFileWriter.create(user1.getSchema(), new File(&quot;./src/main/avro/user.avro&quot;)); dataFileWriter.append(user1); dataFileWriter.append(user2); dataFileWriter.append(user3); dataFileWriter.close(); &#125;&#125; ååºåˆ—åŒ–123456789101112131415161718192021import java.io.*;import org.apache.avro.file.*;import org.apache.avro.io.*;import org.apache.avro.specific.*;public class AvroDeserialize &#123; public static void main(String args[]) &#123; DatumReader&lt;User&gt; reader = new SpecificDatumReader&lt;&gt;(User.class); DataFileReader&lt;User&gt; fileReader = null; try &#123; fileReader = new DataFileReader&lt;User&gt;(new File(&quot;./src/main/avro/user.avro&quot;), reader); User user = null; while (fileReader.hasNext()) &#123; user = fileReader.next(user); System.out.println(user); &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;&#125; è¾“å‡º {â€œnameâ€: â€œAlyssaâ€, â€œfavorite_numberâ€: 256, â€œfavorite_colorâ€: null}{â€œnameâ€: â€œBenâ€, â€œfavorite_numberâ€: 7, â€œfavorite_colorâ€: â€œredâ€}{â€œnameâ€: â€œCharlieâ€, â€œfavorite_numberâ€: null, â€œfavorite_colorâ€: â€œblueâ€} ä½¿ç”¨GenericRecordåºåˆ—åŒ–AvroGenericDeserializa.java123456789101112131415161718192021222324252627282930package avro;import java.io.*;import org.apache.avro.Schema;import org.apache.avro.file.*;import org.apache.avro.generic.*;import org.apache.avro.io.*;public class AvroGenericDeserializa &#123; public static void main(String args[]) throws IOException &#123; Schema schema = new Schema.Parser().parse(new File(&quot;./src/main/avro/User.avsc&quot;)); GenericRecord user1 = new GenericData.Record(schema); user1.put(&quot;name&quot;, &quot;Alyssa&quot;); user1.put(&quot;favorite_number&quot;, 256); GenericRecord user2 = new GenericData.Record(schema); user2.put(&quot;name&quot;, &quot;Ben&quot;); user2.put(&quot;favorite_number&quot;, 7); user2.put(&quot;favorite_color&quot;, &quot;red&quot;); File file = new File(&quot;./src/main/avro/user_generic.avro&quot;); DatumWriter&lt;GenericRecord&gt; datumWriter = new GenericDatumWriter&lt;GenericRecord&gt;(schema); DataFileWriter&lt;GenericRecord&gt; dataFileWriter = new DataFileWriter&lt;GenericRecord&gt;(datumWriter); dataFileWriter.create(schema, file); dataFileWriter.append(user1); dataFileWriter.append(user2); dataFileWriter.close(); &#125;&#125; ååºåˆ—åŒ–AvroGenericSerialize.java1234567891011121314151617181920import java.io.*;import org.apache.avro.Schema;import org.apache.avro.file.*;import org.apache.avro.generic.*;import org.apache.avro.io.*;public class AvroGenericSerialize &#123; public static void main(String args[]) throws IOException &#123; Schema schema = new Schema.Parser().parse(new File(&quot;./src/main/avro/User.avsc&quot;)); File file = new File(&quot;./src/main/avro/user_generic.avro&quot;); DatumReader&lt;GenericRecord&gt; datumReader = new GenericDatumReader&lt;GenericRecord&gt;(schema); DataFileReader&lt;GenericRecord&gt; dataFileReader = new DataFileReader&lt;GenericRecord&gt;(file, datumReader); GenericRecord user = null; while (dataFileReader.hasNext()) &#123; user = dataFileReader.next(user); System.out.println(user); &#125; &#125;&#125;è¾“å‡º {â€œnameâ€: â€œAlyssaâ€, â€œfavorite_numberâ€: 256, â€œfavorite_colorâ€: null}{â€œnameâ€: â€œBenâ€, â€œfavorite_numberâ€: 7, â€œfavorite_colorâ€: â€œredâ€}","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"Eclipse+Mavenæ„å»ºHadoopé¡¹ç›®","slug":"Eclipse+Mavenæ„å»ºHadoopé¡¹ç›®","date":"2019-01-31T16:00:00.000Z","updated":"2021-05-23T13:21:37.192Z","comments":true,"path":"2019/02/01/Eclipse+Mavenæ„å»ºHadoopé¡¹ç›®/","link":"","permalink":"https://hareric.com/2019/02/01/Eclipse+Maven%E6%9E%84%E5%BB%BAHadoop%E9%A1%B9%E7%9B%AE/","excerpt":"Mavenç¿»è¯‘ä¸ºâ€ä¸“å®¶â€ã€â€å†…è¡Œâ€ï¼Œæ˜¯ Apache ä¸‹çš„ä¸€ä¸ªçº¯ Java å¼€å‘çš„å¼€æºé¡¹ç›®ã€‚åŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹(Project Object Model ç¼©å†™ï¼šPOM)æ¦‚å¿µï¼ŒMavenåˆ©ç”¨ä¸€ä¸ªä¸­å¤®ä¿¡æ¯ç‰‡æ–­èƒ½ç®¡ç†ä¸€ä¸ªé¡¹ç›®çš„æ„å»ºã€æŠ¥å‘Šå’Œæ–‡æ¡£ç­‰æ­¥éª¤ã€‚Maven æ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¯¹ Java é¡¹ç›®è¿›è¡Œæ„å»ºã€ä¾èµ–ç®¡ç†ã€‚\nåœ¨å¼€å‘ä¸€äº›å¤§å‹é¡¹ç›®çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°å„ç§å„æ ·çš„å¼€æºåŒ…jarï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†åŠåŠ è½½jarï¼Œä½¿ç”¨mavenå¼€å‘é¡¹ç›®å¯ä»¥èŠ‚çœå¤§é‡æ—¶é—´ä¸”æ–¹ä¾¿é¡¹ç›®ç§»åŠ¨è‡³æ–°çš„å¼€å‘ç¯å¢ƒã€‚","text":"Mavenç¿»è¯‘ä¸ºâ€ä¸“å®¶â€ã€â€å†…è¡Œâ€ï¼Œæ˜¯ Apache ä¸‹çš„ä¸€ä¸ªçº¯ Java å¼€å‘çš„å¼€æºé¡¹ç›®ã€‚åŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹(Project Object Model ç¼©å†™ï¼šPOM)æ¦‚å¿µï¼ŒMavenåˆ©ç”¨ä¸€ä¸ªä¸­å¤®ä¿¡æ¯ç‰‡æ–­èƒ½ç®¡ç†ä¸€ä¸ªé¡¹ç›®çš„æ„å»ºã€æŠ¥å‘Šå’Œæ–‡æ¡£ç­‰æ­¥éª¤ã€‚Maven æ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¯¹ Java é¡¹ç›®è¿›è¡Œæ„å»ºã€ä¾èµ–ç®¡ç†ã€‚ åœ¨å¼€å‘ä¸€äº›å¤§å‹é¡¹ç›®çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°å„ç§å„æ ·çš„å¼€æºåŒ…jarï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†åŠåŠ è½½jarï¼Œä½¿ç”¨mavenå¼€å‘é¡¹ç›®å¯ä»¥èŠ‚çœå¤§é‡æ—¶é—´ä¸”æ–¹ä¾¿é¡¹ç›®ç§»åŠ¨è‡³æ–°çš„å¼€å‘ç¯å¢ƒã€‚ å¼€å‘ç¯å¢ƒ ç³»ç»Ÿï¼šMacOS 10.14.1 Hadoopï¼š2.7.0 Javaï¼š1.8.0 Eclipseï¼š4.6.2 Maven: 3.3.9 Mavenå®‰è£…æˆ‘ä½¿ç”¨çš„è¿™ä¸ªç‰ˆæœ¬çš„Eclipseå·²ç»è‡ªå¸¦äº†Mavenæ’ä»¶ï¼Œä¸éœ€è¦åœ¨è‡ªè¡Œå®‰è£…ï¼Œå› æ­¤æˆ‘ä¹Ÿæ²¡æœ‰å®é™…æ“ä½œï¼Œæœ¬æ–‡å°±ä¸ä»‹ç»å¦‚ä½•é…ç½®ã€‚ è‡³äºæ€ä¹ˆçŸ¥é“è‡ªå·±ä½¿ç”¨çš„Eclipseæ˜¯å¦è‡ªå¸¦æœ‰Mavenï¼Œå¯ä»¥åœ¨Eclipse-&gt;Preference-&gt;Maven-&gt;InstallationsæŸ¥çœ‹æ˜¯å¦æœ‰MavenåŠç‰ˆæœ¬å·ã€‚æˆ–è€…ç›´æ¥æ–°å»ºé¡¹ç›®æŸ¥çœ‹æ˜¯å¦æœ‰Mavené€‰é¡¹ã€‚ æ„å»ºHadoopç¯å¢ƒåˆ›å»ºMavené¡¹ç›®æ‰“å¼€Eclipseï¼ŒFile-&gt;new-&gt;projectï¼Œé€‰æ‹©Mavenï¼Œç„¶åä¸‹ä¸€æ­¥next é€‰æ‹©Creat a simple projectï¼Œç„¶åä¸‹ä¸€æ­¥next è¾“å…¥Group idå’Œartifact idã€‚ç„¶åfinishã€‚ groupidå’ŒartifactIdè¢«ç»Ÿç§°ä¸ºâ€œåæ ‡â€æ˜¯ä¸ºäº†ä¿è¯é¡¹ç›®å”¯ä¸€æ€§è€Œæå‡ºçš„ï¼Œå¦‚æœä½ è¦æŠŠä½ é¡¹ç›®å¼„åˆ°mavenæœ¬åœ°ä»“åº“å»ï¼Œä½ æƒ³è¦æ‰¾åˆ°ä½ çš„é¡¹ç›®å°±å¿…é¡»æ ¹æ®è¿™ä¸¤ä¸ªidå»æŸ¥æ‰¾ã€‚ groupIdä¸€èˆ¬åˆ†ä¸ºå¤šä¸ªæ®µï¼Œè¿™é‡Œæˆ‘åªè¯´ä¸¤æ®µï¼Œç¬¬ä¸€æ®µä¸ºåŸŸï¼Œç¬¬äºŒæ®µä¸ºå…¬å¸åç§°ã€‚åŸŸåˆåˆ†ä¸ºorgã€comã€cnç­‰ç­‰è®¸å¤šï¼Œå…¶ä¸­orgä¸ºéè¥åˆ©ç»„ç»‡ï¼Œcomä¸ºå•†ä¸šç»„ç»‡ã€‚ä¸¾ä¸ªapacheå…¬å¸çš„tomcaté¡¹ç›®ä¾‹å­ï¼šè¿™ä¸ªé¡¹ç›®çš„groupIdæ˜¯org.apacheï¼Œå®ƒçš„åŸŸæ˜¯orgï¼ˆå› ä¸ºtomcatæ˜¯éè¥åˆ©é¡¹ç›®ï¼‰ï¼Œå…¬å¸åç§°æ˜¯apacheï¼ŒartigactIdæ˜¯tomcatã€‚ æ¯”å¦‚æˆ‘åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘ä¸€èˆ¬ä¼šå°†groupIdè®¾ç½®ä¸ºcn.snowinï¼Œcnè¡¨ç¤ºåŸŸä¸ºä¸­å›½ï¼Œsnowinæ˜¯æˆ‘ä¸ªäººå§“åç¼©å†™ï¼ŒartifactIdè®¾ç½®ä¸ºtestProjï¼Œè¡¨ç¤ºä½ è¿™ä¸ªé¡¹ç›®çš„åç§°æ˜¯testProjï¼Œä¾ç…§è¿™ä¸ªè®¾ç½®ï¼Œä½ çš„åŒ…ç»“æ„æœ€åæ˜¯cn.snowin.testProjæ‰“å¤´ã€‚(å¼•è‡ªé“¾æ¥) å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œå°±å¯ä»¥åœ¨Project Explorerä¸­çœ‹åˆ°åˆšåˆšåˆ›å»ºçš„Mavené¡¹ç›®ã€‚ å¢åŠ Hadoopä¾èµ–æˆ‘ä½¿ç”¨çš„Hadoop 2.7ç‰ˆæœ¬ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„POMé…ç½®æ–‡ä»¶12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;practice.hadoop&lt;/groupId&gt; &lt;artifactId&gt;simple-examples&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;simple-examples&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-common --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-client --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.mrunit&lt;/groupId&gt; &lt;artifactId&gt;mrunit&lt;/artifactId&gt; &lt;version&gt;1.1.0&lt;/version&gt; &lt;classifier&gt;hadoop2&lt;/classifier&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-mapreduce-client-core --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-yarn-api --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-yarn-api&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-auth --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-minicluster --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-minicluster&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-mapreduce-client-jobclient --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-mapreduce-client-jobclient&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; åœ¨Project Explorerä¸­å³é”®è¯¥é¡¹ç›®ï¼Œé€‰æ‹©build projectï¼ŒMavenå°±ä¼šæ ¹æ®POM.xmlé…ç½®æ–‡ä»¶ä¸‹è½½æ‰€éœ€è¦çš„jaråŒ…ã€‚ ç¨ç­‰ä¸€æ®µæ—¶é—´åï¼Œå°±å¯ä»¥çœ‹åˆ°Maven Dependenciesä¸­å·²ç»ä¸‹è½½å¥½çš„jaråŒ…ã€‚ hadoopé…ç½®æ–‡ä»¶è¿è¡Œ MapReduce ç¨‹åºå‰ï¼ŒåŠ¡å¿…å°† /usr/local/Cellar/hadoop/2.7.0/libexec/etc/hadoop ä¸­å°†æœ‰ä¿®æ”¹è¿‡çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚ä¼ªåˆ†å¸ƒå¼éœ€è¦core-site.xml å’Œ hdfs-site.xmlï¼‰ï¼Œä»¥åŠlog4j.propertieså¤åˆ¶åˆ°src/main/resources/ MapReduceå®ä¾‹â€”WordCountåœ¨src/main/java/è·¯å¾„ä¸‹ï¼Œåˆ›å»ºjavaæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475import java.io.IOException;import java.util.StringTokenizer;import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.fs.Path;import org.apache.hadoop.io.IntWritable;import org.apache.hadoop.io.Text;import org.apache.hadoop.mapreduce.Job;import org.apache.hadoop.mapreduce.Mapper;import org.apache.hadoop.mapreduce.Reducer;import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;import org.apache.hadoop.util.GenericOptionsParser;public class WordCount &#123; public static class TokenizerMapper extends Mapper&lt;Object, Text, Text, IntWritable&gt; &#123; /** * LongWritable, IntWritable, Text å‡æ˜¯ Hadoop ä¸­å®ç°çš„ç”¨äºå°è£… Java * æ•°æ®ç±»å‹çš„ç±»ï¼Œè¿™äº›ç±»å®ç°äº†WritableComparableæ¥å£ï¼Œ * éƒ½èƒ½å¤Ÿè¢«ä¸²è¡ŒåŒ–ä»è€Œä¾¿äºåœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œä½ å¯ä»¥å°†å®ƒä»¬åˆ†åˆ«è§†ä¸ºlong,int,String çš„æ›¿ä»£å“ã€‚ */ private final static IntWritable one = new IntWritable(1); // å€¼ä¸º1 private Text word = new Text(); public void map(Object key, Text value, Context context) throws IOException, InterruptedException &#123; StringTokenizer itr = new StringTokenizer(value.toString()); // å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡åˆ† while (itr.hasMoreTokens()) &#123; word.set(itr.nextToken()); context.write(word, one); &#125; &#125; &#125; public static class IntSumReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; &#123; private IntWritable result = new IntWritable(); public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context) throws IOException, InterruptedException &#123; int sum = 0; for (IntWritable val : values) &#123; sum += val.get(); &#125; result.set(sum); context.write(key, result); &#125; &#125; public static void main(String[] args) throws Exception &#123; Configuration conf = new Configuration(); conf.addResource(&quot;classpath:/hadoop/core-site.xml&quot;); conf.addResource(&quot;classpath:/hadoop/hdfs-site.xml&quot;); conf.addResource(&quot;classpath:/hadoop/mapred-site.xml&quot;);// String[] otherArgs = new GenericOptionsParser(conf, args).getRemainingArgs(); String[] otherArgs = &#123;&quot;/input&quot;, &quot;/output&quot;&#125;; if (otherArgs.length != 2) &#123; System.err.println(&quot;Usage: wordcount &lt;in&gt; &lt;out&gt;&quot;); System.exit(2); &#125; Job job = new Job(conf, &quot;word count&quot;); job.setJarByClass(WordCount.class); job.setMapperClass(TokenizerMapper.class); job.setCombinerClass(IntSumReducer.class); job.setReducerClass(IntSumReducer.class); job.setOutputKeyClass(Text.class); job.setOutputValueClass(IntWritable.class); FileInputFormat.setInputDirRecursive(job, true); FileInputFormat.addInputPath(job, new Path(otherArgs[0])); FileOutputFormat.setOutputPath(job, new Path(otherArgs[1])); System.exit(job.waitForCompletion(true) ? 0 : 1); &#125;&#125;","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"ã€ŠHadoopæƒå¨æŒ‡å—ã€‹ch6 MapReduceé…ç½®","slug":"ã€ŠHadoopæƒå¨æŒ‡å—ã€‹ch6 MapReduceé…ç½®","date":"2019-01-28T16:00:00.000Z","updated":"2021-05-23T13:21:37.191Z","comments":true,"path":"2019/01/29/ã€ŠHadoopæƒå¨æŒ‡å—ã€‹ch6 MapReduceé…ç½®/","link":"","permalink":"https://hareric.com/2019/01/29/%E3%80%8AHadoop%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8Bch6%20MapReduce%E9%85%8D%E7%BD%AE/","excerpt":"Hadoop Configuration APIHadoopä¸­çš„ç»„ä»¶Componentsæ˜¯é€šè¿‡Hadoopè‡ªå¸¦çš„APIè¿›è¡Œé…ç½®çš„ã€‚ä¸€ä¸ªConfigurationç±»ï¼ˆorg.apache.hadoop.confï¼‰çš„å®ä¾‹ä»£è¡¨é…ç½®å±æ€§åŠå…¶å–å€¼çš„ä¸€ä¸ªé›†åˆã€‚æ¯ä¸ªå±æ€§æœ‰ä¸€ä¸ªStringè¿›è¡Œå‘½åå¹¶ä½œä¸ºä¸€ä¸ªkeyï¼Œè€Œå€¼çš„ç±»å‹åŒ…æ‹¬Javaçš„åŸºæœ¬ç±»å‹å¦‚ï¼ˆbooleanã€intã€longã€floatç­‰ï¼‰ã€‚Configurationå®ä¾‹å¯ä»¥ä»XMLæ–‡ä»¶ä¸­è¯»å–å±æ€§å€¼ã€‚","text":"Hadoop Configuration APIHadoopä¸­çš„ç»„ä»¶Componentsæ˜¯é€šè¿‡Hadoopè‡ªå¸¦çš„APIè¿›è¡Œé…ç½®çš„ã€‚ä¸€ä¸ªConfigurationç±»ï¼ˆorg.apache.hadoop.confï¼‰çš„å®ä¾‹ä»£è¡¨é…ç½®å±æ€§åŠå…¶å–å€¼çš„ä¸€ä¸ªé›†åˆã€‚æ¯ä¸ªå±æ€§æœ‰ä¸€ä¸ªStringè¿›è¡Œå‘½åå¹¶ä½œä¸ºä¸€ä¸ªkeyï¼Œè€Œå€¼çš„ç±»å‹åŒ…æ‹¬Javaçš„åŸºæœ¬ç±»å‹å¦‚ï¼ˆbooleanã€intã€longã€floatç­‰ï¼‰ã€‚Configurationå®ä¾‹å¯ä»¥ä»XMLæ–‡ä»¶ä¸­è¯»å–å±æ€§å€¼ã€‚ XMLé…ç½®æ–‡ä»¶çš„åˆ›å»ºåŠä½¿ç”¨ ä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶configuration-1.xml123456789101112131415161718192021&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;configuration&gt; &lt;property&gt; &lt;name&gt;color&lt;/name&gt; &lt;value&gt;yellow&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;size&lt;/name&gt; &lt;value&gt;10&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;weight&lt;/name&gt; &lt;value&gt;heavy&lt;/value&gt; &lt;final&gt;true&lt;/final&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;size-weight&lt;/name&gt; &lt;value&gt;$&#123;size&#125;,$&#123;weight&#125;&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; é…ç½®æ–‡ä»¶éœ€è¦æ”¾ç½®åœ¨MapReduceé¡¹ç›®çš„srcç›®å½•ä¸‹ã€‚å®ä¾‹åŒ–Configurationï¼Œå¹¶ä½¿ç”¨get()æ–¹æ³•è·å–æŒ‡å®šå±æ€§çš„å€¼ã€‚å¦å¤–ï¼Œget()æ–¹æ³•å…è®¸ä¸ºXMLæ–‡ä»¶ä¸­æ²¡æœ‰å®šä¹‰çš„å±æ€§æŒ‡å®šé»˜è®¤å€¼ã€‚ Javaä»£ç å¦‚ä¸‹12345678910111213import org.apache.hadoop.conf.*;public class TestConfiguration &#123; public static void main(String[] args) throws Exception&#123; Configuration conf = new Configuration(); conf.addResource(&quot;configuration-1.xml&quot;); System.out.println(conf.get(&quot;color&quot;)); // è¾“å‡ºä¸ºâ€œyelloâ€ System.out.println(conf.getInt(&quot;size&quot;, 0)); // è¾“å‡ºä¸º10 System.out.println(conf.get(&quot;breadth&quot;, &quot;wide&quot;)); //è¾“å‡ºä¸ºâ€œwideâ€ &#125;&#125; èµ„æºåˆå¹¶ï¼ˆCombining Resourceï¼‰Configurationç±»æ˜¯æ·»åŠ å¤šä¸ªé…ç½®æ–‡ä»¶çš„ï¼Œåæ¥æ·»åŠ åˆ°èµ„æºæ–‡ä»¶çš„å±æ€§ä¼šè¦†ç›–ä¹‹å‰çš„å®šä¹‰å±æ€§ã€‚ä½†è‹¥å±æ€§çš„finalå€¼ä¸ºtrueçš„è¯ï¼Œæ„å‘³è¯¥å±æ€§å€¼ä¸èƒ½è¢«åé¢çš„å®šä¹‰æ‰€è¦†ç›–ã€‚è‹¥å°è¯•ç€è¦†ç›–ï¼Œå°†ä¼šå¼¹å‡ºè­¦å‘Šæ¶ˆæ¯å¸®åŠ©è¿›è¡Œæ•…éšœè¯Šæ–­ã€‚ ç¬¬äºŒä¸ªé…ç½®æ–‡ä»¶configuration-2.xml123456789101112&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;configuration&gt; &lt;property&gt; &lt;name&gt;size&lt;/name&gt; &lt;value&gt;12&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;weight&lt;/name&gt; &lt;value&gt;light&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; Javaä»£ç å¦‚ä¸‹12345678910111213import org.apache.hadoop.conf.*;public class TestConfiguration &#123; public static void main(String[] args) throws Exception&#123; Configuration conf = new Configuration(); conf.addResource(&quot;configuration-1.xml&quot;); conf.addResource(&quot;configuration-2.xml&quot;); System.out.println(conf.getInt(&quot;size&quot;, 0)); // è¾“å‡ºä¸º12ï¼Œsizeå±æ€§å€¼è¢«ç¬¬äºŒä¸ªé…ç½®æ–‡ä»¶è¦†ç›– System.out.println(conf.get(&quot;weight&quot;)); // è¾“å‡ºä¸º&quot;light&quot;ï¼Œweightå±æ€§çš„finalå€¼ä¸ºtrueï¼Œæ— æ³•è¢«è¦†ç›–è¾“å‡ºä¸å˜ &#125;&#125; å› å°è¯•ç€override weightå±æ€§å€¼ï¼ŒæŠ¥ä»¥ä¸‹è­¦å‘Š å˜é‡æ‰©å±•ï¼ˆVariable Expansionï¼‰é…ç½®æ–‡ä»¶å¯ä»¥å®šä¹‰é…ç½®å±æ€§ï¼Œå¦‚ç¬¬ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼Œsize-weightè®¢äº†${size}å’Œ${weight}ã€‚æ­¤å¤–ï¼Œåœ¨ç¨‹åºä¸­å¯ä»¥å¦å¤–å®šä¹‰ç³»ç»Ÿå±æ€§ï¼Œç³»ç»Ÿå±æ€§çš„ä¼˜å…ˆçº§é«˜äºèµ„æºæ–‡ä»¶ä¸­å®šä¹‰çš„é…ç½®å±æ€§ã€‚1234567891011121314151617181920import org.apache.hadoop.conf.*;public class TestConfiguration &#123; public static void main(String[] args) throws Exception&#123; Configuration conf = new Configuration(); conf.addResource(&quot;configuration-1.xml&quot;); conf.addResource(&quot;configuration-2.xml&quot;); System.setProperty(&quot;size&quot;, &quot;14&quot;); // é…ç½®å±æ€§å¯ä»¥ç”¨ç³»ç»Ÿå±æ€§è¿›è¡Œå®šä¹‰ System.setProperty(&quot;weight&quot;, &quot;super heavy&quot;); System.out.println(&quot;ç³»ç»Ÿå±æ€§sizeä¸º &quot; + System.getProperty(&quot;size&quot;)); // è¾“å‡ºä¸º14 System.out.println(&quot;ç³»ç»Ÿå±æ€§weightä¸º &quot; + System.getProperty(&quot;weight&quot;)); // è¾“å‡ºä¸ºsuper heavy System.out.println(&quot;é…ç½®å±æ€§sizeä¸º &quot; + conf.get(&quot;size&quot;)); // è¾“å‡ºå€¼ä»ä¸º12 System.out.println(&quot;é…ç½®å±æ€§weightä¸º &quot; + conf.get(&quot;weight&quot;)); // è¾“å‡ºå€¼ä»ä¸ºlight &#125; &#125; è¾…åŠ©ç±»GenericOptionsParser, Toolå’ŒToolRunnerHadoopæä¾›äº†è¾…åŠ©ç±»ï¼ŒGenericOptionsParserï¼šç”¨æ¥è§£é‡Šå¸¸ç”¨çš„Hadoopå‘½ä»¤é€‰é¡¹ï¼Œä½†æ˜¯ä¸€èˆ¬æ›´å¸¸ç”¨çš„æ–¹å¼:å®ç°Toolæ¥å£ï¼Œé€šè¿‡ToolsRunneræ¥è¿è¡Œç¨‹åºï¼ŒToolRunnerå†…éƒ¨è°ƒç”¨GenericOptionsParser123456789101112131415161718192021222324252627282930package configuration;import java.util.Map.Entry;import org.apache.hadoop.conf.*;import org.apache.hadoop.util.*;public class ConfigurationPrinter extends Configured implements Tool &#123; // å°†é…ç½®æ–‡ä»¶æ·»åŠ è¿›èµ„æºï¼Œè‹¥é…ç½®æ— éœ€ä¿®æ”¹ï¼ˆå³srcæ–‡ä»¶å¤¹æ— é…ç½®æ–‡ä»¶ï¼‰ï¼Œåˆ™æ— éœ€æ‰§è¡Œ // static &#123;// Configuration.addDefaultResource(&quot;hdfs-default.xml&quot;);// Configuration.addDefaultResource(&quot;hdfs-site.xml&quot;);// Configuration.addDefaultResource(&quot;mapred-default.xml&quot;);// Configuration.addDefaultResource(&quot;mapred-site.xml&quot;);// &#125; @Override public int run(String[] args) throws Exception &#123; Configuration conf = getConf(); for (Entry&lt;String, String&gt; entry : conf) &#123; System.out.printf(&quot;%s=%s\\n&quot;, entry.getKey(), entry.getValue()); &#125; return 0; &#125; public static void main(String[] args) throws Exception &#123; int exitCode = ToolRunner.run(new ConfigurationPrinter(), args); System.exit(exitCode); &#125;&#125;ConfigurationPrinterçš„main()æ²¡æœ‰ç›´æ¥è°ƒç”¨è‡ªèº«çš„run()ï¼Œè€Œæ˜¯è°ƒç”¨äº†ToolRunnerçš„é™æ€run()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•åœ¨è°ƒç”¨è‡ªèº«çš„run()ä¹‹å‰ï¼Œä¸ºToolå»ºç«‹ä¸€ä¸ªConfigurationå¯¹è±¡ã€‚","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"Hadoopå¼€å‘å®ä¾‹ ä½¿ç”¨Eclipseå®ç°WordCount","slug":"Hadoopå¼€å‘å®ä¾‹ ä½¿ç”¨Eclipseå®ç°WordCount","date":"2019-01-28T03:45:48.000Z","updated":"2021-05-23T13:21:37.192Z","comments":true,"path":"2019/01/28/Hadoopå¼€å‘å®ä¾‹ ä½¿ç”¨Eclipseå®ç°WordCount/","link":"","permalink":"https://hareric.com/2019/01/28/Hadoop%E5%BC%80%E5%8F%91%E5%AE%9E%E4%BE%8B%20%E4%BD%BF%E7%94%A8Eclipse%E5%AE%9E%E7%8E%B0WordCount/","excerpt":"åœ¨å­¦ä¹ Hadoopä¸­ï¼ŒWordCountæ˜¯è®¸å¤šäººæ¥è§¦çš„ç¬¬ä¸€ä¸ªMapReduceç¨‹åºï¼Œæˆ‘ä¹Ÿä¸ä¾‹å¤–ã€‚é€šè¿‡åœ¨ç½‘ç»œä¸Šå­¦ä¹ æ‰¾åˆ°äº†ä¸å°‘å¸–å­ï¼Œä½†å¤§å¤šæ•°æ˜¯ä½¿ç”¨ç»ˆç«¯è¿è¡Œhadoop jar WordCount.jarå®ç°çš„ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨Eclipseå¼€å‘å¹¶è¿è¡ŒWordCountã€‚","text":"åœ¨å­¦ä¹ Hadoopä¸­ï¼ŒWordCountæ˜¯è®¸å¤šäººæ¥è§¦çš„ç¬¬ä¸€ä¸ªMapReduceç¨‹åºï¼Œæˆ‘ä¹Ÿä¸ä¾‹å¤–ã€‚é€šè¿‡åœ¨ç½‘ç»œä¸Šå­¦ä¹ æ‰¾åˆ°äº†ä¸å°‘å¸–å­ï¼Œä½†å¤§å¤šæ•°æ˜¯ä½¿ç”¨ç»ˆç«¯è¿è¡Œhadoop jar WordCount.jarå®ç°çš„ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨Eclipseå¼€å‘å¹¶è¿è¡ŒWordCountã€‚ å¼€å‘ç¯å¢ƒ ç³»ç»Ÿï¼šMacOS 10.14.1 Hadoopï¼š2.7.0 Javaï¼š1.8.0 Eclipseï¼š4.6.2 é…ç½®Eclipseæ·»åŠ hadoop-eclipse-pluginæ’ä»¶æ–°å®‰è£…çš„Eclipseé€šå¸¸æ˜¯æ— æ³•ç›´æ¥æ–°å»ºMapReduceç¨‹åºï¼Œéœ€è¦æ·»åŠ hadoop-eclipse-pluginæ’ä»¶ï¼Œä¸‹è½½åœ°å€ã€‚æ­¤å¤„ä»¥macOSä¸ºä¾‹ã€‚ å…ˆä¸‹è½½hadoop_eclipse_pluginæ’ä»¶ è¿›å…¥åˆ°eclipseçš„dropinsç›®å½•åœ¨Finderä¸­æ‰¾åˆ°åº”ç”¨ç¨‹åºï¼Œç„¶åæ‰¾åˆ°eclipse.è¿™æ—¶eclipseæ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªappï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç›®å½•ã€‚å³é”®ç‚¹å‡»åï¼Œæ‰“å¼€é€‰æ‹©æ˜¾ç¤ºåŒ…å†…å®¹ï¼Œå°±å¯ä»¥æ‰¾åˆ°eclipseçš„åº”ç”¨ç¨‹åºç›®å½•äº† æŠŠhadoop_eclipse_plugin.jaræ”¾è¿›dropinsæ–‡ä»¶å¤¹å†…ã€‚ é‡å¯eclipseï¼Œæ‰“å¼€window-&gt; show view-&gt; other-&gt; MapReduce Tools,é€‰æ‹©Map/Reduce Locations ä¸Hadoopé›†ç¾¤å»ºç«‹è¿æ¥ç‚¹å‡»Eclipseçš„Map/Reduce Locationsé¢æ¿åœ¨é¢æ¿ä¸­å•å‡»å³é”®ï¼Œé€‰æ‹©New Hadoop Locationã€‚åœ¨å¼¹å‡ºæ¥çš„Generalé€‰é¡¹é¢æ¿ä¸­ï¼ŒGeneral çš„è®¾ç½®è¦ä¸ Hadoop çš„é…ç½®ä¸€è‡´ã€‚ä¸€èˆ¬ä¸¤ä¸ª Hostå€¼æ˜¯ä¸€æ ·çš„ã€‚å¦‚æœæ˜¯åœ¨æœ¬æœºæ­å»ºhadoopä¼ªåˆ†å¸ƒå¼ï¼Œå¡«å†™ localhost å³å¯ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯Hadoopä¼ªåˆ†å¸ƒï¼ŒDFS Master çš„ Port æ”¹ä¸º 9000ã€‚Map/Reduce(V2) Master çš„ Port ç”¨é»˜è®¤çš„å³å¯ï¼ŒLocation Name éšæ„å¡«å†™ã€‚ æ“ä½œHDFSæ–‡ä»¶é…ç½®å¥½åï¼Œç‚¹å‡»Project Explorer ä¸­çš„DFS Locationå°±èƒ½ç›´æ¥æŸ¥çœ‹ HDFS ä¸­çš„æ–‡ä»¶åˆ—è¡¨ï¼ŒåŒå‡»å¯ä»¥æŸ¥çœ‹å†…å®¹ï¼Œå³é”®ç‚¹å‡»å¯ä»¥ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤ HDFS ä¸­çš„æ–‡ä»¶ã€‚å½“ç¨‹åºè¿è¡Œå®Œæˆåï¼Œä¼šç”Ÿæˆä¸€ä¸ªoutputæ–‡ä»¶å¤¹ï¼Œé€šå¸¸è¿è¡Œå®Œæˆåä¸èƒ½é©¬ä¸Šçœ‹åˆ°ï¼Œæ­¤æ—¶å¯ä»¥å°è¯•ï¼Œå³é”®ç‚¹å‡»DFS LocationsåReconnectæˆ–é‡å¯Eclipseã€‚ ä½¿ç”¨Eclipseå®ç°WordCountCreate Projectç‚¹å‡»Fileèœå•,é€‰æ‹©New-&gt;Projecté€‰æ‹©MapReduce wizardï¼Œåç‚¹å‡»nextã€‚Project Nameéšæ„å¡«å†™ï¼Œç„¶åç‚¹finishã€‚ Create WordCount.javaå¦‚æ™®é€šProjectä¸€æ ·ï¼Œåˆ›å»ºä¸€ä¸ªjavaç¨‹åºåï¼Œå¤åˆ¶å¦‚ä¸‹ä»£ç ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071import java.io.IOException;import java.util.StringTokenizer;import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.fs.Path;import org.apache.hadoop.io.IntWritable;import org.apache.hadoop.io.Text;import org.apache.hadoop.mapreduce.Job;import org.apache.hadoop.mapreduce.Mapper;import org.apache.hadoop.mapreduce.Reducer;import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;import org.apache.hadoop.util.GenericOptionsParser;public class WordCount &#123; public static class TokenizerMapper extends Mapper&lt;Object, Text, Text, IntWritable&gt; &#123; /** * LongWritable, IntWritable, Text å‡æ˜¯ Hadoop ä¸­å®ç°çš„ç”¨äºå°è£… Java * æ•°æ®ç±»å‹çš„ç±»ï¼Œè¿™äº›ç±»å®ç°äº†WritableComparableæ¥å£ï¼Œ * éƒ½èƒ½å¤Ÿè¢«ä¸²è¡ŒåŒ–ä»è€Œä¾¿äºåœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œä½ å¯ä»¥å°†å®ƒä»¬åˆ†åˆ«è§†ä¸ºlong,int,String çš„æ›¿ä»£å“ã€‚ */ private final static IntWritable one = new IntWritable(1); // å€¼ä¸º1 private Text word = new Text(); public void map(Object key, Text value, Context context) throws IOException, InterruptedException &#123; StringTokenizer itr = new StringTokenizer(value.toString()); // å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡åˆ† while (itr.hasMoreTokens()) &#123; word.set(itr.nextToken()); context.write(word, one); &#125; &#125; &#125; public static class IntSumReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; &#123; private IntWritable result = new IntWritable(); public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context) throws IOException, InterruptedException &#123; int sum = 0; for (IntWritable val : values) &#123; sum += val.get(); &#125; result.set(sum); context.write(key, result); &#125; &#125; public static void main(String[] args) throws Exception &#123; Configuration conf = new Configuration();// String[] otherArgs = new GenericOptionsParser(conf, args).getRemainingArgs(); String[] otherArgs = &#123;&quot;/input&quot;, &quot;/output&quot;&#125;; if (otherArgs.length != 2) &#123; System.err.println(&quot;Usage: wordcount &lt;in&gt; &lt;out&gt;&quot;); System.exit(2); &#125; Job job = new Job(conf, &quot;word count&quot;); job.setJarByClass(WordCount.class); job.setMapperClass(TokenizerMapper.class); job.setCombinerClass(IntSumReducer.class); job.setReducerClass(IntSumReducer.class); job.setOutputKeyClass(Text.class); job.setOutputValueClass(IntWritable.class); FileInputFormat.setInputDirRecursive(job, true); FileInputFormat.addInputPath(job, new Path(otherArgs[0])); FileOutputFormat.setOutputPath(job, new Path(otherArgs[1])); System.exit(job.waitForCompletion(true) ? 0 : 1); &#125;&#125; åœ¨Eclipseè¿è¡ŒWordCount.javaå¦‚å‰æ–‡æ‰€è¯´ï¼Œè‹¥è¦åœ¨hadoopä¸Šè¿è¡Œæ­¤projectéœ€è¦å°è£…æˆjaråŒ…ã€‚è‹¥éœ€è¦ç›´æ¥åœ¨Eclipseå³é”®è¿è¡Œçš„è¯è¿˜éœ€è¦åšä¸€ä¸‹é…ç½®ã€‚è¿è¡Œ MapReduce ç¨‹åºå‰ï¼ŒåŠ¡å¿…å°† /usr/local/Cellar/hadoop/2.7.0/libexec/etc/hadoop ä¸­å°†æœ‰ä¿®æ”¹è¿‡çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚ä¼ªåˆ†å¸ƒå¼éœ€è¦core-site.xml å’Œ hdfs-site.xmlï¼‰ï¼Œä»¥åŠlog4j.propertieså¤åˆ¶åˆ°WordCount é¡¹ç›®ä¸‹çš„srcæ–‡ä»¶å¤¹ï¼ˆ~/workspace/WordCount/srcï¼‰ä¸­ã€‚å¦‚ä¸‹å›¾ è¿™æ˜¯å› ä¸ºåœ¨ä½¿ç”¨ Eclipse è¿è¡Œ MapReduce ç¨‹åºæ—¶ï¼Œä¼šè¯»å– Hadoop-Eclipse-Plugin çš„Advanced parametersä½œä¸º Hadoop è¿è¡Œå‚æ•°ï¼Œå¦‚æœæœªè¿›è¡Œä¿®æ”¹ï¼Œåˆ™é»˜è®¤çš„å‚æ•°å…¶å®å°±æ˜¯å•æœºï¼ˆéåˆ†å¸ƒå¼ï¼‰å‚æ•°ï¼Œå› æ­¤ç¨‹åºè¿è¡Œæ—¶æ˜¯è¯»å–æœ¬åœ°ç›®å½•è€Œä¸æ˜¯HDFSç›®å½•ï¼Œå°±ä¼šæç¤ºInputè·¯å¾„ä¸å­˜åœ¨ã€‚æŠ¥å¦‚ä¸‹å›¾é”™è¯¯é…ç½®å¥½ä»¥ä¸Šæ–‡ä»¶åï¼Œå°±å¯ä»¥è¿è¡Œæ™®é€šjavaç¨‹åºä¸€æ ·å³é”®runäº†ï¼Œä¸åŒçš„æ˜¯æ‰€è¾“å‡ºçš„ç»“æœä¼šå‡ºç°çš„HDFSä¸Šï¼Œè€Œè¾“å‡ºè·¯å¾„åŠè¾“å…¥æ•°æ®é›†çš„è·¯å¾„åœ¨åœ¨æºä»£ç ä¸­String[] otherArgsæŒ‡å®šã€‚","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"ã€ŠHadoopæƒå¨æŒ‡å—ã€‹ch5 Data Integrity","slug":"ã€ŠHadoopæƒå¨æŒ‡å—ã€‹ch5 Data Integrity","date":"2019-01-24T17:53:05.000Z","updated":"2021-05-22T08:01:05.400Z","comments":true,"path":"2019/01/25/ã€ŠHadoopæƒå¨æŒ‡å—ã€‹ch5 Data Integrity/","link":"","permalink":"https://hareric.com/2019/01/25/%E3%80%8AHadoop%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8Bch5%20Data%20Integrity/","excerpt":"Data Integrity(æ•°æ®å®Œæ•´æ€§)å°½ç®¡ç£ç›˜å’Œç½‘ç»œçš„æ¯ä¸ªI/Oæ“ä½œï¼Œå¯¹æ•°æ®é€ æˆæŸåçš„å¯èƒ½æ€§éƒ½å¾ˆä½ï¼Œä½†æ˜¯å¦‚æœç³»ç»Ÿä¸­éœ€è¦å¤„ç†çš„æ•°æ®é‡å¤§åˆ°Hadoopçš„å¤„ç†æé™æ—¶ï¼Œæ•°æ®è¢«æŸåçš„æ¦‚ç‡è¿˜æ˜¯å¾ˆé«˜çš„ã€‚","text":"Data Integrity(æ•°æ®å®Œæ•´æ€§)å°½ç®¡ç£ç›˜å’Œç½‘ç»œçš„æ¯ä¸ªI/Oæ“ä½œï¼Œå¯¹æ•°æ®é€ æˆæŸåçš„å¯èƒ½æ€§éƒ½å¾ˆä½ï¼Œä½†æ˜¯å¦‚æœç³»ç»Ÿä¸­éœ€è¦å¤„ç†çš„æ•°æ®é‡å¤§åˆ°Hadoopçš„å¤„ç†æé™æ—¶ï¼Œæ•°æ®è¢«æŸåçš„æ¦‚ç‡è¿˜æ˜¯å¾ˆé«˜çš„ã€‚ Checksum (æ ¡éªŒå’Œ)åœ¨æ•°æ®ç¬¬ä¸€æ¬¡å¼•å…¥çš„æ—¶å€™è®¡ç®—checksumï¼Œå½“æ•°æ®åœ¨è¿›è¡Œä¼ è¾“åå†è®¡ç®—ä¸€æ¬¡checksumï¼Œè‹¥ä¸åŒåˆ™ä»£è¡¨æ•°æ®å·²æŸåã€‚å…¶ä¸­ï¼Œæ ¡éªŒå’Œä½œä¸ºæ•°æ®ä¹Ÿæ˜¯æœ‰å¯èƒ½æŸåçš„ï¼Œä½†æ˜¯ç›¸æ¯”äºæ™®é€šæ•°æ®è¦å°çš„å¤šï¼Œæ‰€ä»¥æŸåçš„å¯èƒ½æ€§ä¹Ÿéå¸¸å°ã€‚ å¸¸ç”¨çš„é”™è¯¯æ£€æµ‹ç ä¸ºCRC-32ï¼ˆ32-bit cyclic redundancy check 32ä½å¾ªç¯å†—ä½™æ ¡éªŒï¼‰ï¼Œä»»ä½•å¤§å°çš„æ•°æ®è¾“å…¥å‡è®¡ç®—å¾—å‡ºä¸€ä¸ª32ä½çš„æ•´æ•°æ ¡éªŒå’Œã€‚ Data Integrity in HDFS dfs.bytes-per-checksumæŒ‡å®šè®¡ç®—æ ¡éªŒå’Œå­—èŠ‚çš„é•¿åº¦ï¼Œé»˜è®¤ä¸º512ä¸ªå­—èŠ‚ï¼ŒCRC-32æ ¡éªŒå’Œæ˜¯4ä¸ªå­—èŠ‚ï¼Œå› æ­¤å­˜å‚¨æ•°æ®çš„é¢å¤–å¼€é”€ä½äº1%ã€‚ datanodeä»å®¢æˆ·ç«¯æˆ–è€…å…¶å®ƒdatanodeæ”¶åˆ°æ•°æ®åå¯¹æ•°æ®è¿›è¡ŒéªŒè¯ã€‚ æ¯ä¸ªdatanodeä¼šä¿å­˜æ£€éªŒå’Œæ—¥å¿—(persistent log of checksum verification)ï¼Œç”¨æ¥ä¿å­˜æ¯æ¬¡éªŒè¯çš„éªŒè¯æ—¶é—´ã€‚ æ¯ä¸ªdatanodeä¹Ÿä¼šåœ¨åå°çº¿ç¨‹è¿è¡ŒDataBlockScanner,å®šæœŸéªŒè¯è¯¥datanodeä¸Šçš„æ•°æ®å—ï¼Œè¯¥æªæ–½å¯ç”¨æ¥è§£å†³æ•°æ®çš„ç‰©ç†æŸåã€‚ æ¯ä¸ªHDFSå­˜å‚¨ç€æ¯ä¸ªæ•°æ®å—çš„å¤æœ¬(replica),å› æ­¤å¯ä»¥é€šè¿‡æ•°æ®å¤æœ¬ä¿®å¤æŸåçš„æ•°æ®å—ã€‚ åœ¨open()æ–¹æ³•è¯»å–æ–‡ä»¶ä¹‹å‰ï¼Œå¯ä»¥å°†FileSystemå®ä¾‹çš„setVerifyChecksum(false)ç¦ç”¨æ ¡éªŒå’ŒéªŒè¯ã€‚è¯¥æ–¹æ³•å¯ä»¥ç”¨æ¥å¤„ç†ä¸€äº›å·²æŸåçš„æ•°æ®ï¼Œæ¯”å¦‚å°è¯•æ˜¯å¦èƒ½æ¢å¤éƒ¨åˆ†æ•°æ®ã€‚ 123456789101112131415161718192021222324252627/** * Tests read/seek/getPos/skipped opeation for input stream. */private void testChecker(FileSystem fileSys, boolean readCS)throws Exception &#123; Path file = new Path(&quot;try.dat&quot;); writeFile(fileSys, file); try &#123; if (!readCS) &#123; fileSys.setVerifyChecksum(false); &#125; stm = fileSys.open(file); checkReadAndGetPos(); checkSeek(); checkSkip(); //checkMark assertFalse(stm.markSupported()); stm.close(); &#125; finally &#123; if (!readCS) &#123; fileSys.setVerifyChecksum(true); &#125; cleanupFile(fileSys, file); &#125;&#125;","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"ã€ŠHadoopæƒå¨æŒ‡å—ã€‹ch5 Compression","slug":"ã€ŠHadoopæƒå¨æŒ‡å—ã€‹ch5 Compression","date":"2019-01-22T17:53:05.000Z","updated":"2021-05-23T13:21:37.192Z","comments":true,"path":"2019/01/23/ã€ŠHadoopæƒå¨æŒ‡å—ã€‹ch5 Compression/","link":"","permalink":"https://hareric.com/2019/01/23/%E3%80%8AHadoop%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8Bch5%20Compression/","excerpt":"Compression (å‹ç¼©)å‹ç¼©çš„å¥½å¤„\n\nå‡å°‘æ–‡ä»¶æ‰€éœ€ç©ºé—´\nåŠ é€Ÿæ•°æ®çš„åœ¨ç½‘ç»œå’Œç£ç›˜ä¸Šçš„ä¼ è¾“","text":"Compression (å‹ç¼©)å‹ç¼©çš„å¥½å¤„ å‡å°‘æ–‡ä»¶æ‰€éœ€ç©ºé—´ åŠ é€Ÿæ•°æ®çš„åœ¨ç½‘ç»œå’Œç£ç›˜ä¸Šçš„ä¼ è¾“ Codec (Code-Decode)Codecæ˜¯Hadoopä¸­çš„å‹ç¼©-è§£å‹ç®—æ³•çš„å®ç°ã€‚åœ¨hadoopä¸­ï¼Œå®ç°CompressionCodecæ¥å£çš„ç±»ä»£è¡¨ä¸€ä¸ªcodecï¼Œä¸‹è¡¨åˆ—ä¸¾äº†Hadoopå®ç°çš„codecã€‚ CompressionCodecCompressionCodeåŒ…å«ä¸¤ä¸ªå‡½æ•°ï¼Œç”¨äºå‹ç¼©å’Œè§£å‹ç¼©æ•°æ®ã€‚ å‹ç¼©ï¼šé€šè¿‡createOutputStream(OutputStream out)æ–¹æ³•è·å¾—CompressionOutputStreamå¯¹è±¡ è§£å‹ï¼šé€šè¿‡createInputStream(InputStream in)æ–¹æ³•è·å¾—CompressionInputStreamå¯¹è±¡å‹ç¼©çš„ç¤ºä¾‹ä»£ç 1234567891011121314151617181920package com.sweetop.styhadoop; import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.io.IOUtils;import org.apache.hadoop.io.compress.CompressionCodec;import org.apache.hadoop.io.compress.CompressionOutputStream;import org.apache.hadoop.util.ReflectionUtils; public class StreamCompressor &#123; public static void main(String[] args) throws Exception &#123; String codecClassName = args[0]; Class&lt;?&gt; codecClass = Class.forName(codecClassName); Configuration conf = new Configuration(); CompressionCodec codec = (CompressionCodec) ReflectionUtils.newInstance(codecClass, conf); CompressionOutputStream out = codec.createOutputStream(System.out); IOUtils.copyBytes(System.in, out, 4096, false); out.finish(); &#125;&#125; ä»å‘½ä»¤è¡Œæ¥å—ä¸€ä¸ªCompressionCodecå®ç°ç±»çš„å‚æ•°ï¼Œç„¶åé€šè¿‡ReflectionUtilsæŠŠå®ä¾‹åŒ–è¿™ä¸ªç±»ï¼Œè°ƒç”¨CompressionCodecçš„æ¥å£æ–¹æ³•å¯¹æ ‡å‡†è¾“å‡ºæµè¿›è¡Œå°è£…ï¼Œå°è£…æˆä¸€ä¸ªå‹ç¼©æµï¼Œé€šè¿‡IOUtilsç±»çš„copyBytesæ–¹æ³•æŠŠæ ‡å‡†è¾“å…¥æµæ‹·è´åˆ°å‹ç¼©æµä¸­ï¼Œæœ€åè°ƒç”¨CompressionCodecçš„finishæ–¹æ³•ï¼Œå®Œæˆå‹ç¼©ã€‚ CompressionCodecFactoryå¦‚æœä½ æƒ³è¯»å–ä¸€ä¸ªè¢«å‹ç¼©çš„æ–‡ä»¶çš„è¯ï¼Œé¦–å…ˆä½ å¾—å…ˆé€šè¿‡æ‰©å±•ååˆ¤æ–­è¯¥ç”¨å“ªç§codecã€‚å¦‚å‰é¢çš„è¡¨å¯å¾—ï¼Œè‹¥æ–‡ä»¶ååç¼€ä¸º.gzï¼Œåˆ™éœ€è¦ç”¨GzipCodecæ¥è¯»å–ã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨CompressionCodecFactoryçš„getCodec()æ–¹æ³•ï¼Œé€šè¿‡ä¼ å…¥ä¸€ä¸ªPath,å³å¯è·å¾—ç›¸åº”å¾—codecã€‚123456789101112131415161718192021222324252627282930313233343536373839404142package com.sweetop.styhadoop; import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.fs.FileSystem;import org.apache.hadoop.fs.Path;import org.apache.hadoop.io.IOUtils;import org.apache.hadoop.io.compress.CompressionCodec;import org.apache.hadoop.io.compress.CompressionCodecFactory; import java.io.IOException;import java.io.InputStream;import java.io.OutputStream;import java.net.URI; public class FileDecompressor &#123; public static void main(String[] args) throws Exception &#123; String uri = args[0]; Configuration conf = new Configuration(); FileSystem fs = FileSystem.get(URI.create(uri), conf); Path inputPath = new Path(uri); CompressionCodecFactory factory = new CompressionCodecFactory(conf); CompressionCodec codec = factory.getCodec(inputPath); if (codec == null) &#123; System.out.println(&quot;No codec found for &quot; + uri); System.exit(1); &#125; String outputUri = CompressionCodecFactory.removeSuffix(uri, codec.getDefaultExtension()); InputStream in = null; OutputStream out = null; try &#123; in = codec.createInputStream(fs.open(inputPath)); out = fs.create(new Path(outputUri)); IOUtils.copyBytes(in,out,conf); &#125; finally &#123; IOUtils.closeStream(in); IOUtils.closeStream(out); &#125; &#125;&#125;æ³¨æ„çœ‹ä¸‹removeSuffixæ–¹æ³•ï¼Œè¿™æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå®ƒå¯ä»¥å°†æ–‡ä»¶çš„åç¼€å»æ‰ï¼Œç„¶åæˆ‘ä»¬å°†è¿™ä¸ªè·¯å¾„åšä¸ºè§£å‹çš„è¾“å‡ºè·¯å¾„ã€‚ CompressionCodecFactoryèƒ½æ‰¾åˆ°çš„codeé»˜è®¤åªæœ‰ä¸‰ç§ org.apache.hadoop.io.compress.GzipCodec org.apache.hadoop.io.compress.BZip2Codec org.apache.hadoop.io.compress.DefaultCodec å¦‚æœæƒ³æ·»åŠ å…¶ä»–çš„codecä½ éœ€è¦æ›´æ”¹io.compression.codecså±æ€§ï¼Œå¹¶æ³¨å†Œcodecã€‚ Native libraries(åŸç”Ÿç±»åº“)é€šå¸¸æƒ…å†µä¸‹ï¼Œä½¿ç”¨Native librariesæ¥å®ç°è§£å‹ç¼©ä¼šè·å¾—æ›´é«˜çš„æ€§èƒ½ã€‚æ‰€æœ‰çš„è§£å‹ç¼©æ ¼å¼éƒ½æœ‰åŸç”Ÿç±»åº“ï¼Œä½†å¹¶ééƒ½æœ‰javaå®ç°ã€‚å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒHadoopä¼šæ ¹æ®è‡ªèº«è¿è¡Œçš„å¹³å°æœç´¢åŸç”Ÿä»£ç åº“å¹¶è‡ªåŠ¨åŠ è½½ï¼Œæ— éœ€è¦åšé…ç½®ã€‚å½“éœ€è¦ç¦ç”¨åŸç”Ÿä»£ç åº“æ—¶ï¼Œéœ€è¦å°†io.native.lib.availableè®¾ç½®ä¸ºfalseã€‚ CodePoolå¦‚æœä½¿ç”¨åŸç”Ÿä»£ç åº“æ‰§è¡Œå¤§é‡è§£å‹ç¼©ï¼Œå¯ä»¥ä½¿ç”¨CodePoolï¼Œæ”¯æŒåå¤ä½¿ç”¨ï¼Œä»è€Œå‡å°‘äº†åˆ›å»ºå¯¹è±¡çš„å¼€é”€ã€‚123456789101112131415161718public class PooledStreamCompressor &#123; public static void main(String[] args) throws Exception &#123; String codecClassname = args[0]; Class&lt;?&gt; codecClass = Class.forName(codecClassname); Configuration conf = new Configuration(); CompressionCodec codec = (CompressionCodec) ReflectionUtils.newInstance(codecClass, conf); Compressor compressor = null; try &#123; compressor = CodecPool.getCompressor(codec); CompressionOutputStream out = codec.createOutputStream(System.out, compressor); IOUtils.copyBytes(System.in, out, 4096, false); out.finish(); &#125; finally &#123; CodecPool.returnCompressor(compressor); &#125; &#125; &#125;","raw":null,"content":null,"categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://hareric.com/tags/Hadoop/"}]},{"title":"åŸºäºå›¾çš„å…³é”®è¯æŠ½å–(HITSç®—æ³•å’ŒPageRankç®—æ³•)","slug":"åŸºäºå›¾çš„å…³é”®è¯æŠ½å–","date":"2017-01-23T11:16:50.000Z","updated":"2021-05-22T08:23:47.377Z","comments":true,"path":"2017/01/23/åŸºäºå›¾çš„å…³é”®è¯æŠ½å–/","link":"","permalink":"https://hareric.com/2017/01/23/%E5%9F%BA%E4%BA%8E%E5%9B%BE%E7%9A%84%E5%85%B3%E9%94%AE%E8%AF%8D%E6%8A%BD%E5%8F%96/","excerpt":"é¡¹ç›®ç ”ç©¶èƒŒæ™¯ï¼šã€€ã€€åœ¨å…³é”®è¯æŠ½å–ç ”ç©¶ä¸­ï¼Œæœ€å¸¸ç”¨çš„ä¸€ç§æ–¹æ³•å°±æ˜¯é€šè¿‡è®¡ç®—ä¸€ç¯‡æ–‡æ¡£ä¸­è¯è¯­çš„TF-IDFå€¼ï¼ˆterm frequency-inverse document frequencyï¼‰,å¹¶å¯¹å®ƒä»¬è¿›è¡Œæ’åºé€‰å–TopKä¸ªä½œä¸ºå…³é”®è¯ï¼Œè¿™æ˜¯ä¸€ç§æ— ç›‘ç£çš„æ–¹æ³•ã€‚å¦å¤–ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡æœ‰ç›‘ç£çš„æ–¹æ³•ï¼Œé€šè¿‡è®­ç»ƒå­¦ä¹ ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œå°†å…³é”®è¯æŠ½å–é—®é¢˜è½¬åŒ–ä¸ºå¯¹æ¯ä¸ªè¯è¯­çš„äºŒåˆ†ç±»é—®é¢˜ï¼Œä»è€Œé€‰æ‹©å‡ºåˆé€‚çš„å…³é”®è¯ã€‚","text":"é¡¹ç›®ç ”ç©¶èƒŒæ™¯ï¼š åœ¨å…³é”®è¯æŠ½å–ç ”ç©¶ä¸­ï¼Œæœ€å¸¸ç”¨çš„ä¸€ç§æ–¹æ³•å°±æ˜¯é€šè¿‡è®¡ç®—ä¸€ç¯‡æ–‡æ¡£ä¸­è¯è¯­çš„TF-IDFå€¼ï¼ˆterm frequency-inverse document frequencyï¼‰,å¹¶å¯¹å®ƒä»¬è¿›è¡Œæ’åºé€‰å–TopKä¸ªä½œä¸ºå…³é”®è¯ï¼Œè¿™æ˜¯ä¸€ç§æ— ç›‘ç£çš„æ–¹æ³•ã€‚å¦å¤–ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡æœ‰ç›‘ç£çš„æ–¹æ³•ï¼Œé€šè¿‡è®­ç»ƒå­¦ä¹ ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œå°†å…³é”®è¯æŠ½å–é—®é¢˜è½¬åŒ–ä¸ºå¯¹æ¯ä¸ªè¯è¯­çš„äºŒåˆ†ç±»é—®é¢˜ï¼Œä»è€Œé€‰æ‹©å‡ºåˆé€‚çš„å…³é”®è¯ã€‚ æ— ç›‘ç£å’Œæœ‰ç›‘ç£å„æœ‰å„çš„ä¼˜åŠ¿å’Œç¼ºç‚¹ï¼šæ— ç›‘ç£å­¦ä¹ ï¼Œä¸éœ€è¦äººå·¥æ ‡æ³¨ï¼Œè®­ç»ƒé›†åˆçš„è¿‡ç¨‹ï¼Œå› æ­¤æ›´åŠ æ–¹ä¾¿å’Œå¿«æ·ï¼›ç„¶è€Œç›‘ç£å­¦ä¹ çš„æ–¹æ³•ï¼Œåœ¨è¿›è¡Œäº†æœºå™¨å­¦ä¹ åï¼Œåˆ†ç±»å™¨æ›´å…·æœ‰åˆ¤æ–­å¤šç§ä¿¡æ¯å¯¹å…³é”®è¯å½±å“çš„èƒ½åŠ›ï¼Œæ•ˆæœæ›´ä¼˜ã€‚ä½†åœ¨ä¿¡æ¯çˆ†ç‚¸çš„ç½‘ç»œæ—¶ä»£ï¼Œäººå·¥æ ‡æ³¨è®­ç»ƒé›†æ˜¯éå¸¸è€—æ—¶è€—åŠ›çš„äº‹æƒ…ï¼Œæ›´ä½•å†µç½‘ç»œæ–‡æ¡£çš„ä¸»é¢˜å¸¸å¸¸éšç€æ—¶é—´å˜åŒ–å‰§çƒˆï¼Œä¸ºäº†ä½¿åˆ†ç±»å™¨éšæ—¶èƒ½å¤Ÿé€‚åº”ç½‘ç»œå°±å¿…é¡»éšæ—¶è¿›è¡Œè®­ç»ƒå’Œæ ‡æ³¨ï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸ç°å®çš„ã€‚å› æ­¤å…³é”®è¯æŠ½å–çš„ç ”ç©¶ä¸»è¦è¿˜æ˜¯é›†ä¸­åœ¨æ— ç›‘ç£çš„æ–¹æ³•ã€‚ åœ¨ä¿¡æ¯æ£€ç´¢é¢†åŸŸï¼ŒHITSç®—æ³•å’ŒPageRankç®—æ³•æ˜¯æœç´¢å¼•æ“ä¸­ä¸¤ä¸ªæœ€åŸºç¡€å’Œæœ€é‡è¦çš„ç®—æ³•ã€‚å…¶åŸºæœ¬æ€æƒ³éƒ½æ˜¯é¦–å…ˆåˆ©ç”¨ç½‘é¡µä¹‹é—´çš„é“¾æ¥å…³ç³»æ„å»ºç½‘é¡µçš„ç½‘ç»œå›¾ï¼Œé€šè¿‡ç›¸é‚»èŠ‚ç‚¹ä¹‹é—´çš„ç½‘é¡µçš„é‡è¦æ€§ï¼Œè®¡ç®—å‡ºæŸä¸ªç½‘é¡µçš„é‡è¦æ€§ã€‚ å—PageRankçš„å¯å‘ï¼Œæå‡ºäº†ä¸€ç§åŸºäºå›¾çš„æ’åºç®—æ³•TextRankï¼Œé€šè¿‡å°†æ–‡æ¡£çœ‹ä½œä¸€ä¸ªè¯çš„ç½‘ç»œï¼Œè¯¥ç½‘ç»œä¸­çš„é“¾æ¥è¡¨ç¤ºè¯ä¸è¯ä¹‹é—´çš„è¯­ä¹‰å…³ç³»ï¼Œç„¶ååˆ©ç”¨PageRankè®¡ç®—ç½‘ç»œå›¾ä¸­è¯çš„é‡è¦æ€§ï¼Œé€‰å–é‡è¦æ€§TopKä¸ªè¯ä½œä¸ºå…³é”®è¯ã€‚åŒç†ä¹Ÿå¯å°†æœ€åˆç”¨äºç½‘é¡µæ’åºçš„HITSç®—æ³•ç”¨æ¥æŠ½å–å…³é”®è¯ã€‚ é¡¹ç›®å…·ä½“æ€è·¯ï¼šinput: ä¸€ç¯‡æ–‡æ¡£ output: kä¸ªå…³é”®è¯ä¸€ï¼æ„å»ºæ–‡æ¡£çš„è¯å…¸ 1. å»é™¤åœç”¨è¯ã€‚ 2. æ¶ˆé‡ã€‚ 3. è·å¾—è¯å…¸ vocabã€‚ äºŒï¼æ„å»ºè¯-è¯ä¹‹é—´çš„å…³è”çŸ©é˜µ matrix[i][j]: è¡¨ç¤ºiè¯ä¸jè¯ä¹‹é—´çš„æƒå€¼ã€‚åˆå§‹å€¼ä¸º0 1. æ–‡ç« å·²åˆ†å¥½æ®µè½ã€‚ 2. åœ¨ä¸€æ®µæ–°é—»ä¸­ï¼Œè‹¥w1å’Œw2å…±ç°ï¼Œåˆ™matrix[w1][w2]++ï¼Œmatrix[w2][w1]++ ä¸‰ï¼åˆ©ç”¨è¯-è¯ä¹‹é—´çš„å…³è”çŸ©é˜µæ„å»ºè¯è¯­ä¹‹é—´çš„æ— å‘æ‹“æ‰‘å›¾ å››ï¼è¯„ä»·èŠ‚ç‚¹é‡è¦æ€§ è®¡ç®—æ‹“æ‰‘å›¾ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„PageRankå€¼å’ŒAuthorityå€¼ç”¨æ¥è¯„ä»·èŠ‚ç‚¹çš„é‡è¦æ€§ï¼Œæœ€åå–TopKä¸ªèŠ‚ç‚¹ä½œä¸ºæœ¬ç¯‡æ–‡ç« çš„å…³é”®è¯ã€‚ PageRank ç®—æ³•ç®—æ³•æµç¨‹ PageRankçš„æ€æƒ³åœ¨äºå°†ä¸€ä¸ªç½‘é¡µçº§åˆ«/é‡è¦æ€§çš„æ’åºé—®é¢˜è½¬åŒ–æˆäº†ä¸€ä¸ªå…¬å…±å‚ä¸ã€ä»¥ç¾¤ä½“æ°‘ä¸»æŠ•ç¥¨çš„æ–¹å¼æ±‚è§£çš„é—®é¢˜ï¼Œç½‘é¡µä¹‹é—´çš„é“¾æ¥å³è¢«è®¤ä¸ºæ˜¯æŠ•ç¥¨è¡Œä¸ºã€‚åŒæ—¶ï¼Œå„ä¸ªç«™ç‚¹æŠ•ç¥¨çš„æƒé‡ä¸åŒï¼Œé‡è¦çš„ç½‘ç«™æŠ•ç¥¨å…·æœ‰è¾ƒå¤§çš„åˆ†é‡ï¼Œè€Œè¯¥ç½‘ç«™æ˜¯å¦é‡è¦çš„æ ‡å‡†è¿˜éœ€è¦ä¾ç…§å…¶PageRankå€¼ã€‚ ç°åœ¨å‡è®¾æœ‰4ä¸ªç½‘ç«™Aã€Bã€Cã€Dï¼Œåˆ™å®ƒä»¬çš„åˆå§‹PageRankéƒ½æ˜¯0.25ã€‚å¯¹äºBè€Œè¨€çš„è¯ï¼Œå®ƒæŠŠè‡ªå·±çš„æ€»ä»·å€¼åˆ†æ•£æŠ•ç»™äº†Aå’ŒCï¼Œå„å ä¸€åŠçš„PageRankï¼Œå³0.125ï¼ŒCå’ŒDçš„æƒ…å†µåŒç†ã€‚å³ä¸€ä¸ªç½‘ç«™æŠ•ç¥¨ç»™å…¶å®ƒç½‘ç«™PageRankçš„å€¼ï¼Œéœ€è¦é™¤ä»¥å®ƒæ‰€é“¾æ¥åˆ°çš„ç½‘ç«™æ€»æ•°ã€‚æ­¤æ—¶PageRankçš„è®¡ç®—å…¬å¼ä¸ºï¼š PR(A) = PR(B) / 2 + PR(C) / 1 + PR(D) / 3 PR(B) = PR(D) / 3 PR(C) = PR(B) / 2 + PR(D) / 3 PR(D) = 0 PageRank PR(A) PR(B) PR(C) PD(D) åˆå§‹å€¼ 0.25 0.25 0.25 0.25 ç¬¬ä¸€æ¬¡è¿­ä»£å 0.4583 0.0833 0.2083 0 ç¬¬äºŒæ¬¡è¿­ä»£å 0.25 0 0.0417 0 ç¬¬ä¸‰æ¬¡è¿­ä»£å 0.0417 0 0 0 ç¬¬å››æ¬¡è¿­ä»£å 0 0 0 0 PageRankå€¼è®¡ç®—è¿‡ç¨‹çš„ä¸€èˆ¬æ­¥éª¤å¯ä»¥æ¦‚æ‹¬å¦‚ä¸‹ï¼šï¼ˆ1ï¼‰ä¸ºæ¯ä¸ªç½‘ç«™è®¾ç½®ä¸€ä¸ªåˆå§‹çš„PageRankå€¼ã€‚ï¼ˆ2ï¼‰ç¬¬ä¸€æ¬¡è¿­ä»£ï¼šæ¯ä¸ªç½‘ç«™å¾—åˆ°ä¸€ä¸ªæ–°çš„PageRankã€‚ï¼ˆ3ï¼‰ç¬¬äºŒæ¬¡è¿­ä»£ï¼šç”¨è¿™ç»„æ–°çš„PageRankå†æŒ‰ä¸Šè¿°å…¬å¼å½¢æˆå¦ä¸€ç»„æ–°çš„PageRankã€‚ï¼ˆ4ï¼‰é‡å¤è¿­ä»£ç›´è‡³PageRankå€¼æ”¶æ•› é»‘æ´æ•ˆåº” ä¸Šå›¾ä¸­ï¼Œé¡¶ç‚¹ï¼¡ç”±äºæ— å‡ºåº¦åƒé»‘æ´ä¸€æ ·å¸æ”¶æ‰€æœ‰PRå€¼ï¼Œæœ€åå¯¼è‡´æ‰€æœ‰PRå€¼ä¸º0ã€‚ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œæœ‰äººç»™å‡ºäº†ä¸€ç§è§£å†³åŠæ³•ï¼šå³å¦‚æœä¸€ä¸ªç½‘ç«™æ²¡æœ‰å¤–é“¾ï¼Œé‚£ä¹ˆå°±å‡å®šè¯¥è¿é€šå›¾å†…å…¶ä½™æ‰€æœ‰çš„ç½‘ç‚¹éƒ½æ˜¯å®ƒçš„å¤–é“¾ï¼Œè¿™æ ·æˆ‘ä»¬å°±é¿å…äº†æ•´ä½“PageRankå€¼è¢«å¸æ”¶çš„ç°è±¡ã€‚ é©¬å°”å¯å¤«é“¾(é©¬æ°é“¾ï¼Œ Markov Chain)é’ˆå¯¹ä»¥ä¸Šè¯¥å›¾ï¼Œå»ºç«‹æ¦‚ç‡è½¬ç§»çŸ©é˜µPï¼ŒP[i][j]è¡¨ç¤ºä»é¡¶ç‚¹iåˆ°è¾¾é¡¶ç‚¹jçš„æ¦‚ç‡ï¼Œé‚£ä¹ˆçŸ©é˜µè¡¨ç¤ºå°±æ˜¯ï¼š 0 0.5 0 0.5 0 0 1 0 0 0 0 1 0 1 0 0 æˆ‘ä»¬æ‰€ç»™å®šçš„åˆå§‹å‘é‡æ˜¯ï¼š(0.25 0.25 0.25 0.25)ï¼Œåšç¬¬ä¸€æ¬¡è¿­ä»£ï¼Œå°±ç›¸å½“äºç”¨åˆå§‹å‘é‡ä¹˜ä»¥ä¸Šé¢çš„çŸ©é˜µã€‚ç¬¬äºŒæ¬¡è¿­ä»£å°±ç›¸å½“äºç¬¬ä¸€æ¬¡è¿­ä»£çš„ç»“æœå†ä¹˜ä»¥ä¸Šé¢çš„çŸ©é˜µâ€¦â€¦è®¾è½¬ç§»æ¦‚ç‡çŸ©é˜µä¸ºPï¼Œè‹¥å­˜åœ¨æ­£æ•´æ•°Nï¼Œä½¿å¾—P^N&gt;0ï¼ˆæ¯ä¸ªå…ƒç´ å¤§äº0ï¼‰ï¼Œè¿™ç§é“¾è¢«ç§°ä½œæ­£åˆ™é“¾ï¼Œå®ƒå­˜åœ¨å”¯ä¸€çš„æé™çŠ¶æ€æ¦‚ç‡ï¼Œå¹¶ä¸”ä¸åˆå§‹çŠ¶æ€æ— å…³ã€‚ PageRankç®—æ³•çš„é©¬å°”ç§‘å¤«è¿‡ç¨‹åˆ†æå‡è®¾{A, B, C}ä¸ºé©¬æ°é“¾ï¼Œå…¶è½¬ç§»æ¦‚ç‡çŸ©é˜µå¦‚ä¸‹æ‰€ç¤ºï¼š 0.7 0.1 0.2 0.1 0.8 0.1 0.05 0.05 0.9 å› ä¸ºè¯¥é©¬æ°é“¾æ˜¯ä¸å¯çº¦çš„éå‘¨æœŸçš„æœ‰é™çŠ¶æ€ï¼Œå¹³ç¨³åˆ†å¸ƒå­˜åœ¨ï¼Œåˆ™æˆ‘ä»¬è¦æ±‚å…¶å¹³è¡¡åˆ†å¸ƒä¸ºï¼š X = 0.7X + 0.1Y + 0.05Z Y = 0.1X + 0.8Y + 0.05Z Z = 0.2X + 0.1Y + 0.9Z X + Y + Z = 1 è§£å¾—ä¸Šè¿°æ–¹ç¨‹ç»„çš„å¹³ç¨³åˆ†å¸ƒä¸ºï¼šX = 0.1765ï¼ŒY = 0.2353ï¼ŒZ = 0.5882ã€‚æŠŠPageRankæ”¶æ•›æ€§é—®é¢˜è½¬åŒ–ä¸ºäº†æ±‚é©¬å°”å¯å¤«é“¾çš„å¹³ç¨³åˆ†å¸ƒçš„é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä»é©¬æ°é“¾çš„è§’åº¦æ¥åˆ†æé—®é¢˜ã€‚å› æ­¤ï¼Œå¯¹äºPageRankçš„æ”¶æ•›æ€§é—®é¢˜çš„è¯æ˜ä¹Ÿå°±è¿åˆƒè€Œè§£äº†ï¼Œåªéœ€è¦è¯æ˜é©¬æ°é“¾åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šå‡ºç°å¹³ç¨³åˆ†å¸ƒå³å¯ã€‚ HITSç®—æ³•åŸºæœ¬æ¦‚å¿µ æ‰€è°“â€œAuthorityâ€é¡µé¢ï¼Œæ˜¯æŒ‡ä¸æŸä¸ªé¢†åŸŸæˆ–è€…æŸä¸ªè¯é¢˜ç›¸å…³çš„é«˜è´¨é‡ç½‘é¡µï¼Œæ¯”å¦‚æœç´¢å¼•æ“é¢†åŸŸï¼ŒGoogleå’Œç™¾åº¦é¦–é¡µå³è¯¥é¢†åŸŸçš„é«˜è´¨é‡ç½‘é¡µï¼Œæ¯”å¦‚è§†é¢‘é¢†åŸŸï¼Œä¼˜é…·å’ŒåœŸè±†é¦–é¡µå³è¯¥é¢†åŸŸçš„é«˜è´¨é‡ç½‘é¡µã€‚ æ‰€è°“â€œHubâ€é¡µé¢ï¼ŒæŒ‡çš„æ˜¯åŒ…å«äº†å¾ˆå¤šæŒ‡å‘é«˜è´¨é‡â€œAuthorityâ€é¡µé¢é“¾æ¥çš„ç½‘é¡µï¼Œæ¯”å¦‚hao123é¦–é¡µå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå…¸å‹çš„é«˜è´¨é‡â€œHubâ€ç½‘é¡µã€‚ åŸºæœ¬å‡è®¾ å‡è®¾1ï¼šä¸€ä¸ªå¥½çš„â€œAuthorityâ€é¡µé¢ä¼šè¢«å¾ˆå¤šå¥½çš„â€œHubâ€é¡µé¢æŒ‡å‘ï¼› å‡è®¾2ï¼šä¸€ä¸ªå¥½çš„â€œHubâ€é¡µé¢ä¼šæŒ‡å‘å¾ˆå¤šå¥½çš„â€œAuthorityâ€é¡µé¢ï¼› ç®—æ³•æµç¨‹ å…·ä½“ç®—æ³•ï¼šå¯åˆ©ç”¨ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªåŸºæœ¬å‡è®¾ï¼Œä»¥åŠç›¸äº’å¢å¼ºå…³ç³»ç­‰åŸåˆ™è¿›è¡Œå¤šè½®è¿­ä»£è®¡ç®—ï¼Œæ¯è½®è¿­ä»£è®¡ç®—æ›´æ–°æ¯ä¸ªé¡µé¢çš„ä¸¤ä¸ªæƒå€¼ï¼Œç›´åˆ°æƒå€¼ç¨³å®šä¸å†å‘ç”Ÿæ˜æ˜¾çš„å˜åŒ–ä¸ºæ­¢ã€‚ åœ¨ç½‘é¡µæ’åä¸­ï¼ŒHITSç®—æ³•æ˜¯ä¸ç”¨æˆ·è¾“å…¥çš„æŸ¥è¯¢è¯·æ±‚å¯†åˆ‡ç›¸å…³çš„ï¼Œå³HITSç®—æ³•åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»æ„å»ºä¸€ä¸ªæ ¹é›†åˆï¼Œç”±äºæœ¬æ¬¡é¡¹ç›®é›†ä¸­ç ”ç©¶HITSç®—æ³•åœ¨æ–‡æ¡£ç½‘ç»œçš„è¿ç”¨ä»·å€¼ï¼Œæ‰€ä»¥åœ¨æ­¤ä¸è¯¦ç»†è¯´æ˜ã€‚å…·ä½“æµç¨‹ ä¸€ã€a(i), h(i)åˆ†åˆ«è¡¨ç¤ºç»“ç‚¹içš„Authority Score å’Œ Hubå€¼ï¼ˆä¸­å¿ƒåº¦ï¼‰ äºŒã€åœ¨åˆå§‹æƒ…å†µä¸‹ï¼Œåœ¨æ²¡æœ‰æ›´å¤šå¯åˆ©ç”¨ä¿¡æ¯å‰ï¼Œæ¯ä¸ªé¡µé¢çš„è¿™ä¸¤ä¸ªæƒå€¼éƒ½æ˜¯ç›¸åŒçš„ï¼Œå¯ä»¥éƒ½è®¾ç½®ä¸º1ï¼Œå³ï¼ša(i)=1, h(i)=1 ä¸‰ã€æ¯æ¬¡è¿­ä»£è®¡ç®—Hubæƒå€¼å’ŒAuthorityæƒå€¼ï¼š ç½‘é¡µ a (i)åœ¨æ­¤è½®è¿­ä»£ä¸­çš„Authorityæƒå€¼å³ä¸ºæ‰€æœ‰æŒ‡å‘ç½‘é¡µ a (i)é¡µé¢çš„Hubæƒå€¼ä¹‹å’Œï¼š a (i) = Î£ h (i) ; ç½‘é¡µ a (i)çš„Hubåˆ†å€¼å³ä¸ºæ‰€æŒ‡å‘çš„é¡µé¢çš„Authorityæƒå€¼ä¹‹å’Œï¼š h (i) = Î£ a (i) ã€‚ å¯¹a (i)ã€h (i)è¿›è¡Œè§„èŒƒåŒ–å¤„ç†: å°†æ‰€æœ‰ç½‘é¡µçš„ä¸­å¿ƒåº¦éƒ½é™¤ä»¥æœ€é«˜ä¸­å¿ƒåº¦ä»¥å°†å…¶æ ‡å‡†åŒ–ï¼š a (i) = a (i)/|a(i)| ï¼› å°†æ‰€æœ‰ç½‘é¡µçš„æƒå¨åº¦éƒ½é™¤ä»¥æœ€é«˜æƒå¨åº¦ä»¥å°†å…¶æ ‡å‡†åŒ–ï¼š h (i) = h (i)/ |h(i)| ï¼š å››ã€æ”¶æ•› ä¸Šä¸€è½®è¿­ä»£è®¡ç®—ä¸­çš„æƒå€¼å’Œæœ¬è½®è¿­ä»£ä¹‹åæƒå€¼çš„å·®å¼‚ï¼Œå¦‚æœå‘ç°æ€»ä½“æ¥è¯´æƒå€¼æ²¡æœ‰æ˜æ˜¾å˜åŒ–ï¼Œè¯´æ˜ç³»ç»Ÿå·²è¿›å…¥ç¨³å®šçŠ¶æ€ï¼Œåˆ™å¯ä»¥ç»“æŸè®¡ç®—ï¼Œå³a ( u),h(v)æ”¶æ•› ã€‚ å®éªŒå®éªŒä¸€ï¼šæ–°é—»æŠ¥é“ï¼š åŸæ ‡é¢˜ï¼šé™ˆå›æ–‡ä¸€è¡Œåˆ°é•¿æ²™å¿è°ƒç ”ä¸¤å‹ä½å®…äº§ä¸šåŒ–å·¥ä½œ çº¢ç½‘é•¿æ²™å¿ç«™3æœˆ17æ—¥è®¯(æ˜Ÿæ²™æ—¶æŠ¥è®°è€…å»–çœŸæ€¡)æ˜¨æ—¥ï¼Œæ¹–å—çœäººå¤§å¸¸å§”ä¼šå‰¯ä¸»ä»»é™ˆå›æ–‡ç‡é˜Ÿæ¥åˆ°é•¿æ²™å¿ï¼Œå°±ä¸¤å‹ä½å®…äº§ä¸šåŒ–å·¥ä½œå¼€å±•å®åœ°è°ƒç ”ã€‚é•¿æ²™å¿äººå¤§å¸¸å§”ä¼šä¸»ä»»æå»ºç« ï¼Œå‰¯ä¸»ä»»å½­å†›å…¶ï¼Œå‰¯å¿é•¿æå¼€å…´é™ªåŒè°ƒç ”ã€‚ åœ¨ç¦ä¸´é•‡æ³‰æºæ‘é›†ä¸­å®‰ç½®æˆ¿é¡¹ç›®ç°åœºï¼Œè°ƒç ”ç»„ä¸€è¡Œå‚è§‚äº†è¯¥ç¤ºèŒƒç‚¹å»å¹´åº•æ–°å»ºå®Œæˆçš„è½»é’¢ç»“æ„æˆ¿å±‹ã€‚æ®ä»‹ç»ï¼Œè½»é’¢ç»“æ„æˆ¿å±‹æ˜¯ä»¥å†·å¼¯è–„å£å‹é’¢ä¸ºç»“æ„ä½“ç³»çš„ç»¿è‰²å»ºç­‘ï¼Œå…·å¤‡æŠ—éœ‡é˜²ç«ã€ä¿æ¸©éš”çƒ­ã€èŠ‚èƒ½ç¯ä¿ç­‰è¯¸å¤šç‰¹ç‚¹ã€‚ä¸€æ ‹250å¹³æ–¹ç±³çš„è½»é’¢ç»“æ„æˆ¿å±‹å»ºæˆè€—æ—¶ä¸åˆ°ä¸¤ä¸ªæœˆï¼Œæ‘æ°‘åªéœ€èŠ±è´¹çº¦å…­åä¸‡å…ƒå³å¯å…¥ä½ã€‚ è¿‘å¹´æ¥ï¼Œé•¿æ²™å¿åŠ å¿«æ¨è¿›ä¸¤å‹ä½å®…äº§ä¸šåŒ–å·¥ä½œï¼Œé€æ­¥å°†ä¿éšœæ€§ä½æˆ¿ã€æ£šæˆ·åŒºæ”¹é€ ã€å­¦æ ¡ã€åŒ»é™¢ç­‰æ”¿åºœæŠ•èµ„ç±»å»ºè®¾é¡¹ç›®çº³å…¥ä¸¤å‹ä½å®…äº§ä¸šåŒ–å®æ–½ã€‚ç›®å‰ï¼Œå·²å¯åŠ¨ç¦ä¸´é•‡æ³‰æºæ‘ã€å½±ç å±±æ‘ä½å®…äº§ä¸šåŒ–çš„è¯•ç‚¹å·¥ä½œï¼Œå»ºæˆ4æ ‹å†·å¼¯è–„å£è½»é’¢æˆ¿å±‹ï¼Œå‡é€‰æ‹©äº†å†œæ°‘é›†ä¸­å±…ä½ç‚¹è¿›è¡Œç»Ÿä¸€è§„åˆ’è®¾è®¡ï¼Œé›†ä¸­è¿ç”¨ä½å®…äº§ä¸šåŒ–æŠ€æœ¯å»ºè®¾ã€‚ é™ˆå›æ–‡å¼ºè°ƒï¼Œè½»é’¢ç»“æ„æˆ¿å±‹é›†ç¯ä¿ã€èŠ‚èƒ½ã€é«˜æ•ˆç­‰ä¼˜ç‚¹äºä¸€ä½“ï¼Œç¬¦åˆç»¿è‰²å‘å±•ç†å¿µï¼Œåœ¨å†œæ‘ä½æˆ¿æ”¹é€ ä¸­å€¼å¾—å¤§åŠ›æ¨å¹¿ã€‚æ”¿åºœè¦å‡ºå°ç›¸å…³æ”¿ç­–åŠ ä»¥æ‰¶æŒï¼Œç¤ºèŒƒç‚¹åˆ™è¦ç§¯æå‘æŒ¥å¸¦å¤´å¼•é¢†ä½œç”¨ï¼Œé€šè¿‡æ”¿åºœã€å¸‚åœºä¸¤æ‰‹æŠ“ï¼Œæ¨åŠ¨é¡¹ç›®åˆå¥½åˆå¿«å‘å±•ã€‚ åˆ©ç”¨textRankæŠ½å–å…³é”®è¯ è½»é’¢ 0.01902440798 æˆ¿å±‹ 0.01902440798 é•¿æ²™å¿ 0.0139585118277 ä¸¤å‹ 0.0139585118277 ä½å®… 0.0139585118277 äº§ä¸šåŒ– 0.0139585118277 å·¥ä½œ 0.0139585118277 ç¦ä¸´ 0.0136226056716 æ³‰æº 0.0136226056716 è–„å£ 0.0136226056716è€—æ—¶ï¼š0.0591039657593ï½“ åˆ©ç”¨jiebaåŒ…ä¸­å†…ç½®åŸºäºtf-idfæå–å…³é”®è¯ è½»é’¢ 0.386129934778 é•¿æ²™å¿ 0.309113581381 äº§ä¸šåŒ– 0.267338155519 ä¸¤å‹ 0.265661500064 ä½å®… 0.234284985021 é™ˆå›æ–‡ 0.199246125048 æˆ¿å±‹ 0.183773798317 æ³‰æº 0.136569330439 ç»“æ„ 0.13419387805 ç¤ºèŒƒç‚¹ 0.124362527232è€—æ—¶ï¼š0.00664782524109ï½“ å®éªŒäºŒï¼šæ–°é—»æŠ¥é“ï¼š åŸæ ‡é¢˜ï¼šç¾å›½å®£å¸ƒå¯¹æœé²œæ–°çš„åˆ¶è£æªæ–½ æ®æ–°åç¤¾ç”µ ç¾å›½æ”¿åºœ16æ—¥å®£å¸ƒå¯¹æœé²œå®æ–½æ–°çš„åˆ¶è£æªæ–½ã€‚ ç¾å›½ç™½å®«çš„ä¸€ä»½æ–°é—»å…¬å‘Šè¯´ï¼Œæ€»ç»Ÿå¥¥å·´é©¬å½“å¤©å‘å¸ƒè¡Œæ”¿ä»¤ï¼Œæ—¨åœ¨å†»ç»“æœé²œæ”¿åºœå’Œæœé²œåŠ³åŠ¨å…šèµ„äº§ï¼Œç¦æ­¢ä¸æœé²œçš„ç‰¹å®šäº¤æ˜“ã€‚ ç¾å›½è´¢æ”¿éƒ¨éšåå‘å¸ƒæ–°é—»å…¬å‘Šï¼Œå¯¹æœé²œ17ä¸ªæ”¿åºœå®˜å‘˜å’Œæœºæ„ä»¥åŠ20è‰˜èˆ¹åªå®æ–½åˆ¶è£ã€‚ æ–°åˆ¶è£é’ˆå¯¹æœé²œçš„èƒ½æºã€çŸ¿ä¸šã€é‡‘èæœåŠ¡å’Œäº¤é€šä¸šï¼Œç¦æ­¢å¯¹æœé²œçš„å•†å“ã€æœåŠ¡ã€æŠ€æœ¯å‡ºå£ä»¥åŠåœ¨æœé²œè¿›è¡Œæ–°çš„æŠ•èµ„ã€‚ ç™½å®«çš„æ–°é—»å…¬å‘Šè¯´ï¼Œç¾å›½å°†ç»§ç»­å¯¹æœé²œæ–½å‹ï¼Œä»¤å…¶ä»˜å‡ºâ€œä»£ä»·â€ï¼Œç›´è‡³æœé²œæœ€ç»ˆå±¥è¡Œå›½é™…è´£ä»»å’Œä¹‰åŠ¡ã€‚ è”åˆå›½å®‰ç†ä¼š3æœˆ2æ—¥ä¸€è‡´é€šè¿‡ç¬¬2270å·å†³è®®ï¼Œé’ˆå¯¹æœé²œæ ¸ã€å¯¼è®¡åˆ’è§„å®šä¸€ç³»åˆ—åˆ¶è£æªæ–½ï¼Œé‡ç”³æ”¯æŒé‡å¯å…­æ–¹ä¼šè°ˆåŠé€šè¿‡å’Œå¹³æ–¹å¼å®ç°åŠå²›æ— æ ¸åŒ–ã€‚ åˆ©ç”¨textRankæŠ½å–å…³é”®è¯ æœé²œ 0.0324132510978 åˆ¶è£ 0.0239090726699 å…¬å‘Š 0.0206482233926 æ–°é—» 0.0165485844427 ç¦æ­¢ 0.0164814054247 æªæ–½ 0.0158486641078 å®æ–½ 0.0138236030274 ç¾å›½ 0.0133183833419 æœé²œåŠ³åŠ¨å…š 0.012182643101 èµ„äº§ 0.012182643101è€—æ—¶: 0.0261380672455ï½“ åˆ©ç”¨jiebaåŒ…ä¸­å†…ç½®åŸºäºtf-idfæå–å…³é”®è¯ æœé²œ 0.645829143617 åˆ¶è£ 0.427122149321 å…¬å‘Š 0.161725613834 æªæ–½ 0.161613619075 ç¦æ­¢ 0.133688805542 é’ˆå¯¹ 0.118448597479 20 0.11720360297 17 0.11720360297 16 0.11720360297 2270 0.11720360297è€—æ—¶: 0.00232791900635ï½“ å®éªŒæ€»ç»“ æœ¬æ¬¡å®éªŒä¸»è¦é’ˆå¯¹æ–°æµªç½‘ä¸­è¿‘100æ¡æ–°é—»ä½œä¸ºå®éªŒçš„æµ‹è¯•é›†ï¼Œé€šè¿‡äººå·¥ç»Ÿè®¡ï¼Œå¯¹æ¯”è¯„ä»·åŸºäºå›¾çš„å…³é”®è¯æå–æ³•ï¼ˆtextRankï¼‰ä»¥åŠåŸºäºtf-idfçš„å…³é”®è¯çš„æŠ½å–æ³•ã€‚å…¶ä¸­é€‰å–äº†æœ€å…·ä»£è¡¨æ€§2ç¯‡æ–°é—»ä½œä¸ºæœ¬æ¬¡çš„å®éªŒçš„å®éªŒæ ·æœ¬ã€‚ å®éªŒä¸€çš„å…³é”®è¯æå–æ•ˆæœä¸­ï¼ŒtextRankå’Œtf-idfå‡èƒ½è¾ƒå¥½æå–å‡ºå…³é”®è¯ï¼ŒäºŒä¸ªç®—æ³•ä¹‹é—´çš„å…³é”®è¯æå–æ•ˆæœä¹Ÿå¹¶æ²¡æœ‰å¤ªå¤§çš„å·®å¼‚ã€‚ç„¶è€ŒäºŒè€…ä¹‹é—´çš„è€—æ—¶å´æœ‰ç€æ˜æ˜¾çš„å·®å¼‚ã€‚ç”±äºtextRankç®—æ³•ä¸­æ¶‰åŠåˆ°ç½‘ç»œå›¾çš„æ„å»ºä»¥åŠå¤šè½®è¿­ä»£ï¼Œæ‰€ä»¥æ€§èƒ½ä¸Šæ™®éæ¯”tf-idfè¦ä½ä¸Šä¸€æˆªã€‚ï¼ˆjiebaåŒ…ä¸­å·²åŒ…å«äº†å¸¸è§è¯è¯­çš„idfè¯è¯­ï¼Œå› æ­¤ä¸éœ€è¦å¤§é‡æ–‡æ¡£è¿›è¡Œå­¦ä¹ ï¼‰ å®éªŒäºŒçš„å…³é”®è¯çš„æå–æ•ˆæœä¸­å°±æœ‰ç€æ˜æ˜¾å·®å¼‚ï¼Œç”±äºjiebaåŒ…å†…ç½®çš„tf-idfå…³é”®è¯æå–ç®—æ³•ï¼Œå¹¶ä¸å­˜åœ¨å®æ—¶æ ‡æ³¨å’Œå­¦ä¹ çš„è¿‡ç¨‹ï¼Œåœ¨é¢å¯¹ä¸åŒçš„ä¸»é¢˜çš„æ–°é—»æ—¶ï¼Œå…³é”®è¯çš„æå–æ•ˆæœå°±æœ‰äº›å·®å¼‚ã€‚å¦‚å®éªŒäºŒä¸­ï¼ŒtextRankæ‰€æŠ“å–çš„10ä¸ªå…³é”®è¯éƒ½è¾ƒç¬¦åˆæ–°é—»çš„ä¸»é¢˜ï¼Œè€Œtf-idfæ‰€æå–çš„å°±æœ‰å°‘äº›æ— å®é™…æ„ä¹‰çš„è¯ä½œä¸ºå…³é”®è¯ã€‚ æ€»ç»“ï¼ŒåŸºäºå›¾çš„å…³é”®è¯çš„æå–ä¸­ç®—æ³•ï¼Œè¾ƒäºä¼ ç»Ÿçš„tf-idfå…³é”®è¯æå–æ•ˆæœæœ‰ä¸€å®šçš„æé«˜ã€‚ç„¶è€Œåœ¨æœ¬æ¬¡å®éªŒå®¤ä¸­çš„100å¤šä¸ªæµ‹è¯•é›†ä¸­ï¼Œç²—ç•¥ç»Ÿè®¡ï¼Œå¤§å¤šæ•°æ–°é—»çš„å…³é”®è¯çš„æå–ä¸­ï¼Œtf-idfçš„å…³é”®è¯æå–æ•ˆæœä¸textRankç›¸æ¯”ï¼Œå¹¶æ— å¤šå¤§å·®å¼‚ã€‚å› æ­¤æˆ‘è§‰å¾—åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿˜éœ€è¦ç»¼åˆå„ç§æƒ…å†µé€‰å–åˆé€‚çš„ç®—æ³•ã€‚","raw":null,"content":null,"categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://hareric.com/tags/%E7%AE%97%E6%B3%95/"}]},{"title":"pythonå®ç”¨è£…é¥°å™¨ä»£ç ","slug":"pythonå®ç”¨è£…é¥°å™¨ä»£ç ","date":"2016-11-20T10:09:18.000Z","updated":"2021-05-22T08:01:05.400Z","comments":true,"path":"2016/11/20/pythonå®ç”¨è£…é¥°å™¨ä»£ç /","link":"","permalink":"https://hareric.com/2016/11/20/python%E5%AE%9E%E7%94%A8%E8%A3%85%E9%A5%B0%E5%99%A8%E4%BB%A3%E7%A0%81/","excerpt":"ã€€ã€€pythonè£…é¥°å™¨æ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥å¯¹å‡½æ•°è¿›è¡Œè£…é¥°çš„é¢å‘å¯¹è±¡çš„æ–¹æ³•ã€‚ã€€ã€€å½“æƒ³è¦å¯¹ä¸€ä¸ªå·²æœ‰çš„æ¨¡å—åšä¸€äº›â€œä¿®é¥°å·¥ä½œâ€ï¼Œæ‰€è°“ä¿®é¥°å·¥ä½œå°±æ˜¯æƒ³ç»™ç°æœ‰çš„æ¨¡å—åŠ ä¸Šä¸€äº›å°è£…é¥°ï¼ˆä¸€äº›å°åŠŸèƒ½ï¼Œè¿™äº›å°åŠŸèƒ½å¯èƒ½å¥½å¤šæ¨¡å—éƒ½ä¼šç”¨åˆ°ï¼‰ï¼Œä½†åˆä¸è®©è¿™ä¸ªå°è£…é¥°ï¼ˆå°åŠŸèƒ½ï¼‰ä¾µå…¥åˆ°åŸæœ‰çš„æ¨¡å—ä¸­çš„ä»£ç é‡Œå»ã€‚æˆ‘ä»¬ä¾¿å¯ä»¥å†™æˆä¸€ä¸ªè£…é¥°å™¨ï¼Œå“ªäº›å‡½æ•°éœ€è¦å“ªäº›ä¿®é¥°åŠŸèƒ½å°±å¯ä»¥ç›´æ¥åœ¨å‡½æ•°å‰å¥—ç”¨è£…é¥°å™¨ã€‚","text":"pythonè£…é¥°å™¨æ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥å¯¹å‡½æ•°è¿›è¡Œè£…é¥°çš„é¢å‘å¯¹è±¡çš„æ–¹æ³•ã€‚ å½“æƒ³è¦å¯¹ä¸€ä¸ªå·²æœ‰çš„æ¨¡å—åšä¸€äº›â€œä¿®é¥°å·¥ä½œâ€ï¼Œæ‰€è°“ä¿®é¥°å·¥ä½œå°±æ˜¯æƒ³ç»™ç°æœ‰çš„æ¨¡å—åŠ ä¸Šä¸€äº›å°è£…é¥°ï¼ˆä¸€äº›å°åŠŸèƒ½ï¼Œè¿™äº›å°åŠŸèƒ½å¯èƒ½å¥½å¤šæ¨¡å—éƒ½ä¼šç”¨åˆ°ï¼‰ï¼Œä½†åˆä¸è®©è¿™ä¸ªå°è£…é¥°ï¼ˆå°åŠŸèƒ½ï¼‰ä¾µå…¥åˆ°åŸæœ‰çš„æ¨¡å—ä¸­çš„ä»£ç é‡Œå»ã€‚æˆ‘ä»¬ä¾¿å¯ä»¥å†™æˆä¸€ä¸ªè£…é¥°å™¨ï¼Œå“ªäº›å‡½æ•°éœ€è¦å“ªäº›ä¿®é¥°åŠŸèƒ½å°±å¯ä»¥ç›´æ¥åœ¨å‡½æ•°å‰å¥—ç”¨è£…é¥°å™¨ã€‚ type_limitç”¨é€” é™åˆ¶å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹è£…é¥°å™¨ä»£ç 1234567891011121314151617181920212223242526class LimitError(Exception): pass def type_limit(*input_type, **return_type): def test_value_type(func): def wrapper(*args, **kwargs): length = len(input_type) if length != len(args): raise LimitError(&quot;The list of typeLimit and param &quot; &quot;must have the same length&quot;) for index in range(length): t = input_type[index] p = args[index] if not isinstance(p, t): raise LimitError(&quot;The param %s should be %s,&quot; &quot;but it&#x27;s %s now!&quot; % (str(p), t, type(p))) res = func(*args, **kwargs) if &quot;return_type&quot; in return_type: limit = return_type[&quot;return_type&quot;] if not isinstance(res, limit): raise LimitError( &quot;This function must return a value that is %s,&quot; &quot;but now it&#x27;s %s&quot; % (limit, type(res))) return res return wrapper return test_value_typeä½¿ç”¨æ–¹æ³•123@type_limit(int, int, return_type=int)def add(a, b): return a + b exe_timeç”¨é€” è¾“å‡ºå‡½æ•°è¿è¡Œæ—¶é—´è£…é¥°å™¨ä»£ç 12345678910111213141516171819import timedef exe_time(func): def wrapper(*args, **kwargs): t0 = time.time() sys.stdout.write(&#x27;\\033[0;32;0m&#x27;) print &quot;-----------------------------------&quot; print &quot;%s,function \\033[4;32;0m%s()\\033[0m\\033[0;32;0m start&quot; \\ % (time.strftime(&quot;%X&quot;, time.localtime()), func.__name__) sys.stdout.write(&#x27;\\033[0m&#x27;) res = func(*args, **kwargs) sys.stdout.write(&#x27;\\033[0;32;0m&#x27;) print &quot;%s,function \\033[4;32;0m%s()\\033[0m\\033[0;32;0m end&quot; \\ % (time.strftime(&quot;%X&quot;, time.localtime()), func.__name__) print &quot;%.3fs taken for function \\033[4;32;0m%s()\\033[0m\\033[0;32;0m&quot; \\ % (time.time() - t0, func.__name__) print &quot;-----------------------------------&quot; sys.stdout.write(&#x27;\\033[0m&#x27;) return res return wrapperä½¿ç”¨æ–¹æ³•1234@exe_timedef func(): for i in range(100000): pass","raw":null,"content":null,"categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"}]},{"title":"HMM+Vetebiç®—æ³•å®ç°è¯æ€§æ ‡æ³¨ pythonå®ç°","slug":"HMM-Vetebiç®—æ³•å®ç°è¯æ€§æ ‡æ³¨-pythonå®ç°","date":"2016-10-30T14:01:52.000Z","updated":"2021-05-23T13:21:37.047Z","comments":true,"path":"2016/10/30/HMM-Vetebiç®—æ³•å®ç°è¯æ€§æ ‡æ³¨-pythonå®ç°/","link":"","permalink":"https://hareric.com/2016/10/30/HMM-Vetebi%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%E8%AF%8D%E6%80%A7%E6%A0%87%E6%B3%A8-python%E5%AE%9E%E7%8E%B0/","excerpt":"ã€€ã€€éšé©¬å°”å¯å¤«æ¨¡å‹ï¼ˆHidden Markov Modelï¼ŒHMMï¼‰æ˜¯ç»Ÿè®¡æ¨¡å‹ï¼Œå®ƒç”¨æ¥æè¿°ä¸€ä¸ªå«æœ‰éšå«æœªçŸ¥å‚æ•°çš„é©¬å°”å¯å¤«è¿‡ç¨‹ã€‚å…¶éš¾ç‚¹æ˜¯ä»å¯è§‚å¯Ÿçš„å‚æ•°ä¸­ç¡®å®šè¯¥è¿‡ç¨‹çš„éšå«å‚æ•°ã€‚ç„¶ååˆ©ç”¨è¿™äº›å‚æ•°æ¥ä½œè¿›ä¸€æ­¥çš„åˆ†æï¼Œä¾‹å¦‚æ¨¡å¼è¯†åˆ«ã€‚ã€€ã€€åœ¨æ­£å¸¸çš„é©¬å°”å¯å¤«æ¨¡å‹ä¸­ï¼ŒçŠ¶æ€å¯¹äºè§‚å¯Ÿè€…æ¥è¯´æ˜¯ç›´æ¥å¯è§çš„ã€‚è¿™æ ·çŠ¶æ€çš„è½¬æ¢æ¦‚ç‡ä¾¿æ˜¯å…¨éƒ¨çš„å‚æ•°ã€‚è€Œåœ¨éšé©¬å°”å¯å¤«æ¨¡å‹ä¸­,çŠ¶æ€å¹¶ä¸æ˜¯ç›´æ¥å¯è§çš„ï¼Œä½†å—çŠ¶æ€å½±å“çš„æŸäº›å˜é‡åˆ™æ˜¯å¯è§çš„ã€‚æ¯ä¸€ä¸ªçŠ¶æ€åœ¨å¯èƒ½è¾“å‡ºçš„ç¬¦å·ä¸Šéƒ½æœ‰ä¸€æ¦‚ç‡åˆ†å¸ƒã€‚å› æ­¤è¾“å‡ºç¬¦å·çš„åºåˆ—èƒ½å¤Ÿé€éœ²å‡ºçŠ¶æ€åºåˆ—çš„ä¸€äº›ä¿¡æ¯ã€‚","text":"éšé©¬å°”å¯å¤«æ¨¡å‹ï¼ˆHidden Markov Modelï¼ŒHMMï¼‰æ˜¯ç»Ÿè®¡æ¨¡å‹ï¼Œå®ƒç”¨æ¥æè¿°ä¸€ä¸ªå«æœ‰éšå«æœªçŸ¥å‚æ•°çš„é©¬å°”å¯å¤«è¿‡ç¨‹ã€‚å…¶éš¾ç‚¹æ˜¯ä»å¯è§‚å¯Ÿçš„å‚æ•°ä¸­ç¡®å®šè¯¥è¿‡ç¨‹çš„éšå«å‚æ•°ã€‚ç„¶ååˆ©ç”¨è¿™äº›å‚æ•°æ¥ä½œè¿›ä¸€æ­¥çš„åˆ†æï¼Œä¾‹å¦‚æ¨¡å¼è¯†åˆ«ã€‚ åœ¨æ­£å¸¸çš„é©¬å°”å¯å¤«æ¨¡å‹ä¸­ï¼ŒçŠ¶æ€å¯¹äºè§‚å¯Ÿè€…æ¥è¯´æ˜¯ç›´æ¥å¯è§çš„ã€‚è¿™æ ·çŠ¶æ€çš„è½¬æ¢æ¦‚ç‡ä¾¿æ˜¯å…¨éƒ¨çš„å‚æ•°ã€‚è€Œåœ¨éšé©¬å°”å¯å¤«æ¨¡å‹ä¸­,çŠ¶æ€å¹¶ä¸æ˜¯ç›´æ¥å¯è§çš„ï¼Œä½†å—çŠ¶æ€å½±å“çš„æŸäº›å˜é‡åˆ™æ˜¯å¯è§çš„ã€‚æ¯ä¸€ä¸ªçŠ¶æ€åœ¨å¯èƒ½è¾“å‡ºçš„ç¬¦å·ä¸Šéƒ½æœ‰ä¸€æ¦‚ç‡åˆ†å¸ƒã€‚å› æ­¤è¾“å‡ºç¬¦å·çš„åºåˆ—èƒ½å¤Ÿé€éœ²å‡ºçŠ¶æ€åºåˆ—çš„ä¸€äº›ä¿¡æ¯ã€‚ é©¬å°”ç§‘å¤«æ¨¡å‹ ï¼ˆMarkov Modelï¼ŒHMMï¼‰ åœ¨è€ƒè™‘éšé©¬å°”ç§‘å¤«æ¨¡å‹ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆè¦äº†è§£é©¬å°”å¯å¤«æ¨¡å‹ã€‚é©¬å°”å¯å¤«æ¨¡å‹æè¿°äº†ä¸€ç±»é‡è¦çš„éšæœºè¿‡ç¨‹ï¼Œè¿™ä¸ªéšæœºè¿‡ç¨‹æ˜¯éšæ—¶é—´è€Œéšæœºå˜åŒ–çš„è¿‡ç¨‹ã€‚æˆ‘ä»¬å¸¸ä¼šè€ƒè™‘ä¸€ä¸ªå¹¶ä¸äº’ç›¸ç‹¬ç«‹çš„éšæœºå˜é‡ç»„æˆçš„åºåˆ—ï¼Œåºåˆ—ä¸­æ¯ä¸ªå˜é‡çš„å€¼ä¾èµ–äºå®ƒå‰é¢çš„å…ƒç´ ã€‚ç®€å•æ¥è¯´ï¼š å³åœ¨ç‰¹å®šæ¡ä»¶ä¸‹ï¼Œç³»ç»Ÿåœ¨æ—¶é—´tçš„çŠ¶æ€åªä¸å…¶åœ¨æ—¶é—´t-1çš„çŠ¶æ€ç›¸å…³è¯¥éšæœºè¿‡ç¨‹ç§°ä¸ºä¸€é˜¶é©¬å°”å¯å¤«è¿‡ç¨‹ã€‚ éšé©¬å°”ç§‘å¤«æ¨¡å‹ï¼ˆHidden Markov Modelï¼ŒHMMï¼‰ å¦‚æœçŸ¥é“æŸä¸ªäº‹ä»¶çš„è§‚å¯Ÿåºåˆ—ï¼Œæ˜¯å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé©¬å°”å¯å¤«æ¨¡å‹æ¥è®¡ç®—ï¼›ä½†æ˜¯ï¼Œæœ‰æ—¶å€™æœ‰äº›äº‹ä»¶æ˜¯ä¸å¯ä»¥ç›´æ¥è§‚æµ‹åˆ°çš„ã€‚ä¾‹å¦‚ï¼Œæœ¬ç¯‡åšæ–‡è¦è®²çš„è¯æ€§æ ‡æ³¨è¿™ä¸ªä¾‹å­ï¼š å­—ä¸²(å¯è§‚å¯Ÿåºåˆ—)ï¼š ç»“åˆ / æˆ / åˆ†å­ / æ—¶ å­—çš„è¯æ€§(éšåºåˆ—)ï¼š vn,v / v,nr,q,a,an,j / n / Ng,nr,Dg / HMMå°±æ˜¯ä¼°ç®—éšè—äºè¡¨é¢äº‹ä»¶èƒŒåçš„äº‹ä»¶çš„æ¦‚ç‡ã€‚ è½¬ç§»æ¦‚ç‡çŸ©é˜µ è½¬ç§»æ¦‚ç‡æŒ‡çš„æ˜¯ä¼°è®¡çš„äº‹ä»¶çš„åºåˆ—ä¹‹é—´çš„æ¦‚ç‡å…³ç³»ï¼Œä¸Šè¯‰ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ‰€éœ€è¦çš„è½¬ç§»æ¦‚ç‡ä¸ºP(v|vn)p(v|v)â€¦P(v|n)è¡¨ç¤ºå‰ä¸€ä¸ªè¯çš„è¯æ€§æ˜¯åè¯ï¼Œåˆ™è¿™ä¸ªè¯ä¸ºåŠ¨è¯çš„æ¦‚ç‡ã€‚é€šè¿‡è®­ç»ƒé›†çš„ç»Ÿè®¡æˆ‘ä»¬å¯ä»¥ç»Ÿè®¡å¾—å‡ºè½¬ç§»æ¦‚ç‡çŸ©é˜µã€‚å³è¯æ€§è½¬ç§»çŸ©é˜µï¼š v n s ï½– 0.5 0.375 0.125 ï½ 0.25 0.125 0.625 ï½“ 0.25 0.375 0.375 å‘å°„æ¦‚ç‡çŸ©é˜µ å‘å°„æ¦‚ç‡æŒ‡çš„æ˜¯ï¼Œéšè—åºåˆ—å’Œå¯è§‚å¯Ÿåºåˆ—ä¹‹é—´çš„æ¦‚ç‡å…³ç³»ï¼Œä¸Šè¿°ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦çš„å‘å°„æ¦‚ç‡ä¸ºP(ç»“åˆï½œv)â€¦è¡¨ç¤ºâ€œç»“åˆâ€è¿™ä¸ªè¯ä¸ºåŠ¨è¯çš„æ¦‚ç‡ã€‚é€šè¿‡è®­ç»ƒé›†çš„ç»Ÿè®¡ï¼Œæˆ‘ä»¬åŒæ ·ä¹Ÿèƒ½å¤Ÿå¾—å‡ºå‘å°„æ¦‚ç‡çŸ©é˜µï¼š v n s ç»“åˆ 0.5 0.375 0.125 æˆ 0.25 0.125 0.625 åˆ†å­ 0.25 0.375 0.375 æ—¶ 0.25 0.375 0.375 ps ä¸Šé¢çŸ©é˜µçš„æ•°æ®éƒ½æ˜¯ä¹±å†™çš„ è®¡ç®—è§‚æµ‹åºåˆ—çš„æ¦‚ç‡ æœ‰äº†è½¬ç§»çŸ©é˜µå’Œæ¦‚ç‡çŸ©é˜µï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥æ¥é¢„æµ‹å¥å­ä¸­æ¯ä¸ªè¯çš„è¯æ€§ã€‚æœ€ç›´æ¥æ˜“æ‡‚çš„æ–¹æ³•ä¾¿æ˜¯ç©·ä¸¾æ³•ï¼Œæˆ‘ä»¬é€šè¿‡æ±‚æ¯ä¸ªè¯æ¯ä¸ªè¯æ€§æ¯ç§æƒ…å†µçš„æ¦‚ç‡ï¼Œå–æœ€å¤§çš„æ¦‚ç‡ä½œä¸ºæˆ‘ä»¬é¢„æµ‹çš„è¯æ€§æ ‡æ³¨ã€‚ ä¾‹å¦‚ä¸Šè¿°ä¾‹å­ï¼š å­—ä¸²ï¼š ç»“åˆ / æˆ / åˆ†å­ / æ—¶ å­—çš„è¯æ€§ï¼š vn,v / v,nr,q,a,an,j / n / Ng,nr,Dg / ç¬¬ä¸€ç§å¯èƒ½çš„è¯æ€§åºåˆ—æ˜¯ï¼švn,v,n,Ng å³: P(ç»“åˆ,æˆ,åˆ†å­,æ—¶,vn,v,n,Ng) =p(ç»“åˆ|vn)Ã—p(æˆ|v)Ã—p(åˆ†å­|n)Ã—p(æ—¶|Ng)Ã—p(vn|start)Ã—p(v|vn)Ã—p(n|v)Ã—p(Ng|n) Vetebiç®—æ³• å¦‚æœç›´æ¥ä½¿ç”¨ä¸Šè¿°çš„ç©·ä¸¾æ³•å»å¯»æ‰¾æœ€ä¼˜çš„æ¦‚ç‡ï¼Œæ¯‹åº¸ç½®ç–‘è¯¥ç®—æ³•çš„å¤æ‚åº¦æ˜¯ç›¸å½“å¤æ‚çš„ï¼Œä¾‹å¦‚ä¸Šè¿°ä¾‹å­ä»…æœ‰ï¼”ä¸ªè¯å´æ€»å…±æœ‰36ç§æƒ…å†µéœ€è¦è€ƒè™‘ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦åˆ†åˆ«è®¡ç®—36ç§æƒ…å†µçš„æ¦‚ç‡ï¼Œç„¶åå–æœ€å¤§å€¼ä½œä¸ºæˆ‘ä»¬çš„é¢„æµ‹ç»“æœã€‚é‚£ä¹ˆæˆ‘ä»¬æœ‰æ²¡æœ‰ä»€ä¹ˆå¯ä»¥ç®€åŒ–çš„æ–¹æ³•å—ï¼Ÿ å› æ­¤åœ¨ç®—æ³•ä¼˜åŒ–ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å¼•ç”¨ç»´ç‰¹æ¯”ç®—æ³•(Vetebi)ã€‚ç»´ç‰¹æ¯”ç®—æ³•æ˜¯ç°ä»£æ•°å­—é€šä¿¡ä¸­ä½¿ç”¨æœ€é¢‘ç¹çš„ç®—æ³•ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¾ˆå¤šè‡ªç„¶è¯­è¨€å¤„ç†çš„è§£ç ç®—æ³•ã€‚ ç®—æ³•æè¿°ï¼šä¾æ®æœ€åä¸€ä¸ªæ—¶åˆ»ä¸­æ¦‚ç‡æœ€é«˜çš„çŠ¶æ€ï¼Œé€†å‘é€šè¿‡æ‰¾å…¶è·¯å¾„ä¸­çš„ä¸Šä¸€ä¸ªæœ€å¤§éƒ¨åˆ†æœ€ä¼˜è·¯å¾„ï¼Œä»è€Œæ‰¾åˆ°æ•´ä¸ªæœ€ä¼˜è·¯å¾„ã€‚ vt(j)æ˜¯æ‰€æœ‰åºåˆ—ä¸­åœ¨tæ—¶åˆ»ä»¥çŠ¶æ€jç»ˆæ­¢çš„æœ€å¤§æ¦‚ç‡,æ‰€å¯¹åº”çš„è·¯å¾„ä¸ºéƒ¨åˆ†æœ€ä¼˜è·¯å¾„ã€‚ å®ä¾‹ è¿˜æ˜¯ä»¥â€œç»“åˆ æˆ åˆ†å­ æ—¶â€ä¸ºä¾‹å­ï¼Œåœ¨è®¡ç®—æ¦‚ç‡çš„é€”ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºä¸æ–­å¯»æ‰¾æœ€ä¼˜è§£çš„è¿‡ç¨‹ã€‚ æˆ‘ä»¬å¯ä»¥é¦–å…ˆè€ƒè™‘â€œç»“åˆ æˆâ€è¿™2ä¸ªè¯çš„è¯æ€§è®¡ç®—è¯æ€§æ¦‚ç‡ï¼Œå¯¹äºâ€œæˆâ€çš„6ä¸ªè¯æ€§åˆ†åˆ«éƒ½æœ‰ä¸€ä¸ªæœ€å¤§çš„æ¦‚ç‡å’Œå¯¹åº”çš„å‰ç½®è¯æ€§å¦‚å›¾æ‰€ç¤ºï¼š æ¥ç€è€ƒè™‘â€œåˆ†å­â€çš„è¯æ€§ä¸ºnï¼Œå®ƒçš„æœ€ä¼˜å‰ç½®è¯æ€§ä¸ºanï¼Œå¦‚å›¾æ‰€ç¤ºï¼š æœ€åè€ƒè™‘â€œæ—¶â€çš„è¯æ€§Ng,nr,Dgï¼Œåˆ†åˆ«è®¡ç®—å¾—æœ€åçš„æ¦‚ç‡ä¸º0.1ï¼Œ0.2ï¼Œ0.3ï¼›å¦‚å›¾æ‰€ç¤ºï¼š å–æœ€å¤§æ¦‚ç‡Dgä¸º0.3ï¼Œä»åå¾€å‰å°†å…¨å±€æœ€ä¼˜è·¯å¾„å¯¼å‡ºï¼Œå¦‚å›¾æ‰€ç¤ºï¼š æœ€åæˆ‘ä»¬å¯ä»¥å¾—å‡ºæœ€ç»ˆç»“æœ: ç»“åˆ/v; æˆ/an; åˆ†å­/n; æ—¶/Dg pythonä»£ç å®ç°æ ¸å¿ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536def hmm(self, sentence_list): &quot;&quot;&quot; :param sentence_list: å·²åˆ†å¥½è¯çš„å¥å­åˆ—è¡¨ :return: å¯¹åº”æ¯ä¸ªè¯çš„è¯æ€§åˆ—è¡¨ &quot;&quot;&quot; sentence_list = list(sentence_list) sentence_len = sentence_list.__len__() # å¥å­é•¿åº¦ cixin_len = self.cixin_list.__len__() # è¯æ€§ä¸ªæ•° # æ¦‚ç‡åˆ†å¸ƒè¡¨ .[i, j, 0]è¡¨ç¤ºç¬¬iä¸ªè¯ä¸ºç¬¬jä¸ªè¯æ€§çš„æœ€ä¼˜æ¦‚ç‡;.[i, j, 1]è¡¨ç¤ºè¯¥æœ€ä¼˜æ¦‚ç‡çš„å‰ä¸€ä¸ªè¯çš„è¯æ€§ç´¢å¼•,è‹¥ä¸º-1è¡¨ç¤ºè¯¥è¯ä¸ºç¬¬ä¸€ä¸ªè¯æ— å‰è¯ pro_table = np.zeros((sentence_len, cixin_len, 2)) try: pro_table[0, :, 0] = self.emitter_pro_matrix[self.vocab_map[sentence_list[0]]] pro_table[0, :, 1] = -1 for i in range(sentence_len)[1:]: for j in range(cixin_len): if self.emitter_pro_matrix[self.vocab_map[sentence_list[i]], j] == 0: continue pre_cixin_pro = pro_table[i-1, :, 0] pre_cixin_pro *= self.trans_pro_matrix[j] pre_cixin_pro *= self.emitter_pro_matrix[self.vocab_map[sentence_list[i]], j] pro_table[i, j, 0] = np.max(pre_cixin_pro) pro_table[i, j, 1] = np.where(pre_cixin_pro == np.max(pre_cixin_pro))[0][0] result_cixin_map = [] sy = int(np.where(pro_table[-1, :, 0] == np.max(pro_table[-1, :, 0]))[0][0]) t = -1 except KeyError: return &quot;æ— æ³•æ­£å¸¸è¿è¡Œ æœ‰è¯è¯­ä¸å­˜åœ¨è¯åº“ä¹‹ä¸­&quot; while sy != -1: result_cixin_map.append(sy) sy = int(pro_table[t, sy, 1]) t -= 1 result_cixin = [] for s in result_cixin_map[::-1]: result_cixin.append(self.cixin_list[s]) return result_cixin å®Œæ•´ä»£ç åŠæ•°æ®ä¸‹è½½","raw":null,"content":null,"categories":[],"tags":[{"name":"NLP","slug":"NLP","permalink":"https://hareric.com/tags/NLP/"},{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"}]},{"title":"Java DBhelperç±»","slug":"Java-DBhelperç±»","date":"2016-10-11T13:55:54.000Z","updated":"2021-05-22T08:01:05.399Z","comments":true,"path":"2016/10/11/Java-DBhelperç±»/","link":"","permalink":"https://hareric.com/2016/10/11/Java-DBhelper%E7%B1%BB/","excerpt":"ã€€ã€€ç®€å•ç”¨Javaå†™çš„è¿æ¥mysqlçš„DBhealperç±»ï¼ŒåŒ…å«äº†åŸºæœ¬çš„æ•°æ®åº“è¿æ¥ï¼Œå¢åˆ æŸ¥æ”¹ç­‰åŠŸèƒ½ã€‚","text":"ç®€å•ç”¨Javaå†™çš„è¿æ¥mysqlçš„DBhealperç±»ï¼ŒåŒ…å«äº†åŸºæœ¬çš„æ•°æ®åº“è¿æ¥ï¼Œå¢åˆ æŸ¥æ”¹ç­‰åŠŸèƒ½ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382import java.sql.*;/*** @author Eric_Chan* @version 2016.10.11*/public class DBhelper &#123; private String ipAddress = &quot;127.0.0.1&quot;; private int port = 3306; private String user = &quot;&quot;; private String pwd = &quot;&quot;; private String dbName = &quot;&quot;; private Connection conn; private static DBhealper instance = null; // å•ä¾‹ /** * æ£€æŸ¥æ˜¯å¦å¯¼å…¥ mysql-connector-java.jar */ private DBhealper() &#123; try &#123; Class.forName(&quot;com.mysql.jdbc.Driver&quot;); &#125; catch (ClassNotFoundException e) &#123; System.out.println(&quot;æ²¡æœ‰æ­£ç¡®å¯¼å…¥ connector.jar\\n ä¸‹è½½åœ°å€http://dev.mysql.com/downloads/connector/j/&quot;); &#125; &#125; /** * è·å¾—å”¯ä¸€è¿æ¥å™¨ * @return DbConnection */ public static DBhealper getInstance() &#123; if (DBhealper.instance == null) &#123; instance = new DBhealper(); return DBhealper.instance; &#125; else &#123; return DBhealper.instance; &#125; &#125; /** * è¿æ¥æ•°æ®åº“ */ private void connect() throws SQLException &#123; String url = String.format(&quot;jdbc:mysql://%s:%s/%s&quot;,this.ipAddress, this.port, this.dbName); try &#123; this.conn = DriverManager.getConnection(url, this.user, this.pwd); &#125; catch (SQLException e) &#123; System.out.println(&quot;è¿æ¥å¤±è´¥\\n&quot;); e.printStackTrace(); &#125; &#125; /** * æä¾›å‚æ•° å¹¶è¿æ¥æ•°æ®åº“ é»˜è®¤ä¸ºæœ¬åœ°æ•°æ®åº“ï¼Œç«¯å£ä¸º3306 * @param user ç”¨æˆ·å * @param pwd å¯†ç  * @param dbName æ•°æ®åº“å */ public void connSQL(String user, String pwd, String dbName) throws SQLException &#123; this.user = user; this.pwd = pwd; this.dbName = dbName; this.connect(); System.out.println(&quot;è¿æ¥æˆåŠŸ\\nconn-------------&quot; + conn + &#x27;\\n&#x27;); this.free(this.conn, null, null); &#125; public void connSQL(String user, String pwd, String dbName, int port) throws SQLException &#123; this.port = port; this.connSQL(user, pwd, dbName); &#125; public void connSQL(String user, String pwd, String dbName, String ipAddress) throws SQLException &#123; this.ipAddress = ipAddress; this.connSQL(user, pwd, dbName); &#125; public void connSQL(String user, String pwd, String dbName,String ipAddress, int port) throws SQLException &#123; this.ipAddress = ipAddress; this.port = port; this.connSQL(user, pwd, dbName); &#125; /** * å°†è¡¨å†…æ•°æ®è¾“å‡ºè‡³æ§åˆ¶å° * @param tableName è¡¨å * @throws Exception */ public void showTable(String tableName) throws SQLException &#123; this.connect(); Statement stmt = null; ResultSet rs = null; try &#123; String sql = &quot;SELECT * FROM &quot; + tableName; stmt = conn.createStatement(); rs = stmt.executeQuery(sql); DBhealper.showResultSet(rs); &#125; catch(SQLException e) &#123; e.printStackTrace(); &#125; finally &#123; this.free(this.conn, stmt, rs); &#125; &#125; /** * æŸ¥ã€Queryã€‘ * æ— å‚æŸ¥æ‰¾ * @param sql * @return ResultSet */ public ResultSet executeQuery(String sql) throws SQLException &#123; this.connect(); Statement stmt = null; ResultSet rs = null; try &#123; stmt = conn.createStatement(); rs = stmt.executeQuery(sql); &#125; catch (SQLException e) &#123; e.printStackTrace(); this.free(conn, stmt, rs); &#125; return rs; &#125; /** * æŸ¥ã€Queryã€‘ * æœ‰å‚æŸ¥æ‰¾ * @param sql * @param obj * @return ResultSet */ public ResultSet executeQuery(String sql, Object... obj) throws SQLException &#123; this.connect(); PreparedStatement pstmt = null; ResultSet rs = null; try &#123; pstmt = conn.prepareStatement(sql); for (int i = 0; i &lt; obj.length; i++) &#123; pstmt.setObject(i + 1, obj[i]); &#125; rs = pstmt.executeQuery(); &#125; catch (SQLException e) &#123; e.printStackTrace(); this.free(conn, pstmt, rs); &#125; return rs; &#125; /** * æ›´æ–°ã€updateã€‘ æ— å‚æ›´æ–° * * @param sql * @return int */ public int executeUpdate(String sql) &#123; this.connect(); Statement stmt = null; int rs = 0; try &#123; stmt = conn.createStatement(); rs = stmt.executeUpdate(sql); &#125; catch (SQLException e) &#123; e.printStackTrace(); this.free(conn, stmt, null); &#125; return rs; &#125; /** * æ›´æ–°ã€updateã€‘ æœ‰å‚æ›´æ–° * * @param sql * @param obj * @return int */ public int executeUpdate(String sql, Object... obj) &#123; this.connect(); PreparedStatement pstmt = null; int rs = 0; try &#123; pstmt = conn.prepareStatement(sql); for (int i = 0; i &lt; obj.length; i++) &#123; pstmt.setObject(i + 1, obj[i]); &#125; rs = pstmt.executeUpdate(); &#125; catch (SQLException e) &#123; e.printStackTrace(); this.free(conn, pstmt, null); &#125; return rs; &#125; /** * å°†ResultSetå†…çš„æ•°æ®è¾“å‡ºè‡³æ§åˆ¶å° * @param rs * @throws SQLException */ public static void showResultSet(ResultSet rs) throws SQLException &#123; ResultSetMetaData rsmd = rs.getMetaData(); int columnCount = rsmd.getColumnCount(); // è¾“å‡ºåˆ—å for (int i=1; i&lt;=columnCount; i++) &#123; System.out.print(rsmd.getColumnName(i)); System.out.print(&quot;(&quot; + rsmd.getColumnTypeName(i) + &quot;)&quot;); System.out.print(&quot; | &quot;); &#125; System.out.println(); // è¾“å‡ºæ•°æ® while (rs.next()) &#123; for (int i=1; i&lt;=columnCount; i++) &#123; System.out.print(rs.getString(i) + &quot; | &quot;); &#125; System.out.println(); &#125; &#125; /** * åˆ¤æ–­è®°å½•æ˜¯å¦å­˜åœ¨ * * @param sql * @return Boolean */ public Boolean isExist(String sql) throws SQLException &#123; this.connect(); Statement stmt = null; Boolean isEx = false; ResultSet rs = null; try &#123; stmt = conn.createStatement(); rs = stmt.executeQuery(sql); rs.last(); isEx = rs.getRow()&gt;0; &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; finally &#123; this.free(conn, stmt, rs); &#125; return isEx; &#125; /** * åˆ¤æ–­è®°å½•æ˜¯å¦å­˜åœ¨ * @param sql * @return Boolean */ public Boolean isExist(String sql, Object... obj) throws SQLException &#123; this.connect(); PreparedStatement pstmt = null; Boolean isEx = false; ResultSet rs = null; try &#123; pstmt = conn.prepareStatement(sql); for (int i = 0; i &lt; obj.length; i++) &#123; pstmt.setObject(i + 1, obj[i]); &#125; rs = pstmt.executeQuery(); rs.last(); isEx = rs.getRow()&gt;0; &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; finally &#123; this.free(conn, pstmt, rs); &#125; return isEx; &#125; /** * ç”¨æ¥é‡Šæ”¾æ‰€æœ‰æ•°æ®èµ„æº * @param conn * @param stmt * @param rs * @throws SQLException */ public void free(Connection conn, Statement stmt, ResultSet rs) throws SQLException &#123; if (conn!=null) &#123; try &#123; conn.close(); &#125; catch(SQLException e) &#123; e.printStackTrace(); &#125; &#125; if (stmt!=null) &#123; try &#123; stmt.close(); &#125; catch(SQLException e) &#123; e.printStackTrace(); &#125; &#125; if (rs!=null) &#123; try &#123; rs.close(); &#125; catch(SQLException e) &#123; e.printStackTrace(); &#125; &#125; &#125; public void close() &#123; try &#123; this.conn.close(); &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; &#125; public static void main(String args[]) throws SQLException &#123; DBhealper connector = DBhealper.getInstance(); connector.connSQL(&quot;root&quot;, &quot;1q2w3e&quot;, &quot;student&quot;, 3307); // connector.showTable(&quot;student&quot;); //ResultSet rs = connector.executeQuery(&quot;SELECT * FROM student WHERE st_name=? and st_Password=?&quot;, &quot;Jack&quot;, &quot;1234&quot;); //DBhealper.showResultSet(rs); Boolean isEx = connector.isExist(&quot;SELECT * FROM student WHERE st_name=? and st_Password=?&quot;, &quot;Jack&quot;, &quot;1234&quot;); System.out.println(isEx); connector.close(); &#125; &#125;","raw":null,"content":null,"categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://hareric.com/tags/Java/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://hareric.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"}]},{"title":"åŸºäºè§„åˆ™çš„åˆ†è¯ç®—æ³•(MM RMMç®—æ³•)åŠpythonä»£ç å®ç°","slug":"åŸºäºè§„åˆ™çš„åˆ†è¯ç®—æ³•(MM RMMç®—æ³•)åŠpythonä»£ç å®ç°","date":"2016-10-08T15:39:29.000Z","updated":"2021-05-23T13:21:37.192Z","comments":true,"path":"2016/10/08/åŸºäºè§„åˆ™çš„åˆ†è¯ç®—æ³•(MM RMMç®—æ³•)åŠpythonä»£ç å®ç°/","link":"","permalink":"https://hareric.com/2016/10/08/%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E5%88%86%E8%AF%8D%E7%AE%97%E6%B3%95(MM%20RMM%E7%AE%97%E6%B3%95)%E5%8F%8Apython%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0/","excerpt":"ä¸€ã€ç†è®ºæè¿°ã€€ã€€ä¸­æ–‡åˆ†è¯æŒ‡çš„æ˜¯å°†ä¸€ä¸ªæ±‰å­—åºåˆ—åˆ‡åˆ†æˆä¸€ä¸ªä¸€ä¸ªå•ç‹¬çš„è¯ã€‚ç°æœ‰çš„åˆ†è¯ç®—æ³•å¯åˆ†ä¸ºä¸‰å¤§ç±»ï¼šåŸºäºå­—ç¬¦ä¸²åŒ¹é…çš„åˆ†è¯æ–¹æ³•ã€åŸºäºç†è§£çš„åˆ†è¯æ–¹æ³•å’ŒåŸºäºç»Ÿè®¡çš„åˆ†è¯æ–¹æ³•ã€‚å…¶ä¸­ï¼ŒåŸºäºå­—ç¬¦ä¸²åŒ¹é…çš„åˆ†è¯æ–¹æ³•æ˜¯æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥å°†å¾…åˆ†æçš„æ±‰å­—ä¸²ä¸æœºå™¨è¯å…¸ä¸­çš„è¯æ¡è¿›è¡ŒåŒ¹é…ï¼Œè‹¥åœ¨è¯å…¸ä¸­æ‰¾åˆ°æŸä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™åŒ¹é…æˆåŠŸï¼ˆè¯†åˆ«å‡ºä¸€ä¸ªè¯ï¼‰ã€‚æŒ‰ç…§æ‰«ææ–¹å‘çš„ä¸åŒï¼ŒåŸºäºå­—ç¬¦ä¸²åŒ¹é…çš„åˆ†è¯æ–¹æ³•å¯ä»¥åˆ†ä¸ºæ­£å‘æœ€å¤§åŒ¹é…ç®—æ³•ï¼ˆMaximum Matchingï¼Œä¸‹é¢ç®€ç§°MMï¼‰å’Œé€†å‘æœ€å¤§åŒ¹é…ç®—æ³•ï¼ˆReverse Maximum Matchingï¼Œä¸‹é¢ç®€ç§°RMMï¼‰ã€‚ã€€ã€€æœ¬åˆ†è¯ç³»ç»Ÿåªæ˜¯ä¸€ä¸ªç®€å•çš„æ¼”ç¤ºç¨‹åºï¼Œç®€å•åœ°æ ¹æ®è¯­æ–™åº“çš„ä¿¡æ¯ï¼Œåˆ©ç”¨â€œæ­£å‘æœ€å¤§åŒ¹é…â€ã€â€œé€†å‘æœ€å¤§åŒ¹é…ç®—æ³•â€å°†ä¸€å°æ®µæ–‡å­—è¿›è¡Œåˆ†è¯ã€‚","text":"ä¸€ã€ç†è®ºæè¿° ä¸­æ–‡åˆ†è¯æŒ‡çš„æ˜¯å°†ä¸€ä¸ªæ±‰å­—åºåˆ—åˆ‡åˆ†æˆä¸€ä¸ªä¸€ä¸ªå•ç‹¬çš„è¯ã€‚ç°æœ‰çš„åˆ†è¯ç®—æ³•å¯åˆ†ä¸ºä¸‰å¤§ç±»ï¼šåŸºäºå­—ç¬¦ä¸²åŒ¹é…çš„åˆ†è¯æ–¹æ³•ã€åŸºäºç†è§£çš„åˆ†è¯æ–¹æ³•å’ŒåŸºäºç»Ÿè®¡çš„åˆ†è¯æ–¹æ³•ã€‚å…¶ä¸­ï¼ŒåŸºäºå­—ç¬¦ä¸²åŒ¹é…çš„åˆ†è¯æ–¹æ³•æ˜¯æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥å°†å¾…åˆ†æçš„æ±‰å­—ä¸²ä¸æœºå™¨è¯å…¸ä¸­çš„è¯æ¡è¿›è¡ŒåŒ¹é…ï¼Œè‹¥åœ¨è¯å…¸ä¸­æ‰¾åˆ°æŸä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™åŒ¹é…æˆåŠŸï¼ˆè¯†åˆ«å‡ºä¸€ä¸ªè¯ï¼‰ã€‚æŒ‰ç…§æ‰«ææ–¹å‘çš„ä¸åŒï¼ŒåŸºäºå­—ç¬¦ä¸²åŒ¹é…çš„åˆ†è¯æ–¹æ³•å¯ä»¥åˆ†ä¸ºæ­£å‘æœ€å¤§åŒ¹é…ç®—æ³•ï¼ˆMaximum Matchingï¼Œä¸‹é¢ç®€ç§°MMï¼‰å’Œé€†å‘æœ€å¤§åŒ¹é…ç®—æ³•ï¼ˆReverse Maximum Matchingï¼Œä¸‹é¢ç®€ç§°RMMï¼‰ã€‚ æœ¬åˆ†è¯ç³»ç»Ÿåªæ˜¯ä¸€ä¸ªç®€å•çš„æ¼”ç¤ºç¨‹åºï¼Œç®€å•åœ°æ ¹æ®è¯­æ–™åº“çš„ä¿¡æ¯ï¼Œåˆ©ç”¨â€œæ­£å‘æœ€å¤§åŒ¹é…â€ã€â€œé€†å‘æœ€å¤§åŒ¹é…ç®—æ³•â€å°†ä¸€å°æ®µæ–‡å­—è¿›è¡Œåˆ†è¯ã€‚ äºŒã€ç®—æ³•æè¿°â¢ æ­£å‘æœ€å¤§åŒ¹é…ç®—æ³•ï¼ˆMMï¼‰ï¼šæŒ‰ç…§äººå¾—è€Œè‡ªç„¶é˜…è¯»é¡ºåºä»å·¦å¾€å³å¯¹ä¸€æ®µè¯ç”šè‡³æ–‡ç« è¿›è¡Œè¯åº“åŒ¹é…åˆ‡åˆ†ã€‚è®¾MaxLenä¸ºæœ€å¤§è¯é•¿,Dä¸ºåˆ†è¯è¯å…¸ï¼ˆ1ï¼‰ä»å¾…åˆ‡åˆ†è¯­æ–™ä¸­æŒ‰æ­£å‘å–é•¿åº¦ä¸ºMaxLençš„å­—ç¬¦ä¸²strï¼Œä»¤Len =MaxLenï¼›ï¼ˆ2ï¼‰å°†strä¸Dä¸­çš„è¯è¯­äº’ç›¸åŒ¹é…ï¼›ï¼ˆ3ï¼‰ifåŒ¹é…æˆåŠŸï¼Œå°†æŒ‡é’ˆå‘å‰ç§»Lenä¸ªæ±‰å­—ï¼Œå¹¶è¿”å›åˆ°ï¼ˆ1ï¼‰ï¼›ï¼ˆ4ï¼‰if ä¸æˆåŠŸï¼š ifï¼ˆ Len&gt;1ï¼‰ï¼š Len = Len-1ï¼› ä»å¾…åˆ‡åˆ†è¯­æ–™ä¸­å–é•¿åº¦ä¸ºLençš„å­—ç¬¦ä¸²strï¼Œå¹¶è¿”å›ï¼ˆ2ï¼‰ï¼› elseï¼š å¾—åˆ°å•ä¸ªæ±‰å­—ï¼ŒæŒ‡é’ˆå‘å‰ç§»ä¸€ä¸ªæ±‰å­—ï¼Œå¹¶è¿”å›ï¼ˆ1ï¼‰ â¢ é€†å‘æœ€å¤§åŒ¹é…ç®—æ³•ï¼ˆRMMï¼‰ï¼šä¸»è¦åŸç†ä¸æ­£å‘æœ€å¤§åŒ¹é…ç®—æ³•ä¸€è‡´ï¼Œåªæ˜¯åˆ‡åˆ†æ–¹å‘ç›¸åï¼Œä»æ–‡ç« çš„å°¾éƒ¨å¼€å§‹åŒ¹é…ã€‚ ä¸‰ã€python ä»£ç å®ç°MMç®—æ³•12345678910111213141516171819def mm_cut(self, sentence=&#x27;&#x27;, max_len=6): &quot;&quot;&quot; ä½¿ç”¨æ­£å‘æœ€å¤§åŒ¹é…æ³•åˆ’åˆ†è¯è¯­ :param sentence: str å¾…åˆ’åˆ†å¥å­ :param max_len: int æœ€å¤§è¯é•¿ é»˜è®¤ä¸º6 :return: str-list å·²åˆ†è¯çš„å­—ç¬¦ä¸²åˆ—è¡¨ &quot;&quot;&quot; sentence = sentence.decode(&#x27;utf-8&#x27;) cur = 0 # è¡¨ç¤ºåˆ†è¯çš„ä½ç½® sen_len = sentence.__len__() # å¥å­çš„é•¿åº¦ word_list = [] # åˆ’åˆ†çš„ç»“æœ while cur &lt; sen_len: l = None for l in range(max_len, 0, -1): if sentence[cur: cur+l] in self.word_set: break word_list.append(sentence[cur: cur+l]) cur += l return word_list RMMç®—æ³•123456789101112131415161718192021def rmm_cut(self, sentence=&#x27;&#x27;, max_len=6): &quot;&quot;&quot; ä½¿ç”¨é€†å‘æœ€å¤§åŒ¹é…æ³•åˆ’åˆ†è¯è¯­ :param sentence: str å¾…åˆ’åˆ†å¥å­ :param max_len: int æœ€å¤§è¯é•¿ é»˜è®¤ä¸º6 :return: str-list å·²åˆ†è¯çš„å­—ç¬¦ä¸²åˆ—è¡¨ &quot;&quot;&quot; sentence = sentence.decode(&#x27;utf-8&#x27;) sen_len = sentence.__len__() # å¥å­çš„é•¿åº¦ cur = sen_len # è¡¨ç¤ºåˆ†è¯çš„ä½ç½® word_list = [] # åˆ’åˆ†çš„ç»“æœ while cur &gt; 0: l = None if max_len &gt; cur: max_len = cur for l in range(max_len, 0, -1): if sentence[cur-l: cur] in self.word_set: break word_list.insert(0, sentence[cur-l: cur]) cur -= l return word_list é™„è½¯ä»¶ç¤ºæ„å›¾ æºç ä¸‹è½½","raw":null,"content":null,"categories":[],"tags":[{"name":"NLP","slug":"NLP","permalink":"https://hareric.com/tags/NLP/"},{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"}]},{"title":"FTPå¸¦ç”¨æˆ·åå¯†ç çš„è®¿é—®è·¯å¾„","slug":"FTPå¸¦ç”¨æˆ·åå¯†ç çš„è®¿é—®è·¯å¾„","date":"2016-09-25T07:02:03.000Z","updated":"2021-05-22T08:01:05.398Z","comments":true,"path":"2016/09/25/FTPå¸¦ç”¨æˆ·åå¯†ç çš„è®¿é—®è·¯å¾„/","link":"","permalink":"https://hareric.com/2016/09/25/FTP%E5%B8%A6%E7%94%A8%E6%88%B7%E5%90%8D%E5%AF%86%E7%A0%81%E7%9A%84%E8%AE%BF%E9%97%AE%E8%B7%AF%E5%BE%84/","excerpt":"","text":"ä¸å¸¦å¯†ç çš„ftpè·¯å¾„æ ¼å¼ï¼šftp://url/ç›®å½•/æ–‡ä»¶å¸¦å¯†ç çš„ftpè·¯å¾„æ ¼å¼ï¼šftp://username:password@ip/ç›®å½•/æ–‡ä»¶","raw":null,"content":null,"categories":[],"tags":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://hareric.com/tags/%E5%85%B6%E4%BB%96/"}]},{"title":"åŸºäºSNNå¯†åº¦çš„èšç±»åŠpythonä»£ç å®ç°","slug":"åŸºäºSNNå¯†åº¦çš„èšç±»åŠpythonä»£ç å®ç°","date":"2016-09-01T14:19:26.000Z","updated":"2021-05-23T13:39:37.267Z","comments":true,"path":"2016/09/01/åŸºäºSNNå¯†åº¦çš„èšç±»åŠpythonä»£ç å®ç°/","link":"","permalink":"https://hareric.com/2016/09/01/%E5%9F%BA%E4%BA%8ESNN%E5%AF%86%E5%BA%A6%E7%9A%84%E8%81%9A%E7%B1%BB%E5%8F%8Apython%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0/","excerpt":"ã€€ã€€åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¾èµ–äºç›¸ä¼¼åº¦å’Œå¯†åº¦çš„æ ‡å‡†æ–¹æ³•çš„èšç±»æŠ€æœ¯ä¸èƒ½äº§ç”Ÿç†æƒ³çš„èšç±»æ•ˆæœã€‚","text":"åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¾èµ–äºç›¸ä¼¼åº¦å’Œå¯†åº¦çš„æ ‡å‡†æ–¹æ³•çš„èšç±»æŠ€æœ¯ä¸èƒ½äº§ç”Ÿç†æƒ³çš„èšç±»æ•ˆæœã€‚ å­˜åœ¨çš„é—®é¢˜1.ä¼ ç»Ÿçš„ç›¸ä¼¼åº¦åœ¨é«˜ç»´æ•°æ®ä¸Šçš„é—®é¢˜ ä¼ ç»Ÿçš„æ¬§å‡ é‡Œå¾—å¯†åº¦åœ¨é«˜ç»´ç©ºé—´å˜å¾—æ²¡æœ‰æ„ä¹‰ã€‚ç‰¹åˆ«åœ¨æ–‡æœ¬å¤„ç†ä¹‹ä¸­ï¼Œä»¥åˆ†è¯ä½œä¸ºç‰¹å¾ï¼Œæ•°æ®çš„ç»´åº¦å°†ä¼šéå¸¸å¾—é«˜ï¼Œæ–‡æœ¬ä¸æ–‡æœ¬ä¹‹é—´çš„ç›¸ä¼¼åº¦ä½å¹¶ä¸ç½•è§ã€‚ç„¶è€Œè®¸å¤šæ–‡æ¡£éƒ½æœ‰ç€ä¸åŒç±»çš„æœ€è¿‘é‚»ï¼Œè™½ç„¶è¿‘é‚»ä¹‹é—´ç›¸ä¼¼åº¦è™½ç„¶é«˜ï¼Œç„¶è€Œå´ä¸æ˜¯åŒä¸€ç±»æ–‡æ¡£ã€‚ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œä¼ ç»Ÿçš„ç›¸ä¼¼åº¦æˆä¸ºäº†ä¸å¯é çš„æŒ‡å¯¼ã€‚ 2.å¯†åº¦ä¸åŒçš„é—®é¢˜ ä¼ ç»Ÿçš„åŸºäºå¯†åº¦çš„èšç±»é—®é¢˜ï¼Œè™½ç„¶èƒ½å¤Ÿæœ‰æ•ˆçš„å‘ç°ä¸åŒå½¢çŠ¶çš„ç°‡ï¼Œç„¶è€Œç”±äºåœ¨è®¡ç®—å¯†åº¦çš„æ—¶å€™æ˜¯é€šè¿‡è®¡ç®—ä¹‹é—´çš„æ¬§å¼è·ç¦»ç¡®å®šå¯†åº¦çš„ï¼Œè‹¥å­˜åœ¨å¯†åº¦å·®åˆ«è¾ƒå¤§çš„ç°‡å°†æ— æ³•å¾ˆå¥½åœ°è¯†åˆ«ã€‚ å¦‚ä¸‹å›¾ï¼Œæ˜¾ç¤ºäº†ä¸€å¯¹å…·æœ‰ä¸åŒå¯†åº¦ç‚¹çš„äºŒç»´ç°‡ã€‚å³è¾¹çš„ç°‡å°½ç®¡ä¸å¤ªç¨ å¯†ï¼Œä½†å½¢æˆäº†åŒæ ·åˆæ³•çš„ç°‡ã€‚ è‹¥ä½¿ç”¨ä¼ ç»Ÿçš„dbscanèšç±»ç®—æ³•(sklearnå¼€æºåŒ…)ï¼Œå°†è·å¾—ä»¥ä¸‹èšç±»æ•ˆæœï¼Œå…¶ä¸­é»‘è‰²ç‚¹è¡¨ç¤ºå™ªå£°ã€‚ SNNç›¸ä¼¼åº¦ ä¸ºäº†è§£å†³ä¸Šè¯‰é—®é¢˜ï¼Œæå‡ºäº†å…±äº«æœ€è¿‘é‚»(Shared Nearest Neighbor, SNN)ç›¸ä¼¼åº¦ã€‚å¦‚å­—é¢æ„æ€ï¼Œé€šè¿‡è®¡ç®—2ä¸ªç‚¹ä¹‹é—´å…±äº«çš„è¿‘é‚»ä¸ªæ•°ï¼Œç¡®å®šä¸¤ç‚¹ä¹‹é—´çš„ç›¸ä¼¼åº¦ã€‚ç®—æ³•æµç¨‹12345æ‰¾å‡ºæ‰€æœ‰ç‚¹çš„k-æœ€è¿‘é‚»if ä¸¤ä¸ªç‚¹xå’Œyä¸æ˜¯åœ¨å¯¹æ–¹çš„k-æœ€è¿‘é‚»ä¸­ then similarity(x, y) = 0else similarity(x, y) = å…±äº«çš„è¿‘é‚»ä¸ªæ•° SNNç›¸ä¼¼åº¦åªä¾èµ–äºä¸¤ä¸ªå¯¹è±¡å…±äº«çš„æœ€è¿‘é‚»çš„ä¸ªæ•°ï¼Œè€Œä¸æ˜¯è¿™äº›è¿‘é‚»ä¹‹é—´ç›¸è·å¤šè¿œã€‚è¿™æ ·ä¸€æ¥ç›¸ä¼¼åº¦å…³äºç‚¹çš„å¯†åº¦è‡ªåŠ¨è¿›è¡Œç¼©æ”¾ SNNå¯†åº¦ ç”±äºSNNç›¸ä¼¼æ€§åº¦é‡åæ˜ äº†æ•°æ®ç©ºé—´ä¸­ç‚¹çš„å±€éƒ¨ç»“æ„ï¼Œå› æ­¤å®ƒå¯¹å¯†åº¦çš„å˜åŒ–å’Œç©ºé—´çš„ç»´åº¦ç›¸å¯¹ä¸å¤ªæ•æ„Ÿï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥åšæ–°çš„å¯†åº¦åº¦é‡ã€‚å®šä¹‰å¦‚ä¸‹æ ¸å¿ƒç‚¹ï¼š åœ¨ç»™å®šé‚»åŸŸ(Eps)å†…çš„ç‚¹æ•°è¶…è¿‡æŸä¸ªé˜ˆå€¼(MinPts)è¾¹ç•Œç‚¹ï¼š ä¸å±äºæ ¸å¿ƒç‚¹ï¼Œä½†åœ¨æŸä¸ªæ ¸å¿ƒç‚¹çš„é‚»åŸŸå†…ã€‚å™ªå£°ç‚¹ï¼š æ—¢éæ ¸å¿ƒç‚¹ï¼Œä¹Ÿéè¾¹ç•Œç‚¹çš„å™ªå£°ã€‚ å¯ä»¥ç†è§£ä¸ºï¼ŒSNNå¯†åº¦åº¦é‡ä¸€ä¸ªç‚¹è¢«ç±»ä¼¼çš„ç‚¹åŒ…å›´çš„ç¨‹åº¦ã€‚ åŸºäºSNNå¯†åº¦çš„èšç±» å°†ä¸Šé¢å®šä¹‰çš„SNNå¯†åº¦ä¸dbScanç®—æ³•ç»“åˆèµ·æ¥ï¼Œå°±å¯ä»¥å¾—å‡ºä¸€ç§æ–°çš„èšç±»ç®—æ³•ç®—æ³•æµç¨‹12è®¡ç®—SNNç›¸ä¼¼åº¦å›¾ä»¥ç”¨æˆ·æŒ‡å®šçš„å‚æ•°Epså’ŒMinPtsï¼Œä½¿ç”¨dbScanç®—æ³• ä»¥ä¸Šé¢çš„æ•°æ®é›†ä¸ºä¾‹ï¼Œä½¿ç”¨è¯¥èšç±»ç®—æ³•å¾—å‡ºä»¥ä¸‹ç»“æœã€‚ å…·ä½“pythonä»£ç å®ç°ï¼Œä½¿ç”¨äº†å¼€æºåŒ…sklearnçš„kd-treeä»¥åŠdbScanç®—æ³•ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374import numpy as npfrom sklearn.neighbors import NearestNeighborsfrom itertools import combinationsimport timedef snn_sim_matrix(X, k=5): &quot;&quot;&quot; åˆ©ç”¨sklearnåŒ…ä¸­çš„KDTree,è®¡ç®—èŠ‚ç‚¹çš„å…±äº«æœ€è¿‘é‚»ç›¸ä¼¼åº¦(SNN)çŸ©é˜µ :param X: array-like, shape = [samples_size, features_size] :param k: positive integer(default = 5), è®¡ç®—snnç›¸ä¼¼åº¦çš„é˜ˆå€¼k :return: snnè·ç¦»çŸ©é˜µ &quot;&quot;&quot; try: X = np.array(X) except: raise ValueError(&quot;è¾“å…¥çš„æ•°æ®é›†å¿…é¡»ä¸ºçŸ©é˜µ&quot;) samples_size, features_size = X.shape # æ•°æ®é›†æ ·æœ¬çš„ä¸ªæ•°å’Œç‰¹å¾çš„ç»´æ•° nbrs = NearestNeighbors(n_neighbors=k, algorithm=&#x27;kd_tree&#x27;).fit(X) knn_matrix = nbrs.kneighbors(X, return_distance=False) # è®°å½•æ¯ä¸ªæ ·æœ¬çš„kä¸ªæœ€è¿‘é‚»å¯¹åº”çš„ç´¢å¼• sim_matrix = 0.5 + np.zeros((samples_size, samples_size)) # snnç›¸ä¼¼åº¦çŸ©é˜µ for i in range(samples_size): t = np.where(knn_matrix == i)[0] c = list(combinations(t, 2)) for j in c: if j[0] not in knn_matrix[j[1]]: continue sim_matrix[j[0]][j[1]] += 1 sim_matrix = 1 / sim_matrix # å°†ç›¸ä¼¼åº¦çŸ©é˜µè½¬åŒ–ä¸ºè·ç¦»çŸ©é˜µ sim_matrix = np.triu(sim_matrix) sim_matrix += sim_matrix.T - np.diag(sim_matrix.diagonal()) return sim_matrixif __name__ == &#x27;__main__&#x27;: from sklearn.cluster import DBSCAN from sklearn.datasets.samples_generator import make_blobs import matplotlib.pyplot as plt # æ„å»ºæ•°æ®é›† centers = [37, 4] centers_2 = [-37, 4] X, labels_true = make_blobs(n_samples=100, centers=centers, cluster_std=20) X_2, l_2 = make_blobs(n_samples=50, cluster_std=8, centers=centers_2) X = np.concatenate((X, X_2)) # åŸºäºsnnç›¸ä¼¼åº¦çš„èšç±» t1 = time.time() sim_matrix = snn_sim_matrix(X, k=8) t2 = time.time() print &quot;the time of creating sim matrix is %.5fs&quot; % (t2 - t1) t1 = time.time() db = DBSCAN(eps=0.5, min_samples=5, metric=&#x27;precomputed&#x27;).fit(sim_matrix) t2 = time.time() print &quot;the time of clustering is %.5fs&quot; % (t2 - t1) # æ„å›¾ core_samples_mask = np.zeros_like(db.labels_, dtype=bool) core_samples_mask[db.core_sample_indices_] = True labels = db.labels_ n_clusters_ = len(set(labels)) - (1 if -1 in labels else 0) unique_labels = set(labels) colors = plt.cm.Spectral(np.linspace(0, 1, len(unique_labels))) for k, col in zip(unique_labels, colors): if k == -1: # Black used for noise. col = &#x27;k&#x27; class_member_mask = (labels == k) xy = X[class_member_mask &amp; core_samples_mask] plt.plot(xy[:, 0], xy[:, 1], &#x27;o&#x27;, markerfacecolor=col, markeredgecolor=&#x27;k&#x27;, markersize=10) xy = X[class_member_mask &amp; ~core_samples_mask] plt.plot(xy[:, 0], xy[:, 1], &#x27;o&#x27;, markerfacecolor=col, markeredgecolor=&#x27;k&#x27;, markersize=6) plt.title(&#x27;SNN&#x27;) plt.show()","raw":null,"content":null,"categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"},{"name":"èšç±»","slug":"èšç±»","permalink":"https://hareric.com/tags/%E8%81%9A%E7%B1%BB/"}]},{"title":"ç®€æ˜“æ–¹æ³•è§£å†³ubuntuä¸‹è§£å‹æ–‡ä»¶ä¹±ç ","slug":"ç®€æ˜“æ–¹æ³•è§£å†³ubuntuä¸‹è§£å‹æ–‡ä»¶ä¹±ç ","date":"2016-07-26T08:56:49.000Z","updated":"2021-05-22T08:01:05.401Z","comments":true,"path":"2016/07/26/ç®€æ˜“æ–¹æ³•è§£å†³ubuntuä¸‹è§£å‹æ–‡ä»¶ä¹±ç /","link":"","permalink":"https://hareric.com/2016/07/26/%E7%AE%80%E6%98%93%E6%96%B9%E6%B3%95%E8%A7%A3%E5%86%B3ubuntu%E4%B8%8B%E8%A7%A3%E5%8E%8B%E6%96%87%E4%BB%B6%E4%B9%B1%E7%A0%81/","excerpt":"","text":"åœ¨windowsä¸Šå‹ç¼©çš„æ–‡ä»¶ï¼Œæ˜¯ä»¥ç³»ç»Ÿé»˜è®¤ç¼–ç ä¸­æ–‡æ¥å‹ç¼©æ–‡ä»¶ã€‚ç”±äºzipæ–‡ä»¶ä¸­æ²¡æœ‰å£°æ˜å…¶ç¼–ç ï¼Œæ‰€ä»¥linuxä¸Šçš„unzipä¸€èˆ¬ä»¥é»˜è®¤ç¼–ç è§£å‹ï¼Œä¸­æ–‡æ–‡ä»¶åä¼šå‡ºç°ä¹±ç ã€‚å¯ä»¥ä½¿ç”¨ç»ˆç«¯zipæ–‡ä»¶è¿›è¡Œè§£å‹å¹¶æŒ‡å®šè§£å‹çš„ç¼–ç unzip -O GBK xxx.zipè§£å‹åçš„æ–‡ä»¶çš„è·¯å¾„ä¸ºå½“å‰ç»ˆç«¯æ‰€åœ¨çš„è·¯å¾„","raw":null,"content":null,"categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://hareric.com/tags/Linux/"}]},{"title":"ä¸€è¶Ÿèšç±»ï¼ˆOne-pass Clusterï¼‰åŠpythonå®ç°","slug":"ä¸€è¶Ÿèšç±»(One-Pass Cluster)åŠpythonå®ç°","date":"2016-07-06T09:17:56.000Z","updated":"2021-05-23T13:36:42.411Z","comments":true,"path":"2016/07/06/ä¸€è¶Ÿèšç±»(One-Pass Cluster)åŠpythonå®ç°/","link":"","permalink":"https://hareric.com/2016/07/06/%E4%B8%80%E8%B6%9F%E8%81%9A%E7%B1%BB(One-Pass%20Cluster)%E5%8F%8Apython%E5%AE%9E%E7%8E%B0/","excerpt":"ä¸€è¶Ÿèšç±»ç®€ä»‹ä¸€è¶Ÿèšç±»ç®—æ³•æ˜¯ç”±è’‹ç››ç›Šæ•™æˆæå‡ºçš„æ— ç›‘ç£èšç±»ç®—æ³•ï¼Œè¯¥ç®—æ³•å…·æœ‰é«˜æ•ˆï¼Œç®€å•çš„ç‰¹ç‚¹ã€‚æ•°æ®é›†åªéœ€è¦éå†ä¸€éå³å¯å®Œæˆèšç±»ã€‚ç®—æ³•å¯¹è¶…çƒçŠ¶åˆ†å¸ƒçš„æ•°æ®æœ‰è‰¯å¥½çš„è¯†åˆ«ï¼Œå¯¹å‡¸å‹æ•°æ®åˆ†å¸ƒè¯†åˆ«è¾ƒå·®ã€‚ ä¸€è¶Ÿèšç±»å¯ä»¥åœ¨å¤§è§„æ¨¡æ•°æ®ï¼Œæˆ–è€…äºŒæ¬¡èšç±»ä¸­ï¼Œæˆ–è€…èšç±»ä¸å…¶ä»–ç®—æ³•ç»“åˆçš„æƒ…å†µä¸‹ï¼Œå‘æŒ¥å…¶é«˜æ•ˆï¼Œç®€å•çš„ç‰¹ç‚¹ï¼›","text":"ä¸€è¶Ÿèšç±»ç®€ä»‹ä¸€è¶Ÿèšç±»ç®—æ³•æ˜¯ç”±è’‹ç››ç›Šæ•™æˆæå‡ºçš„æ— ç›‘ç£èšç±»ç®—æ³•ï¼Œè¯¥ç®—æ³•å…·æœ‰é«˜æ•ˆï¼Œç®€å•çš„ç‰¹ç‚¹ã€‚æ•°æ®é›†åªéœ€è¦éå†ä¸€éå³å¯å®Œæˆèšç±»ã€‚ç®—æ³•å¯¹è¶…çƒçŠ¶åˆ†å¸ƒçš„æ•°æ®æœ‰è‰¯å¥½çš„è¯†åˆ«ï¼Œå¯¹å‡¸å‹æ•°æ®åˆ†å¸ƒè¯†åˆ«è¾ƒå·®ã€‚ ä¸€è¶Ÿèšç±»å¯ä»¥åœ¨å¤§è§„æ¨¡æ•°æ®ï¼Œæˆ–è€…äºŒæ¬¡èšç±»ä¸­ï¼Œæˆ–è€…èšç±»ä¸å…¶ä»–ç®—æ³•ç»“åˆçš„æƒ…å†µä¸‹ï¼Œå‘æŒ¥å…¶é«˜æ•ˆï¼Œç®€å•çš„ç‰¹ç‚¹ï¼› ç®—æ³•æµç¨‹ åˆå§‹æ—¶ä»æ•°æ®é›†è¯»å…¥ä¸€ä¸ªæ–°çš„å¯¹è±¡ ä»¥è¿™ä¸ªå¯¹è±¡æ„å»ºä¸€ä¸ªæ–°çš„ç°‡ è‹¥è¾¾åˆ°æ•°æ®é›†æœ«å°¾,åˆ™è½¬6,å¦åˆ™è¯»å…¥ä¸€ä¸ªæ–°çš„å¯¹è±¡;è®¡ç®—å®ƒä¸æ¯ä¸ªå·²æœ‰ç°‡ä¹‹é—´çš„è·ç¦»ï¼Œå¹¶é€‰æ‹©ä¸å®ƒè·ç¦»æœ€å°çš„ç°‡ è‹¥æœ€å°è·ç¦»è¶…è¿‡ç»™å®šçš„é˜ˆå€¼r,è½¬2 å¦åˆ™å°†å¯¹è±¡å¹¶å…¥è¯¥ç°‡ï¼Œå¹¶æ›´æ–°ç°‡å¿ƒï¼Œè½¬3 ç»“æŸ è·ç¦»å…¬å¼åœ¨æœ¬ç®—æ³•ä¸­ï¼Œæˆ‘é‡‡ç”¨çš„æ˜¯æ¬§æ°è·ç¦»å…¬å¼è®¡ç®—èŠ‚ç‚¹ä¸ç°‡å¿ƒä¹‹é—´çš„è·ç¦»æ¬§æ°è·ç¦»å…¬å¼åœ¨pythonä»£ç ä¸­,ä½¿ç”¨numpyåŒ…å¯ä»¥è½»æ˜“åœ°å®ç°123import numpy as npdef euclidian_distance(vec_a, vec_b): return np.sqrt(np.sum(np.square(np.array(vec_a) - vec_b))) ä»£ç å®ç°æ ¸å¿ƒä»£ç 123456789101112131415161718192021def clustering(self): self.cluster_list.append(ClusterUnit()) # åˆå§‹æ–°å»ºä¸€ä¸ªç°‡ self.cluster_list[0].add_node(0, self.vectors[0]) # å°†è¯»å…¥çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å½’äºè¯¥ç°‡ for index in range(len(self.vectors))[1:]: min_distance = euclidian_distance(vec_a=self.vectors[0], vec_b=self.cluster_list[0].centroid) # ä¸ç°‡çš„è´¨å¿ƒçš„æœ€å°è·ç¦» min_cluster_index = 0 # æœ€å°è·ç¦»çš„ç°‡çš„ç´¢å¼• for cluster_index, cluster in enumerate(self.cluster_list[1:]): # å¯»æ‰¾è·ç¦»æœ€å°çš„ç°‡ï¼Œè®°å½•ä¸‹è·ç¦»å’Œå¯¹åº”çš„ç°‡çš„ç´¢å¼• distance = euclidian_distance(vec_a=self.vectors[index], vec_b=cluster.centroid) if distance &lt; min_distance: min_distance = distance min_cluster_index = cluster_index + 1 if min_distance &lt; self.threshold: # æœ€å°è·ç¦»å°äºé˜€å€¼,åˆ™å½’äºè¯¥ç°‡ self.cluster_list[min_cluster_index].add_node(index, self.vectors[index]) else: # å¦åˆ™æ–°å»ºä¸€ä¸ªç°‡ new_cluster = ClusterUnit() new_cluster.add_node(index, self.vectors[index]) self.cluster_list.append(new_cluster) del new_cluster å®éªŒå®éªŒè¯´æ˜ ç°æœ‰ä¸­å›½å¤©æ°”çš„æ•°æ®é›†,æ•°æ®åŒ…æ‹¬ä¸­å›½å„ä¸ªåŸå¸‚æ¯å¹´çš„æœ€ä½å’Œæœ€é«˜æ¸©ä»¥åŠè¯¥åŸå¸‚çš„xï¼Œyåæ ‡ã€‚ ç°åœ¨åˆ†åˆ«ä½¿ç”¨nltkåŒ…ä¸­è‡ªå¸¦çš„k-meanèšç±»ç®—æ³•å’Œä¸Šè¿°çš„ä¸€è¶Ÿèšç±»ç®—æ³•å¯¹ä¸­å›½åŸå¸‚çš„æ°”æ¸©æƒ…å†µè¿›è¡Œèšç±»ã€‚æ¯ä¸ªåŸå¸‚çš„å±æ€§åªè€ƒè™‘2ä¸ªå±æ€§åˆ†åˆ«ä¸ºæœ€é«˜æ°”æ¸©å’Œæœ€ä½æ°”æ¸©ã€‚ æœ€åä½¿ç”¨matplotlibåŒ…å¯¹èšç±»ç»“æœè¿›è¡Œæ„å›¾ã€‚ å…¶ä¸­k-means,åˆå§‹è®¾å®šçš„kçš„ä¸ªæ•°ä¸º5; ä¸€è¶Ÿèšç±»,é˜ˆå€¼åˆå§‹è®¾ç½®ä¸º9,æœ€åèšç±»å‡º10ä¸ªç°‡ã€‚ å®éªŒç»“æœè¿è¡Œæ—¶é—´é’ˆå¯¹è¯¥ä»½æ•°æ®é›†,é€šè¿‡å¤šæ¬¡è¿è¡Œè®¡ç®—è¿è¡Œæ—¶é—´æ±‚å¹³å‡å€¼å¾—å‡ºï¼šk-means: 0.00024sone-pass cluster: 0.00008sä¸éš¾çœ‹å‡ºä¸€è¶Ÿèšç±»ç”±äºç®—æ³•è‡ªèº«çš„ç®€å•,è¿è¡Œé€Ÿåº¦ç›¸æ¯”äºk-meansæœ‰æ˜¾è‘—çš„æå‡ã€‚ èšç±»æ•ˆæœä¸èƒ½åªçœ‹è¿è¡Œæ—¶é—´ï¼Œæˆ‘ä»¬åŒæ ·ä¹Ÿè¦è§‚å¯Ÿèšç±»çš„æ•ˆæœå¦‚ä½•ã€‚ç°æœ‰2å¹…åˆ†åˆ«ä¸ºk-meanså’Œä¸€è¶Ÿèšç±»çš„æ•ˆæœå›¾ã€‚ k-meansèšç±»æ•ˆæœå›¾ ä¸€è¶Ÿèšç±»æ•ˆæœå›¾ ä¸­å›½å¹´å¹³å‡æ°”æ¸©å›¾ é€šè¿‡ç®€å•çš„ç›®æµ‹å¯¹æ¯”å¯å¾—,ä¸€è¶Ÿèšç±»å’Œk-meansèšç±»çš„æ•ˆæœéƒ½èƒ½å¤Ÿæœ‰æ•ˆåœ°åæ˜ å‡ºä¸­å›½æ°”æ¸©çš„åˆ†å¸ƒã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œä¸€è¶Ÿèšç±»æ˜¯ä¸€ç§è¾ƒä¸ºæœ‰æ•ˆçš„èšç±»ç®—æ³•ï¼Œè€ƒè™‘åˆ°å®ƒçš„ç®—æ³•ç®€å•ï¼Œè¯¥ç®—æ³•åœ¨å¤„ç†å¤§æ•°æ®ä¸Šæœ‰ç€æ˜¾è‘—çš„ä¼˜è¶Šæ€§ã€‚ å®Œæ•´ä»£ç ","raw":null,"content":null,"categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"},{"name":"èšç±»","slug":"èšç±»","permalink":"https://hareric.com/tags/%E8%81%9A%E7%B1%BB/"}]},{"title":"Javaç»†èŠ‚çŸ¥è¯†ç‚¹æ•´ç†","slug":"Javaç»†èŠ‚çŸ¥è¯†ç‚¹","date":"2016-06-27T08:53:48.000Z","updated":"2021-05-22T08:01:05.399Z","comments":true,"path":"2016/06/27/Javaç»†èŠ‚çŸ¥è¯†ç‚¹/","link":"","permalink":"https://hareric.com/2016/06/27/Java%E7%BB%86%E8%8A%82%E7%9F%A5%E8%AF%86%E7%82%B9/","excerpt":"ä¸Šå­¦æœŸJavaæœŸæœ«è€ƒè¯•å‰æ•´ç†çš„ä¸€äº›ä¸æ€ä¹ˆä¼šæ³¨æ„åˆ°çš„ç»†èŠ‚çŸ¥è¯†ç‚¹ï¼Œç»“æœè€ƒè¯•è€ƒçš„æŒºå®åœ¨çš„ï¼ŒåŸºæœ¬æ²¡æœ‰ç”¨åˆ°ã€‚ä¸è¿‡æ—¢ç„¶æ•´ç†äº†å°±å‘å‡ºæ¥å§ã€‚","text":"ä¸Šå­¦æœŸJavaæœŸæœ«è€ƒè¯•å‰æ•´ç†çš„ä¸€äº›ä¸æ€ä¹ˆä¼šæ³¨æ„åˆ°çš„ç»†èŠ‚çŸ¥è¯†ç‚¹ï¼Œç»“æœè€ƒè¯•è€ƒçš„æŒºå®åœ¨çš„ï¼ŒåŸºæœ¬æ²¡æœ‰ç”¨åˆ°ã€‚ä¸è¿‡æ—¢ç„¶æ•´ç†äº†å°±å‘å‡ºæ¥å§ã€‚ æ•°å€¼æ•°æ®ç±»å‹æ•´æ•° byte 8ä½å¸¦ç¬¦å·æ•° short 16ä½å¸¦ç¬¦å·æ•° int 32ä½å¸¦ç¬¦å·æ•° long 64ä½å¸¦ç¬¦å·æ•° æµ®ç‚¹æ•° float 32ä½ï¼Œæ ‡å‡†IEEE754ï¼Œå•ç²¾åº¦ double 64ä½ï¼Œæ ‡å‡†IEEE754ï¼ŒåŒç²¾åº¦ charå’Œstringchar letter = &apos;a&apos;; String s = &quot;a&quot;; &apos;a&apos;æ˜¯ä¸€ä¸ªå­—ç¬¦ &quot;A&quot;æ˜¯å­—ç¬¦ä¸² ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰åºåˆ—\\b é€€æ ¼é”® \\t Tabé”® \\n æ¢è¡Œç¬¦å· \\f æ¢é¡µ \\r å›è½¦é”® \\\\\\ åæ–œæ  \\&apos; å•å¼•å· \\&quot; åŒå¼•å· ç®€æ˜“GUIç•Œé¢123456789101112import javax.swing.JOptionPane;//æ¥æ”¶å­—ç¬¦ä¸²GUIç•Œé¢String s = JOptionPane.showInputDialoge(&quot;Please enter an input&quot;,&quot;Title&quot;,JOptionPane.QUESTION_MESSAGE);//é€‰æ‹©æ˜¯å¦çš„GUIç•Œé¢int a = JOptionPane.showConfirmDialog(null,&quot;Continue&quot;); /* JOptionPane.YES_OPTION = 0 JOptionPane.NO_OPTION = 1 JOptionPane.CANCEL_OPTION = 2 *///æ˜¾ç¤ºä¿¡æ¯çš„GUIç•Œé¢JOptionPane.showMessageDialog(null,&quot;The Message!&quot;); å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—12345int intValue = Integer.parseInt(intString);double doubleValue = Double.parseDouble(doubleString);long longValue = Long.parseLong(longString);byte byteValue = Byte.parseByte(byteString);short shortValue = Short.parseShort(shortString); æ•°å­—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²1String.valueOf();//å„ç§ç±»å‹çš„å˜é‡éƒ½å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•è½¬åŒ– switchç”¨æ³•12345678char ch = &#x27;a&#x27;;switch(ch)&#123; case &#x27;a&#x27;:System.out.print(ch); case &#x27;b&#x27;:System.out.print(ch); case &#x27;c&#x27;:System.out.print(ch); default:System.out.print(ch);&#125; è¿è¡Œç»“æœä¸ºï¼šaaaa ä¸‰å…ƒè¿ç®—ç¬¦y = (x &gt; 0) ? 1 : -1 æ ¼å¼åŒ–è¾“å‡ºå¸¸ç”¨çš„æ ‡è¯†ç¬¦ %b å¸ƒå°”å€¼ %c å­—ç¬¦ %d åè¿›åˆ¶æ•´æ•° %f æµ®ç‚¹æ•° %e æ ‡å‡†ç§‘å­¦è®¡æ•°æ³• %s å­—ç¬¦ä¸² æŒ‡å®šå®½åº¦å’Œç²¾åº¦ %5c æŒ‡å®šå®½åº¦ä¸º5 %6b æŒ‡å®šå®½åº¦ä¸º6 %10.2f æŒ‡å®šå®½åº¦ä¸º10 ç²¾åº¦ä¸º2 æµ®ç‚¹æ•°æ¥æ§åˆ¶å¾ªç¯ä¸è¦ä½¿ç”¨æµ®ç‚¹æ•°æ¥æ§åˆ¶å¾ªç¯ï¼Œå› ä¸ºæµ®ç‚¹æ•°é€šå¸¸æ˜¯ç”¨è¿‘ä¼¼å€¼è¡¨ç¤ºçš„ï¼Œæ— æ³•å¾—åˆ°åƒæ•´æ•°ä¸€æ ·ç²¾ç¡®çš„å€¼ï¼Œæ¯”å¦‚ä»¥ä¸‹å¾ªç¯æ˜¯æ— é™å¾ªç¯1234567double item = 1;double sum = 0;while(item != 0)&#123; sum += item; item -= 0.1;&#125; è¾“å…¥å’Œè¾“å‡ºé‡å®šå‘åœ¨ç»ˆç«¯è¿è¡Œjavaç¨‹åºæ—¶ï¼Œå¯ä»¥é€šè¿‡æ–‡æœ¬æ–‡ä»¶å®Œæˆè¾“å…¥å’Œè¾“å‡º java MyClass &lt; input.txt é€šè¿‡txtè¾“å…¥æ•°æ® java MyClass &gt; output.txt å°†è¿è¡Œç»“æœè¾“å‡ºåˆ°txt java MyClass &lt; input.txt &gt; output.txt ä¹Ÿå¯è¿ç”¨ forå¾ªç¯for( ; ; ) ç­‰ä»· for( ;true; ) ç­‰ä»· whlie(true) æœ€å°åŒ–æ•°å€¼è¯¯å·®æ¶‰åŠæµ®ç‚¹æ•°çš„æ•°å€¼è¯¯å·®æ˜¯ä¸å¯é¿å…çš„ï¼Œå¦‚ï¼šè®¡ç®—0.01åˆ°1.0çš„æ•°åˆ—ä¹‹å’Œ1234double sum = 0;for(double i = 0.01;i &lt;= 1.0;i += 0.01) sum += i; System.out.println(sum);//ç»“æœä¸º49.50000000000003ï¼Œï¼ˆç²¾ç¡®ç»“æœåº”ä¸º50.50)åœ¨å¤§æ•°ä¹‹å‰å…ˆåŠ å°æ•°æ˜¯å‡å°è¯¯å·®çš„æ–¹æ³•ï¼Œå› ä¸ºä¾‹å¦‚ï¼Œ100000000.0+0.00000001çš„ç²¾ç¡®ç»“æœæ˜¯100000000.0æ‰€ä»¥åœ¨æœ¬ä¾‹ä¸­ï¼Œä»¥ï¼ˆ0.01ï¼Œ0.02ã€‚ã€‚ã€‚0.99ï¼Œ1.0ï¼‰çš„é¡ºåºæ±‚å’Œï¼Œç»“æœä¼šæ›´ç²¾ç¡® è’™ç‰¹å¡ç½—æ¨¡æ‹Ÿåˆ©ç”¨éšæœºæ•°å’Œæ¦‚ç‡è§£å†³é—®é¢˜ä¾‹å¦‚ï¼šæ±‚Ï€ï¼ˆ1ï¼‰éšæœºç”Ÿæˆæ­£æ–¹å½¢å†…çš„ä¸€ç‚¹ï¼ˆ2ï¼‰è®¡ç®—è½å…¥å†…æ¥åœ†çš„æ¦‚ç‡ï¼Œä»è€Œæ±‚å¾—PIã€‚12345678910int inNum = 0;int testNum = 10000000;//æµ‹è¯•çš„æ¬¡æ•°for(int i=0;i&lt;testNum;i++)&#123; double x = Math.random(); double y = Math.random(); if(Math.sqrt( (Math.pow(x-0.5,2) + Math.pow(y-0.5,2)) ) &lt;0.5)//è®°å½•åœ¨åœ†å†…çš„ä¸ªæ•° inNum++; &#125;System.out.println(&quot;PI = &quot; + inNum*4/(double)testNum); æ–¹æ³•çš„é‡è½½è¢«é‡è½½çš„æ–¹æ³•å¿…é¡»å…·æœ‰ä¸åŒçš„å‚æ•°åˆ—è¡¨ã€‚ä¸èƒ½åŸºäºä¸åŒä¿®é¥°ç¬¦å·æˆ–è¿”å›å€¼ç±»å‹æ¥é‡è½½æ–¹æ³•ï¼Œä½†å¹¶ä¸æ„å‘³ç€ä¸èƒ½ä¿®æ”¹ä¿®é¥°ç¬¦å·æˆ–è¿”å›å€¼ã€‚ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ã€‚ 1234public void m1(int x)&#123;&#125;private int m1(int x,int y)&#123;return 12;&#125;//public String m1(int x)&#123;return &quot;12&quot;;&#125; //error!Duplicate method m1(int) æœ‰æ—¶è°ƒç”¨é‡è½½çš„æ–¹æ³•æ—¶ï¼Œä¼šæœ‰å¤šä¸ªåŒ¹é…ï¼Œæ­¤æ—¶ä¼šäº§ç”Ÿæ­§ä¹‰è°ƒç”¨çš„é”™è¯¯ 12345public static void main()&#123; double m = max(1,2); //error æ— æ³•è¯†åˆ«ä¸å“ªä¸ªæ–¹æ³•åŒ¹é…&#125;;static double max(int num1,double num2)&#123;&#125;;static double max(double num1,double num2)&#123;&#125;; å£°æ˜æ•°ç»„çš„æ–¹æ³•123elementType[] arrayRefVar = new elementType[arraySize];elementType arrayRefVar[] = new elementType[arraySize];elementType arrayRefVar[] = &#123;,,,&#125;; ä¸ç±»çš„å®ä¾‹åŒ–ä¸åŒï¼Œåˆ†å¼€å†™ä¼šæŠ¥é”™ï¼Œå¦‚12double[] myList;myList = &#123;1.9,2.9,3.4&#125;;//error char[]å¯¹äºchar[]ç±»å‹çš„æ•°ç»„ï¼Œå¯ä»¥ç”¨ä¸€æ¡è¯­å¥æ‰“å°ã€‚å¦‚ï¼š12char[] city = &#123;&#x27;D&#x27;,&#x27;a&#x27;,&#x27;l&#x27;,&#x27;l&#x27;,&#x27;a&#x27;,&#x27;s&#x27;&#125;;System.out.print(city); for-eachå¾ªç¯é’ˆå¯¹æ•°ç»„ä½¿ç”¨çš„å¾ªç¯ for(double u : myList){} æ•°ç»„å¤åˆ¶list2 = list1;è¯¥è¯­å¥å¹¶ä¸èƒ½å°†list1å¤åˆ¶åˆ°list2ï¼Œåªä¼šå°†æ•°ç»„list1çš„å¼•ç”¨ä¼ é€’ç»™list2å¤åˆ¶æ•°ç»„çš„æ–¹æ³•ï¼š1) ä½¿ç”¨å¾ªç¯é€ä¸ªå¤åˆ¶æ•°ç»„çš„å…ƒç´ ã€‚2) ä½¿ç”¨Systemç±»ä¸­çš„é™æ€æ–¹æ³•arraycopy(æ³¨æ„:è¯¥æ–¹æ³•è¿èƒŒäº†Javaçš„å‘½åä¹ æƒ¯) System.arraycopy(sourseArray, src_pos, targetArray, tar_pos, length); 3) ä½¿ç”¨cloneæ–¹æ³•å¤åˆ¶æ•°ç»„ åŒ¿åæ•°ç»„new int[]&#123;3,1,2,3,1&#125; æ²¡æœ‰å˜é‡åæ˜¾å¼åœ°å¼•ç”¨å˜é‡,è¿™æ ·çš„æ•°ç»„ç§°ä¸ºåŒ¿åæ•°ç»„ æ–¹æ³•ä¼ é€’æ•°ç»„å¯¹äºæ•°ç»„ç±»å‹çš„å‚æ•°,å‚æ•°å€¼æ˜¯æ•°ç»„çš„å¼•ç”¨,ç»™æ–¹æ³•ä¼ é€’çš„æ˜¯è¿™ä¸ªå¼•ç”¨.ä¾‹:12345678public static void main(String arguments[])&#123; int[] as = &#123;1,2,3&#125;; m(as); System.out.println(as[0]); //è¾“å‡ºä¸º100&#125;public static void m(int[] array)&#123; array[0] = 100;&#125;arrayè™½ç„¶æ˜¯å‚æ•°,å´æˆåŠŸä¿®æ”¹äº†as[0]çš„å€¼ å¯å˜é•¿å‚æ•°åˆ—è¡¨12345public static void main()&#123; m(1.2); m(new double[]&#123;1,232,1.2&#125;);&#125;public static void m(double... numbers)&#123;&#125; numbersæ˜¯å¯å˜é•¿å‚æ•°,æ‰€ä»¥æ—¢å¯ä»¥ä¼ doubleç±»å‹çš„æ•°æˆ–è€…doubleç±»å‹çš„æ•°ç»„ Arraysç±»123456java.util.Arrays.sort(array);//Sort the whole arrayjava.util.Arrays.sort(array,1,3);//Sort part of arrayjava.util.Arrays.binarySearch(list,12);//åˆ©ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾åˆ—è¡¨ä¸­æŸä¸ªå…ƒç´ çš„ä½ç½®,åˆ—è¡¨å¿…é¡»æ’å¥½åºjava.util.Arrays.fill(list1,5);//Fill 5 to the whole arrayjava.util.Arrays.fill(list1,1,3,8);//Fill 8 to a partial arrayjava.util.Arrays.equals(list1,list2);//åˆ¤æ–­åˆ—è¡¨1å’Œåˆ—è¡¨2çš„å†…å®¹æ˜¯å¦ç›¸åŒ äºŒç»´æ•°ç»„æ„å»ºä½¿ç”¨è¯­æ³• new int[5][]åˆ›å»ºæ•°ç»„æ—¶,å¿…é¡»æŒ‡å®šç¬¬ä¸€ä¸ªä¸‹æ ‡.è¯­æ³•new int[][]æ˜¯é”™è¯¯çš„ åŸºæœ¬ç±»å‹å˜é‡å’Œå¼•ç”¨ç±»å‹å˜é‡int double ç­‰å±äºåŸºæœ¬ç±»å‹å˜é‡æ•°ç»„ å„ç§ç±»çš„å®ä¾‹åŒ–åçš„å˜é‡ å±äºå¼•ç”¨ç±»å‹å˜é‡","raw":null,"content":null,"categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://hareric.com/tags/Java/"}]},{"title":"macä¸­XAMPPå¦‚ä½•å¼€å¯å±€åŸŸç½‘è®¿é—®","slug":"macä¸­XAMPPå¦‚ä½•å¼€å¯å±€åŸŸç½‘è®¿é—®","date":"2016-06-17T15:01:20.000Z","updated":"2021-05-22T08:01:05.400Z","comments":true,"path":"2016/06/17/macä¸­XAMPPå¦‚ä½•å¼€å¯å±€åŸŸç½‘è®¿é—®/","link":"","permalink":"https://hareric.com/2016/06/17/mac%E4%B8%ADXAMPP%E5%A6%82%E4%BD%95%E5%BC%80%E5%90%AF%E5%B1%80%E5%9F%9F%E7%BD%91%E8%AE%BF%E9%97%AE/","excerpt":"XAMPPä½œä¸ºapacheæœåŠ¡å™¨é»˜è®¤çš„æ—¶å€™æ˜¯æ— æ³•å†å±€åŸŸç½‘çš„å…¶ä»–æœºå™¨ä¸Šè®¿é—®è®¾ç½®ç•Œé¢çš„ã€‚é‚£ä¹ˆæ€æ ·å¯ç”¨å±€åŸŸç½‘è®¿é—®å‘¢ï¼Ÿ","text":"XAMPPä½œä¸ºapacheæœåŠ¡å™¨é»˜è®¤çš„æ—¶å€™æ˜¯æ— æ³•å†å±€åŸŸç½‘çš„å…¶ä»–æœºå™¨ä¸Šè®¿é—®è®¾ç½®ç•Œé¢çš„ã€‚é‚£ä¹ˆæ€æ ·å¯ç”¨å±€åŸŸç½‘è®¿é—®å‘¢ï¼Ÿ1ã€æ‰¾åˆ°è¯¥æ–‡ä»¶åœ¨XAMPPçš„å®‰è£…è·¯å¾„ä¸­æ‰¾åˆ°è¯¥æ–‡ä»¶/Applications/XAMPP/xamppfiles/etc/extra/httpd-xampp.confç”¨sublimeæˆ–è€…ä½¿ç”¨vimç¼–è¾‘å™¨æ‰“å¼€ sudo vim /Applications/XAMPP/xamppfiles/etc/extra/httpd-xampp.conf 2ã€ä¿®æ”¹è®¿é—®æƒé™æ‰¾åˆ°ä»¥ä¸‹ä»£ç 123456789101112# since XAMPP 1.4.3&lt;Directory &quot;/Applications/XAMPP/xamppfiles/phpmyadmin&quot;&gt; AllowOverride AuthConfig Limit Require local ErrorDocument 403 /error/XAMPP_FORBIDDEN.html.var&lt;/Directory&gt;&lt;Directory &quot;/Applications/XAMPP/xamppfiles/phpsqliteadmin&quot;&gt; AllowOverride AuthConfig Limit Require local ErrorDocument 403 /error/XAMPP_FORBIDDEN.html.var&lt;/Directory&gt;ä¿®æ”¹ä¸º1234567891011121314151617&lt;Directory &quot;/Applications/XAMPP/xamppfiles/phpmyadmin&quot;&gt; AllowOverride AuthConfig Limit # Require local Require all granted Order allow,deny Allow from all ErrorDocument 403 /error/XAMPP_FORBIDDEN.html.var&lt;/Directory&gt;&lt;Directory &quot;/Applications/XAMPP/xamppfiles/phpsqliteadmin&quot;&gt; AllowOverride AuthConfig Limit # Require local Require all granted Order allow,deny Allow from all ErrorDocument 403 /error/XAMPP_FORBIDDEN.html.var&lt;/Directory&gt; 3ã€ä½¿ç”¨IPåœ°å€è®¿é—®åœ¨ç»ˆç«¯ä½¿ç”¨ifconfigæŸ¥è¯¢æœ¬æœºçš„ipåœ°å€ï¼Œç„¶ååœ¨å±€åŸŸç½‘ä¸­è¾“å…¥IPåœ°å€ä¾¿å¯ä»¥åœ¨å±€åŸŸç½‘ä¸­è®¿é—®è‡ªå·±çš„æœåŠ¡å™¨äº†ã€‚","raw":null,"content":null,"categories":[],"tags":[{"name":"XAMPP","slug":"XAMPP","permalink":"https://hareric.com/tags/XAMPP/"}]},{"title":"èŠ±20åˆ†é’Ÿå†™çš„-å¤§ç™½è¯è®²è§£å¦‚ä½•ç»™githubä¸Šé¡¹ç›®è´¡çŒ®ä»£ç ","slug":"èŠ±20åˆ†é’Ÿå†™çš„-å¤§ç™½è¯è®²è§£å¦‚ä½•ç»™githubä¸Šé¡¹ç›®è´¡çŒ®ä»£ç ","date":"2016-06-05T13:03:44.000Z","updated":"2021-05-22T08:01:05.401Z","comments":true,"path":"2016/06/05/èŠ±20åˆ†é’Ÿå†™çš„-å¤§ç™½è¯è®²è§£å¦‚ä½•ç»™githubä¸Šé¡¹ç›®è´¡çŒ®ä»£ç /","link":"","permalink":"https://hareric.com/2016/06/05/%E8%8A%B120%E5%88%86%E9%92%9F%E5%86%99%E7%9A%84-%E5%A4%A7%E7%99%BD%E8%AF%9D%E8%AE%B2%E8%A7%A3%E5%A6%82%E4%BD%95%E7%BB%99github%E4%B8%8A%E9%A1%B9%E7%9B%AE%E8%B4%A1%E7%8C%AE%E4%BB%A3%E7%A0%81/","excerpt":"è½¬è‡ª https://site.douban.com/196781/widget/notes/12161495/note/269163206/\næœ¬æ–‡çŒ®ç»™å¯¹gitå¾ˆè¿·èŒ«çš„æ–°æ‰‹ï¼Œæ³¨æ„æ˜¯æ–°æ‰‹ï¼Œä½†è‡³å°‘ä¼šç‚¹åŸºæœ¬æ“ä½œï¼Œæœ‰ç‚¹åŸºæœ¬æ¦‚å¿µçš„æ–°æ‰‹ï¼Œæˆ‘ä¸ä¼šä»æ€ä¹ˆç”¨githubå’Œgitæ˜¯ä»€ä¹ˆå¼€å§‹è®²çš„ã€‚å¦‚æœä½œä¸ºæ–°æ‰‹ä½ çœ‹ä¹¦åˆçœ‹ä¸è¿›å»ï¼ŒåŸç†åˆå¤ªå¤æ‚ï¼Œæœ‰æ²¡æœ‰ç›´æ¥äº†å½“å‘Šè¯‰æˆ‘ä»¬æ€ä¹ˆç»™é¡¹ç›®è´¡çŒ®ä»£ç ï¼Œå¹¶å’Œé¡¹ç›®åŒæ­¥ä»£ç çš„å¤§ä½“æµç¨‹ã€‚äºæ˜¯æˆ‘å¿«é€Ÿå†™äº†è¿™ä¹ˆä¸ªä¸œè¥¿ã€‚ä¸€æ¥æ•´ç†ä¸‹è‡ªå·±æ··ä¹±çš„æ€è·¯ï¼ŒäºŒæ¥æƒ³å·å¬å¤§å®¶ä¸€èµ·ç”¨gitå¼€å‘ç‚¹ä¸œè¥¿ï¼Œå¯æ˜¯å¥½å‡ ä¸ªåŒé‹åªä¼šå¯‚å¯çš„ç»™è‡ªå·±pushã€‚","text":"è½¬è‡ª https://site.douban.com/196781/widget/notes/12161495/note/269163206/ æœ¬æ–‡çŒ®ç»™å¯¹gitå¾ˆè¿·èŒ«çš„æ–°æ‰‹ï¼Œæ³¨æ„æ˜¯æ–°æ‰‹ï¼Œä½†è‡³å°‘ä¼šç‚¹åŸºæœ¬æ“ä½œï¼Œæœ‰ç‚¹åŸºæœ¬æ¦‚å¿µçš„æ–°æ‰‹ï¼Œæˆ‘ä¸ä¼šä»æ€ä¹ˆç”¨githubå’Œgitæ˜¯ä»€ä¹ˆå¼€å§‹è®²çš„ã€‚å¦‚æœä½œä¸ºæ–°æ‰‹ä½ çœ‹ä¹¦åˆçœ‹ä¸è¿›å»ï¼ŒåŸç†åˆå¤ªå¤æ‚ï¼Œæœ‰æ²¡æœ‰ç›´æ¥äº†å½“å‘Šè¯‰æˆ‘ä»¬æ€ä¹ˆç»™é¡¹ç›®è´¡çŒ®ä»£ç ï¼Œå¹¶å’Œé¡¹ç›®åŒæ­¥ä»£ç çš„å¤§ä½“æµç¨‹ã€‚äºæ˜¯æˆ‘å¿«é€Ÿå†™äº†è¿™ä¹ˆä¸ªä¸œè¥¿ã€‚ä¸€æ¥æ•´ç†ä¸‹è‡ªå·±æ··ä¹±çš„æ€è·¯ï¼ŒäºŒæ¥æƒ³å·å¬å¤§å®¶ä¸€èµ·ç”¨gitå¼€å‘ç‚¹ä¸œè¥¿ï¼Œå¯æ˜¯å¥½å‡ ä¸ªåŒé‹åªä¼šå¯‚å¯çš„ç»™è‡ªå·±pushã€‚æˆ‘å…ˆè¯´ä¸‹ æˆ‘ä¹‹å‰å¯¹githubæ“ä½œçš„ä¸€äº›è¿·èŒ«å†ç¨‹ï¼Œç„¶åä¹‹åæ˜¯æ€ä¹ˆè§£æƒ‘çš„ã€‚ æœ€æœ€å¼€å§‹ï¼Œæˆ‘ä»¥ä¸ºgit clone ï¼»é¡¹ç›®åœ°å€ï¼½ï¼Œä¹Ÿå°±æ˜¯æŠŠä»£ç cloneä¸‹æ¥ ç„¶åä¿®æ”¹ï¼Œç„¶åpushåˆ°é¡¹ç›®é‡Œå°±å¯ä»¥äº†ã€‚åæ¥å‘ç°ï¼Œè¿™ç§æƒ…å†µåªé€‚åˆè¯¥é¡¹ç›®å±äºä½ è‡ªå·±çš„æƒ…å†µï¼Œå¦‚æœä½ git cloneåˆ«äººçš„é¡¹ç›®ä»£ç ï¼Œä½ æƒ³pushéƒ½pushä¸ä¸Šå»ï¼Œå› ä¸º git push ä¸æ˜¯éœ€è¦ä½ è¾“å…¥githubå¸å·å¯†ç ä¹ˆã€‚ ç„¶å æˆ‘å°±çŸ¥é“äº† githubä¸Š ä¸æ˜¯æœ‰ä¸ªforkä¹ˆï¼Œ å¥½ï¼Œé‚£ä¹ˆç»™åˆ«äººçš„é¡¹ç›®æäº¤ä»£ç çš„æ–¹å¼å°±æœ‰äº†ï¼Œå…ˆforkä¸‹åˆ«äººçš„ä»£ç ï¼Œäºæ˜¯ä½ çš„githubä¸Šå°±å‡ºç°äº†åŒåçš„é¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®å°±å±äºä½ è‡ªå·±äº†ï¼Œä½ æŠŠè¿™ä¸ªè‡ªå·±çš„é¡¹ç›®git cloneåˆ°æœ¬åœ°ï¼Œä¿®ä¿®æ”¹æ”¹ï¼Œç„¶åpushåˆ°ä½ è‡ªå·±çš„é¡¹ç›®é‡Œï¼Œé‚£ä¹ˆä½ å¦‚ä½•æŠŠä½ å¯¹è‡ªå·±é¡¹ç›®çš„æ”¹åŠ¨ï¼Œç»™å‘åˆ°ä¹‹å‰forkçš„é‚£ä¸ªåŸé¡¹ç›®å‘¢ï¼Œçœ‹è§äº†æ²¡ï¼Œåœ¨githubä¸Šä½ çš„é¡¹ç›®é¡µé¢æœ‰ä¸ªæŒ‰é’®ï¼Œå«Pull requestï¼Œå¯¹ ä½ ç‚¹å®ƒå°±ä¼šæŠŠä½ çš„ä¿®æ”¹å‘åˆ°å¯¹æ–¹çš„é¡¹ç›®é‡Œï¼Œäººè¿˜ä¼šæ”¶åˆ°é‚®ä»¶å‘¢ï¼Œç”±åŸé¡¹ç›®ä¸»äººå†³å®šæ˜¯å¦æ¥å—ä½ çš„ä¿®æ”¹ã€‚ä½†æ˜¯ï¼Œè¿™æ ·é—®é¢˜å°±å‡ºæ¥äº†ï¼Œåœ¨ä½ forkä»–çš„é¡¹ç›®ä¹‹åï¼Œå¦‚æœä»–åˆæ›´æ–°äº†ä»£ç ï¼Œä½ è‡ªå·±forkçš„é¡¹ç›®æ€ä¹ˆåšåˆ°å’ŒåŸé¡¹ç›®åŒæ­¥å‘¢ï¼Ÿæˆ‘å°±æƒ³å•Šï¼Œæ˜¯ä¸æ˜¯ æˆ‘è¿˜å¾—é‡æ–°git cloneåŸé¡¹ç›®çš„ä»£ç ï¼Œç„¶åæ‰‹åŠ¨åˆå¹¶åˆ°æˆ‘forkçš„é¡¹ç›®é‡Œå‘¢ã€‚ã€‚ã€‚æ¢è€å¸ˆè¯´ï¼Œä½ ä¸«è¿™å¤ªè›‹ç–¼äº†ï¼Œè‚¯å®šä¸æ˜¯è¿™ä¹ˆéº»çƒ¦ï¼Œæˆ‘ç»†æƒ³ï¼Œä¹Ÿæ˜¯å•Šï¼Œè¿™ä¸2ä¹ˆã€‚ã€‚ã€‚ ç„¶åï¼Œä»ã€ŠPro gitã€‹ä¸Šçœ‹åˆ°ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œæˆ‘æ“¦ï¼Œgithubå±…ç„¶å¯ä»¥ç»™é¡¹ç›®æ·»åŠ åˆä½œè€…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå‡å¦‚ä½ ï¼Œå¯¹ï¼Œè¯´ä½ å‘¢ï¼Œæˆ´çœ¼é•œé‚£ä¸ªï¼Œä½ æƒ³å‚ä¸æˆ‘çš„é¡¹ç›®ï¼Œä½ è·Ÿæˆ‘è¯´ä¸€å£°ï¼Œæˆ‘å°±æŠŠä½ æ·»åŠ åˆ°æˆ‘çš„é¡¹ç›®é‡Œä½œä¸ºåˆä½œè€…ï¼Œè¿™ä¸ªé€‰é¡¹åœ¨é¡¹ç›®çš„è®¾ç½®é‡Œé¢æœ‰ï¼Œåªè¦æˆ‘æ·»åŠ ä½ äº†ï¼Œä½ å°±å¯ä»¥git cloneæˆ‘çš„ä»£ç ç„¶åä¿®ä¿®æ”¹æ”¹ï¼Œç„¶åç›´æ¥pushä¸Šæ¥å°±è¡Œäº†ï¼Œå°±ä¸ç”¨forké‚£ä¹ˆéº»çƒ¦äº†ï¼Œå¦‚æœä½ è¦æ›´æ–°æœåŠ¡å™¨ä»£ç ï¼Œåªè¦git pullå°±è¡Œäº†ï¼Œçœ‹ åˆä½œè€…è¿™ä¸œè¥¿å¤šæ–¹ä¾¿ï¼Œå°±åƒæˆ‘ä»¬åœ¨å…¬å¸ç”¨svnä¼¼çš„ã€‚ ç„¶åæˆ‘å°±æƒ³å•Šï¼Œæœ‰äº†åˆä½œè€…è¿˜éœ€è¦ä½ ä¸«forkè¿™ä¸ªåŠŸèƒ½å¹²å•¥ï¼Ÿä»”ç»†ä¸€æƒ³ï¼Œä½ å†™ä¸ªå¥½é¡¹ç›®ï¼Œä¸èƒ½éšä¾¿åŠ åˆä½œè€…å•Šï¼ŒåŠ äº†ä¸ªç†Šå­©å­æŠŠä½ ä»£ç æ”¹åºŸäº†å¯å’‹æ•´ï¼Œè¿™å¹´å¤´ç†Šå­©å­å¾ˆå¤šï¼Œæˆ‘è‡ªå·±ä¸å°±æ˜¯ä¸€ä¸ªä¹ˆã€‚æ‰€ä»¥forkè‚¯å®šè¿˜æ˜¯éœ€è¦ï¼Œforkå°±æ˜¯ä¸“é—¨é¢„é˜²ç†Šå­©å­çš„ï¼Œè¿™å°±æ˜¯çœŸç›¸ï¼é‚£ä¹ˆå‰é¢è¯´é“åˆ°forkä¹‹åå¦‚ä½•ä¸åŸé¡¹ç›®åŒæ­¥çš„é—®é¢˜è¿˜åœ¨å•Šï¼Œæ²¡æœ‰å¾—åˆ°è§£å†³ã€‚ äºæ˜¯ã€ŠPro gitã€‹å†æ¬¡ç»™äº†æˆ‘ä¸€ä¸ªè§£ç­”ï¼Œå…·ä½“æµç¨‹æ˜¯ä½ å•Šæƒ³ç»™æˆ‘çš„é¡¹ç›®åšè´¡çŒ®ï¼Œä½ å…ˆgit cloneæˆ‘çš„ä»£ç åˆ°æœ¬åœ°ï¼Œç„¶åä¿®ä¿®æ”¹æ”¹ï¼Œç„¶åä½ ä¸æ˜¯ä¸èƒ½pushåˆ°æˆ‘çš„é¡¹ç›®é‡Œä¹ˆï¼Œä½ å¯ä»¥å…ˆåœ¨githubé¡µé¢ä¸Šforkæˆ‘çš„é¡¹ç›®ï¼Œæœ‰äº†ä½ è‡ªå·±çš„é¡¹ç›®åœ°å€ï¼ˆurlï¼‰ä¹‹åå‘¢ï¼Œä½ åœ¨æœ¬åœ°æ“ä½œgit remote add [sort name] [your url]ï¼Œæ„æ€å°±æ˜¯æ·»åŠ ç¬¬äºŒä¸ªè¿œç¨‹ä»“åº“åœ°å€ï¼Œè¿™ä¸ªä»“åº“çš„â€œæ˜µç§°â€å°±æ˜¯ä½ åˆšæŒ‡å®šçš„[sort name]ï¼Œç„¶åï¼Œä½ ä¹‹åpushæ–‡ä»¶å‘¢ å°±é€šè¿‡æŒ‡å®šè¿™ä¸ªï¼»sort nameï¼½æ¥pushåˆ°è¿™ä¸ªä½ è‡ªå·±çš„ä»“åº“é‡Œã€‚ç­‰ä½ è§‰å¾—æƒ³è¦æŠŠä½ æ”¹çš„å‘ç»™åŸé¡¹ç›®åŒæ­¥ï¼Œå°±åœ¨ä½ çš„é¡¹ç›®ä¸Šç‚¹Pull requestæŒ‰é’®.è¯´ä¸‹å¦ä¸€ç§æƒ…å†µï¼Œå¦‚æœæ˜¯ï¼ŒåŸé¡¹ç›®å‘ç”Ÿäº†æ”¹åŠ¨ï¼Œä½ è¦æƒ³åŒæ­¥åˆ°æœ¬åœ°ï¼Œå°±ç›´æ¥ä»git fetch origin ä»åŸé¡¹ç›®çš„åœ°å€åŒæ­¥ä»£ç ï¼Œç„¶åå†mergeå°±å¥½äº†ã€‚å½“ç„¶ï¼Œå¦‚ã€ŠPro gitã€‹ä¸Šæ‰€å†™ï¼Œä½ å¯ä»¥é€šè¿‡æ–°å»ºåˆ†æ”¯çš„æ–¹å¼å¾€è‡ªå·±çš„é¡¹ç›®ä¸Špushï¼Œè¿™æ ·åŒæ­¥çš„æ—¶å€™ç›´æ¥fetchå°±è¡Œäº†ã€‚è¿™å—å¦‚æœæˆ‘æ²¡å†™æ˜ç™½æˆ–è€…ä½ æƒ³çŸ¥é“æ€ä¹ˆæ–°å»ºåˆ†æ”¯çš„æ–¹å¼pushåˆ°è‡ªå·±çš„é¡¹ç›®é‡Œï¼Œå¯ä»¥ç›´æ¥å‚è€ƒã€ŠPro gitã€‹çš„â€œå…¬å¼€çš„å°å‹é¡¹ç›®â€ä¸€èŠ‚ï¼Œé‚£æˆ‘çš„è´¡çŒ®å°±æ˜¯æŒ‡ç‚¹ä½ å¦‚ä½•ä»è¿™æœ¬ä¹¦é‡Œå¿«é€Ÿçš„æ‰¾åˆ°ä½ æƒ³è¦çš„ã€‚= =ã€‚","raw":null,"content":null,"categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://hareric.com/tags/git/"}]},{"title":"æ‹›è˜ç½‘æ•°æ®åº“ç³»ç»Ÿè¯´æ˜ä¹¦","slug":"æ‹›è˜ç½‘æ•°æ®åº“ç³»ç»Ÿè¯´æ˜ä¹¦","date":"2016-06-03T14:52:11.000Z","updated":"2021-05-23T13:45:24.052Z","comments":true,"path":"2016/06/03/æ‹›è˜ç½‘æ•°æ®åº“ç³»ç»Ÿè¯´æ˜ä¹¦/","link":"","permalink":"https://hareric.com/2016/06/03/%E6%8B%9B%E8%81%98%E7%BD%91%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E8%AF%B4%E6%98%8E%E4%B9%A6/","excerpt":"ä¸€ã€éœ€æ±‚åˆ†æ1.1 èƒŒæ™¯ã€€ã€€éšç€äº’è”ç½‘çš„å¿«é€Ÿå‘å±•ï¼Œç½‘æ°‘æ•°é‡çš„ä¸æ–­å¢åŠ ï¼Œäººä»¬ä¸Šç½‘çš„é€”å¾„ä¹Ÿè¶Šæ¥è¶Šæ–¹ä¾¿ï¼Œç½‘ç»œåœ¨ç°ä»£äººç”Ÿæ´»ä¸­çš„åº”ç”¨ä¹Ÿè¶Šæ¥è¶Šå¹¿æ³›ã€‚ä¸äº’è”ç½‘ç›¸ç»“åˆçš„ç½‘ç»œæ‹›è˜åœ¨è§£å†³äº†éƒ¨åˆ†å¤§å­¦ç”Ÿå·¥ä½œçš„åŒæ—¶ï¼Œä¹Ÿå¤§å¤§å‡å°‘äº†äººåŠ›ã€ç‰©åŠ›çš„æ¶ˆè€—ä»¥åŠå¤§å­¦æ¯•ä¸šç”Ÿå¥”æ³¢è·¯é€”çš„æ—¶é—´å’Œç²¾åŠ›ï¼Œå…¶æ•ˆæœä¹Ÿå°†è¿œè¿œè¶…è¿‡ä¼ ç»Ÿæ‹›è˜æ‰€è·å¾—çš„æ•ˆæœã€‚ç›®å‰ï¼Œç½‘ç»œæ‹›è˜å·²å‘å±•æˆä¸ºæ·±å—æ‹›è˜æ±‚èŒè€…å–œæ¬¢çš„ä¸€ç§æ±‚èŒæ‹›è˜ç¯å¢ƒã€‚äº’è”ç½‘ç»™æ±‚èŒæ‹›è˜è€…æä¾›äº†ä¸°å¯Œçš„èµ„æºï¼Œæœªä»–ä»¬åˆ›é€ å‡ºä¸€ç§è‰¯å¥½çš„æ±‚èŒæ‹›è˜å¹³å°ï¼Œå…·å¤‡ç°å®ä¸­äººæ‰ä¸­ä»‹æœºæ„çš„åŠŸèƒ½ã€‚æ‹›è˜æ±‚èŒç½‘ç«™ä¸ºåº”è˜è€…æä¾›äº†æ–¹ä¾¿ã€å¿«æ·çš„åº”è˜é€”å¾„ï¼Œä¸ä»…ä¿¡æ¯æ›´æ–°å¿«ã€ä¿¡æ¯æ•°é‡å¤šã€è€Œä¸”é€‰æ‹©ä½™åœ°å¤§ã€‚å¯¹æ‹›è˜å•ä½æ¥è¯´ï¼Œæ‹›è˜ç½‘ç«™ä¸ä»…ä¸ºä»–ä»¬å¼€è¾Ÿäº†æ‹›è˜äººæ‰çš„æ–°æ–¹å¼ï¼Œè€Œä¸”ä½¿å…¶å·¥ä½œæµç¨‹æ›´åŠ æ–¹ä¾¿ã€å¿«æ·ã€é«˜æ•ˆã€‚ä½¿å¾—æ‹›è˜å·¥ä½œä¸­çš„äººå‘˜åˆé€‰å·¥ä½œå˜å¾—è½»æ¾ç®€å•ã€‚åŒæ–¹é€šè¿‡äº¤äº’å¼çš„ç½‘ä¸Šç™»é™†å’ŒæŸ¥è¯¢å®Œæˆä¿¡æ¯çš„äº¤æµã€‚è¿™ç§ç°ä»£åŒ–æ‹›è˜æ–¹å¼ä¸ä¼ ç»Ÿæ‹›è˜æ–¹å¼æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œå®ƒä¸éœ€è¦æ—¶é—´å’Œç©ºé—´ä¸Šä¿æŒç»å¯¹çš„ä¸€è‡´ï¼Œæ–¹ä¾¿äº†åŒæ–¹æ—¶é—´çš„é€‰æ‹©ã€‚ã€€ã€€ç½‘ç»œæ‹›è˜åœ¨èŠ‚çº¦æ‹›è˜å•ä½å’Œæ±‚èŒè€…åŒæ–¹çš„è´¹ç”¨ä¸Šæœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚æ±‚èŒè€…å¯ä»¥é€šè¿‡äº’è”ç½‘å¯¹å·¥ä½œç±»å‹ã€åœ°ç‚¹ã€å·¥ä½œå¾…é‡ç­‰æ¡ä»¶è¿›è¡Œç­›é€‰ä¹‹åå¿«é€Ÿå¾—åˆ°è‡ªå·±æƒ³è¦çš„æ‹›è˜ä¿¡æ¯å¹¶æŠ•é€’ç®€å†ï¼Œå¤§å¤§å‡å°‘äº†æ‰“å°ç®€å†å’Œè¯ä¹¦ã€äº¤é€šç­‰å½“é¢çš„è´¹ç”¨ï¼›å¯¹äºæ‹›è˜å•ä½è€Œè¨€ï¼Œåœ¨ç½‘ä¸Šå‘å¸ƒæ‹›è˜ä¿¡æ¯ä¸ä»…ä»…èƒ½å¤Ÿå¸®åŠ©æ‰©å¤§æ‹›è˜ä¿¡æ¯çš„è¦†ç›–é¢åŠå®£ä¼ åº¦ï¼Œè¿˜èƒ½å¸®åŠ©ä¼ä¸šèŠ‚çº¦ä¸å°‘ä¼ ç»Ÿæ‹›è˜æ‰€éœ€çš„äººåŠ›ã€è´¢åŠ›èµ„æºï¼Œè€Œä¸”å¯¹ä¿¡æ¯çš„å‘å¸ƒå’Œä¿®æ”¹ä¹Ÿååˆ†æ–¹ä¾¿ã€‚æ‹›è˜ç½‘å°±æ˜¯è¿™æ ·ä¸€ä¸ªè·¨æ—¶é—´å’Œç©ºé—´çš„ä¿¡æ¯äº’åŠ¨è¿‡ç¨‹ã€‚æ‹›è˜å•ä½ä¸æ±‚èŒè€…çš„åŒæ–¹çš„ç§¯æäº’åŠ¨å°†ä¿ƒè¿›ç½‘ç»œæ‹›è˜çš„åŠŸèƒ½æ›´åŠ å®Œå–„ï¼Œè€Œç½‘ç»œæ‹›è˜ä¹Ÿå°†å‡å°‘ä¼ä¸šæ‹›è˜å’Œæ±‚èŒè€…åº”è˜è¿‡ç¨‹ä¸­çš„ç›²ç›®è¡Œä¸ºï¼Œå¤§å¤§æé«˜æ‹›è˜æ±‚èŒè§„æ¨¡å’Œæ‹›è˜æ±‚èŒæˆåŠŸç‡ã€‚","text":"ä¸€ã€éœ€æ±‚åˆ†æ1.1 èƒŒæ™¯ éšç€äº’è”ç½‘çš„å¿«é€Ÿå‘å±•ï¼Œç½‘æ°‘æ•°é‡çš„ä¸æ–­å¢åŠ ï¼Œäººä»¬ä¸Šç½‘çš„é€”å¾„ä¹Ÿè¶Šæ¥è¶Šæ–¹ä¾¿ï¼Œç½‘ç»œåœ¨ç°ä»£äººç”Ÿæ´»ä¸­çš„åº”ç”¨ä¹Ÿè¶Šæ¥è¶Šå¹¿æ³›ã€‚ä¸äº’è”ç½‘ç›¸ç»“åˆçš„ç½‘ç»œæ‹›è˜åœ¨è§£å†³äº†éƒ¨åˆ†å¤§å­¦ç”Ÿå·¥ä½œçš„åŒæ—¶ï¼Œä¹Ÿå¤§å¤§å‡å°‘äº†äººåŠ›ã€ç‰©åŠ›çš„æ¶ˆè€—ä»¥åŠå¤§å­¦æ¯•ä¸šç”Ÿå¥”æ³¢è·¯é€”çš„æ—¶é—´å’Œç²¾åŠ›ï¼Œå…¶æ•ˆæœä¹Ÿå°†è¿œè¿œè¶…è¿‡ä¼ ç»Ÿæ‹›è˜æ‰€è·å¾—çš„æ•ˆæœã€‚ç›®å‰ï¼Œç½‘ç»œæ‹›è˜å·²å‘å±•æˆä¸ºæ·±å—æ‹›è˜æ±‚èŒè€…å–œæ¬¢çš„ä¸€ç§æ±‚èŒæ‹›è˜ç¯å¢ƒã€‚äº’è”ç½‘ç»™æ±‚èŒæ‹›è˜è€…æä¾›äº†ä¸°å¯Œçš„èµ„æºï¼Œæœªä»–ä»¬åˆ›é€ å‡ºä¸€ç§è‰¯å¥½çš„æ±‚èŒæ‹›è˜å¹³å°ï¼Œå…·å¤‡ç°å®ä¸­äººæ‰ä¸­ä»‹æœºæ„çš„åŠŸèƒ½ã€‚æ‹›è˜æ±‚èŒç½‘ç«™ä¸ºåº”è˜è€…æä¾›äº†æ–¹ä¾¿ã€å¿«æ·çš„åº”è˜é€”å¾„ï¼Œä¸ä»…ä¿¡æ¯æ›´æ–°å¿«ã€ä¿¡æ¯æ•°é‡å¤šã€è€Œä¸”é€‰æ‹©ä½™åœ°å¤§ã€‚å¯¹æ‹›è˜å•ä½æ¥è¯´ï¼Œæ‹›è˜ç½‘ç«™ä¸ä»…ä¸ºä»–ä»¬å¼€è¾Ÿäº†æ‹›è˜äººæ‰çš„æ–°æ–¹å¼ï¼Œè€Œä¸”ä½¿å…¶å·¥ä½œæµç¨‹æ›´åŠ æ–¹ä¾¿ã€å¿«æ·ã€é«˜æ•ˆã€‚ä½¿å¾—æ‹›è˜å·¥ä½œä¸­çš„äººå‘˜åˆé€‰å·¥ä½œå˜å¾—è½»æ¾ç®€å•ã€‚åŒæ–¹é€šè¿‡äº¤äº’å¼çš„ç½‘ä¸Šç™»é™†å’ŒæŸ¥è¯¢å®Œæˆä¿¡æ¯çš„äº¤æµã€‚è¿™ç§ç°ä»£åŒ–æ‹›è˜æ–¹å¼ä¸ä¼ ç»Ÿæ‹›è˜æ–¹å¼æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œå®ƒä¸éœ€è¦æ—¶é—´å’Œç©ºé—´ä¸Šä¿æŒç»å¯¹çš„ä¸€è‡´ï¼Œæ–¹ä¾¿äº†åŒæ–¹æ—¶é—´çš„é€‰æ‹©ã€‚ ç½‘ç»œæ‹›è˜åœ¨èŠ‚çº¦æ‹›è˜å•ä½å’Œæ±‚èŒè€…åŒæ–¹çš„è´¹ç”¨ä¸Šæœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚æ±‚èŒè€…å¯ä»¥é€šè¿‡äº’è”ç½‘å¯¹å·¥ä½œç±»å‹ã€åœ°ç‚¹ã€å·¥ä½œå¾…é‡ç­‰æ¡ä»¶è¿›è¡Œç­›é€‰ä¹‹åå¿«é€Ÿå¾—åˆ°è‡ªå·±æƒ³è¦çš„æ‹›è˜ä¿¡æ¯å¹¶æŠ•é€’ç®€å†ï¼Œå¤§å¤§å‡å°‘äº†æ‰“å°ç®€å†å’Œè¯ä¹¦ã€äº¤é€šç­‰å½“é¢çš„è´¹ç”¨ï¼›å¯¹äºæ‹›è˜å•ä½è€Œè¨€ï¼Œåœ¨ç½‘ä¸Šå‘å¸ƒæ‹›è˜ä¿¡æ¯ä¸ä»…ä»…èƒ½å¤Ÿå¸®åŠ©æ‰©å¤§æ‹›è˜ä¿¡æ¯çš„è¦†ç›–é¢åŠå®£ä¼ åº¦ï¼Œè¿˜èƒ½å¸®åŠ©ä¼ä¸šèŠ‚çº¦ä¸å°‘ä¼ ç»Ÿæ‹›è˜æ‰€éœ€çš„äººåŠ›ã€è´¢åŠ›èµ„æºï¼Œè€Œä¸”å¯¹ä¿¡æ¯çš„å‘å¸ƒå’Œä¿®æ”¹ä¹Ÿååˆ†æ–¹ä¾¿ã€‚æ‹›è˜ç½‘å°±æ˜¯è¿™æ ·ä¸€ä¸ªè·¨æ—¶é—´å’Œç©ºé—´çš„ä¿¡æ¯äº’åŠ¨è¿‡ç¨‹ã€‚æ‹›è˜å•ä½ä¸æ±‚èŒè€…çš„åŒæ–¹çš„ç§¯æäº’åŠ¨å°†ä¿ƒè¿›ç½‘ç»œæ‹›è˜çš„åŠŸèƒ½æ›´åŠ å®Œå–„ï¼Œè€Œç½‘ç»œæ‹›è˜ä¹Ÿå°†å‡å°‘ä¼ä¸šæ‹›è˜å’Œæ±‚èŒè€…åº”è˜è¿‡ç¨‹ä¸­çš„ç›²ç›®è¡Œä¸ºï¼Œå¤§å¤§æé«˜æ‹›è˜æ±‚èŒè§„æ¨¡å’Œæ‹›è˜æ±‚èŒæˆåŠŸç‡ã€‚ 1.2åŠŸèƒ½éœ€æ±‚ç½‘ç«™ä¸»è¦ç”¨æˆ·è§’è‰²åˆ†ä¸ºåº”è˜ç”¨æˆ·ã€ä¼ä¸šç”¨æˆ·ä¸ªäººç”¨æˆ·ï¼š ç”¨æˆ·æ³¨å†Œ ç”¨æˆ·ä¿¡æ¯ç®¡ç† åˆ›å»ºç®€å† ç®€å†ä¿¡æ¯ç®¡ç† æŠ•æ”¾ç®€å†ä¼ä¸šç”¨æˆ·ï¼š ç”¨æˆ·æ³¨å†Œ ç”¨æˆ·ä¿¡æ¯ç®¡ç† å‘å¸ƒæ‹›è˜ä¿¡æ¯ æ‹›è˜ä¿¡æ¯ç®¡ç† è·å¾—ç›¸å…³ç®€å†çš„æŠ•æ”¾ä¿¡æ¯ ç®¡ç†ç®€å†çš„è¯„åˆ¤æˆç»© 1.3æ•°æ®éœ€æ±‚1.3.1æµç¨‹å›¾ 1.3.2æ•°æ®éœ€æ±‚è¡¨æ•°æ®ç»„åï¼šç”¨æˆ·ä¿¡æ¯ä¸å…¶ä»–æ•°æ®çš„çº¦æŸå…³ç³»ï¼šä¸ç®€å†å­˜åœ¨ä¸€å¯¹å¤šå…³ç³» æ•°æ®é¡¹å æ•°æ®ç±»å‹ æ•°æ®é•¿åº¦ å°æ•°ä½æ•° çº¦æŸ å…è®¸ç©ºå€¼ å¤‡æ³¨ ç”¨æˆ·å Varchar 20 - - å¦ å£ä»¤ Varchar 20 é•¿åº¦ä¸º6-16ä¸ªå­—ç¬¦ ä¸å…è®¸ç©ºæ ¼ å¦ å¯ç”¨MD5ç®—æ³•åŠ å¯† æ€§åˆ« Varchar 2 - - å¦ é‚®ä»¶åœ°å€ Varchar 32 - unique å¦ è”ç³»ç”µè¯ Varchar 11 - unique å¦ æ•°æ®ç»„åï¼šä¼ä¸šä¿¡æ¯ä¸å…¶ä»–æ•°æ®çš„çº¦æŸå…³ç³»ï¼šä¸æ‹›è˜ä¿¡æ¯å­˜åœ¨ä¸€å¯¹å¤šå…³ç³» æ•°æ®é¡¹å æ•°æ®ç±»å‹ æ•°æ®é•¿åº¦ å°æ•°ä½æ•° çº¦æŸ å…è®¸ç©ºå€¼ å¤‡æ³¨ ä¼ä¸šåç§° Varchar 20 - foreign key å¦ å…¬å¸åœ°å€ Varchar 128 - å¦ å…¬å¸æˆç«‹æ—¶é—´ Varchar 20 - å¦ é‚®ä»¶åœ°å€ Varchar 40 - unique å¦ å…¬å¸æ€§è´¨ Varchar 40 - å¦ è”ç³»ç”µè¯ Varchar 11 - unique å¦ å…¬å¸è§„æ¨¡ Varchar 20 - å¦ å…¬å¸ç®€ä»‹ Varchar 255 - å¦ æ•°æ®ç»„åï¼šç®€å†ä¿¡æ¯ä¸å…¶ä»–æ•°æ®çš„çº¦æŸå…³ç³»ï¼šä¸ç”¨æˆ·å­˜åœ¨ä¸€å¯¹ä¸€å…³ç³» æ•°æ®é¡¹å æ•°æ®ç±»å‹ æ•°æ®é•¿åº¦ å°æ•°ä½æ•° çº¦æŸ å…è®¸ç©ºå€¼ å¤‡æ³¨ æ±‚èŒç±»åˆ« Varchar 40 - å¦ æ±‚èŒè€…å§“å Varchar 20 - å¦ å‡ºç”Ÿæ—¥æœŸ Varchar 20 - å¦ ç°å±…ä½åœ° Varchar 20 - å¦ å­¦å† Varchar 40 - å¦ å·¥ä½œç»éªŒ Varchar 128 - å¦ æ¯•ä¸šé™¢æ ¡ Varchar 40 - æ˜¯ ä¸»ä¿®ä¸“ä¸š Varchar 20 - æ˜¯ é‚®ä»¶ Varchar 20 - unique å¦ è”ç³»ç”µè¯ Int 20 - unique å¦ ä¸ªäººä»‹ç» Varchar 128 - å¦ æœŸæœ›å·¥ä½œ Varchar 40 - å¦ æ•°æ®ç»„åï¼šæ‹›è˜ä¿¡æ¯ä¸å…¶ä»–æ•°æ®çš„çº¦æŸå…³ç³»ï¼šä¸ä¼ä¸šå­˜åœ¨å¤šå¯¹ä¸€å…³ç³» æ•°æ®é¡¹å æ•°æ®ç±»å‹ æ•°æ®é•¿åº¦ å°æ•°ä½æ•° çº¦æŸ å…è®¸ç©ºå€¼ å¤‡æ³¨ æ‰€å‘å¸ƒå²—ä½ç±»åˆ« Varchar 40 - å¦ å²—ä½åç§° Varchar 2 - å¦ å²—ä½åœ°å€ Varchar 40 - å¦ å­¦å†è¦æ±‚ Varchar 20 - å¦ æ€§åˆ«è¦æ±‚ Varchar 10 - æ˜¯ å·¥ä½œç»éªŒè¦æ±‚ Varchar 20 - å¦ å¹´é¾„è¦æ±‚ Int 20 - å¦ å²—ä½åœ°å€ Varchar 40 - å¦ å·¥èµ„ Varchar 20 - å¦ æ‹›è˜äººæ•° Int 10 - å¦ è”ç³»ç”µè¯ Varchar 11 - unique å¦ é‚®ç®± Varchar 20 - unique å¦ å²—ä½ç®€ä»‹ Varchar 128 - æ˜¯ å‘å¸ƒæ—¶é—´ Varchar 20 - å¦ äºŒã€æ¦‚å¿µæ¨¡å‹ ä¸‰ã€é€»è¾‘æ¨¡å‹ 1. ç”¨æˆ·ä¿¡æ¯ï¼ˆuserï¼‰ å±æ€§å è¯´æ˜ ç±»å‹ é•¿åº¦ é»˜è®¤å€¼ å…è®¸ç©ºå€¼ çº¦æŸ id ç”¨æˆ·id,ä¸»ç  Varchar 15 - å¦ - mid ç”¨æˆ·å¯¹åº”çš„ç½‘ç«™ç®¡ç†ä¿¡æ¯ Varchar 20 - å¦ å¤–ç ï¼Œå‚ç…§manageä¸­çš„id name å§“å/è”ç³»äºº Varchar 20 - å¦ - sex æ€§åˆ« Varchar 2 - å¦ - email é‚®ä»¶åœ°å€ Varchar 20 - å¦ - tel è”ç³»ç”µè¯ Varchar 20 - å¦ - 2. å…¬å¸ä¿¡æ¯ï¼ˆcompanyï¼‰ å±æ€§å è¯´æ˜ ç±»å‹ é•¿åº¦ é»˜è®¤å€¼ å…è®¸ç©ºå€¼ çº¦æŸ id å…¬å¸idï¼Œä¸»ç  Varchar 15 - å¦ - mid å…¬å¸å¯¹åº”çš„ç½‘ç«™ç®¡ç†ä¿¡æ¯ Varchar 20 - å¦ å¤–ç ï¼Œå‚ç…§manageä¸­çš„id name å…¬å¸åç§° Varchar 20 - å¦ - address å…¬å¸åœ°å€ Varchar 20 - å¦ - establish å…¬å¸æˆç«‹æ—¶é—´ Varchar 10 - å¦ - email é‚®ä»¶åœ°å€ Varchar 20 - æ˜¯ - property å…¬å¸æ€§è´¨ Varchar 20 - å¦ - tel è”ç³»ç”µè¯ Varchar 20 - å¦ - scale å…¬å¸è§„æ¨¡ Varchar 10 - å¦ - intro å…¬å¸ç®€ä»‹ Varchar 300 - å¦ - 3. ç®¡ç†ä¿¡æ¯ï¼ˆmanageï¼‰ å±æ€§å è¯´æ˜ ç±»å‹ é•¿åº¦ é»˜è®¤å€¼ å…è®¸ç©ºå€¼ çº¦æŸ id æ³¨å†Œidï¼Œä¸»ç  Varchar 15 - å¦ - password å¯†ç  Varchar 20 - å¦ - role ç”¨æˆ·è§’è‰² Varchar 2 - å¦ - 4. ç®€å†ï¼ˆCVï¼‰ å±æ€§å è¯´æ˜ ç±»å‹ é•¿åº¦ é»˜è®¤å€¼ å…è®¸ç©ºå€¼ çº¦æŸ id ç®€å†idï¼Œä¸»ç  Varchar 15 - å¦ - category æ±‚èŒç±»å‹ Varchar 15 - å¦ å¤–ç ï¼Œå‚ç…§job_categoryä¸­çš„cate_name name åå­— Varchar 20 - å¦ - sex æ€§åˆ« Varchar 2 - å¦ - birth å‡ºç”Ÿæ—¥æœŸ Varchar 20 - å¦ - address å±…ä½åœ°å€ Varchar 20 - å¦ - education å­¦å† Varchar 10 - å¦ - work_exp å·¥ä½œç»éªŒ Varchar 10 - å¦ - school æ¯•ä¸šé™¢æ ¡ Varchar 20 - æ˜¯ - major ä¸»ä¿®ä¸“ä¸š Varchar 20 - æ˜¯ - email é‚®ç®± Varchar 20 - å¦ - tel è”ç³»ç”µè¯ Varchar 20 - å¦ - intro ä¸ªäººä»‹ç» Varchar 300 - å¦ - expected_job æœŸæœ›å·¥ä½œ Varchar 20 - å¦ - 5. å²—ä½ï¼ˆjob_deliverï¼‰ å±æ€§å è¯´æ˜ ç±»å‹ é•¿åº¦ é»˜è®¤å€¼ å…è®¸ç©ºå€¼ çº¦æŸ id å²—ä½idï¼Œä¸»ç  Varchar 15 - å¦ - category å²—ä½ç±»åˆ« Varchar 20 - å¦ å¤–ç ï¼Œå‚ç…§manageä¸­çš„id job_name å²—ä½åç§° Varchar 10 - å¦ - sex æ€§åˆ«è¦æ±‚ Varchar 5 - å¦ - education å­¦å†è¦æ±‚ Varchar 10 - å¦ - work_year å·¥ä½œç»éªŒè¦æ±‚ Varchar 10 - å¦ - age å¹´é¾„è¦æ±‚ Varchar 10 - å¦ - position å²—ä½åœ°å€ Varchar 20 - å¦ - salary å·¥èµ„ Varchar 10 - å¦ - num æ‹›è˜äººæ•° Int 4 - å¦ - contact è”ç³»æ–¹å¼ Varchar 20 - å¦ - description å²—ä½ä»‹ç» Varchar 300 - æ˜¯ - created_time å‘å¸ƒæ—¶é—´ Varchar 20 - å¦ - 6. å²—ä½ç±»åˆ«ï¼ˆjob_categoryï¼‰ å±æ€§å è¯´æ˜ ç±»å‹ é•¿åº¦ é»˜è®¤å€¼ å…è®¸ç©ºå€¼ çº¦æŸ cate_name å²—ä½ç±»åˆ« Varchar 10 - å¦ - pre_cate å²—ä½çš„çˆ¶ç±»ç±»åˆ«ï¼Œè‹¥æ— çˆ¶ç±»ï¼Œåˆ™ä¸ºç©º Varchar 20 - å¦ - 7. ç”¨æˆ·-ç®€å†ï¼ˆuser-CVï¼‰ å±æ€§å è¯´æ˜ ç±»å‹ é•¿åº¦ é»˜è®¤å€¼ å…è®¸ç©ºå€¼ çº¦æŸ id ç”¨æˆ·-ç®€å†idï¼Œä¸»ç  Varchar 15 - å¦ - user_id å¯¹åº”çš„ç”¨æˆ·id Varchar 20 - å¦ å¤–ç ï¼Œå‚ç…§userä¸­çš„id cv_id å¯¹åº”çš„ç®€å†id Varchar 20 - å¦ å¤–ç ï¼Œå‚ç…§CVä¸­çš„id 8. å…¬å¸-å²—ä½ï¼ˆcompany-jobï¼‰ å±æ€§å è¯´æ˜ ç±»å‹ é•¿åº¦ é»˜è®¤å€¼ å…è®¸ç©ºå€¼ çº¦æŸ id å…¬å¸-å²—ä½idï¼Œä¸»ç  Varchar 15 - å¦ - company_id å¯¹åº”çš„å…¬å¸id Varchar 20 - å¦ å¤–ç ï¼Œå‚ç…§companyä¸­çš„id job_deliver_id å¯¹åº”çš„å²—ä½id Varchar 20 - å¦ å¤–ç ï¼Œå‚ç…§job_deliverä¸­çš„id 9. ç®€å†æŠ•é€’ï¼ˆjob-wantedï¼‰ å±æ€§å è¯´æ˜ ç±»å‹ é•¿åº¦ é»˜è®¤å€¼ å…è®¸ç©ºå€¼ çº¦æŸ id ç”¨æˆ·-ç®€å†idï¼Œä¸»ç  Varchar 15 - å¦ - job_deliver_id å¯¹åº”çš„æ‹›è˜å²—ä½id Varchar 20 - å¦ å¤–ç ï¼Œå‚ç…§job_deliverä¸­çš„id cv_id å¯¹åº”çš„ç®€å†id Varchar 20 - å¦ å¤–ç ï¼Œå‚ç…§CVä¸­çš„id result æŠ•é€’çŠ¶æ€ Varchar 10 - å¦ - å››ã€å»ºè¡¨ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171.å»ºç«‹æ•°æ®åº“ï¼šCREATE DATABASE jobnetwork;USE jobnetwork;2.å»ºç«‹ç®¡ç†ä¿¡æ¯è¡¨ï¼šCREATE TABLE manage ( ID varchar(12) NOT NULL, /* æ³¨å†Œè€…ç®¡ç†ä¿¡æ¯çš„id */ role varchar(20) NOT NULL, /* 0ä»£è¡¨åº”è˜è€…ï¼Œ1ä»£è¡¨å…¬å¸ */ password varchar(20) NOT NULL, /* æ³¨å†Œè€…çš„ç™»å½•å¯†ç  */ PRIMARY KEY (ID))3.å»ºç«‹åº”è˜è€…ä¿¡æ¯è¡¨ï¼šCREATE TABLE applicant ( ID varchar(11) NOT NULL, /* åº”è˜è€…çš„id */ name varchar(20) NOT NULL, /* åº”è˜è€…åå­— */ sex varchar(10) NOT NULL, /* åº”è˜è€…æ€§åˆ« */ email varchar(20) NOT NULL, /* åº”è˜è€…é‚®ç®± */ telephone varchar(20) NOT NULL, /* åº”è˜è€…æ‰‹æœºå·ç  */ mid_id varchar(12) NOT NULL, /* åº”è˜è€…å¯¹åº”çš„æ³¨å†Œç®¡ç†ä¿¡æ¯çš„id */ PRIMARY KEY (ID), FOREIGN KEY (mid_id) REFERENCES manage (ID))4.å»ºç«‹å…¬å¸ä¿¡æ¯è¡¨ï¼šCREATE TABLE company ( ID varchar(11) NOT NULL, /* å…¬å¸çš„id */ name varchar(20) NOT NULL, /* å…¬å¸åå­— */ address varchar(30) NOT NULL, /* å…¬å¸åœ°å€ */ establish varchar(20) NOT NULL, /* å…¬å¸å»ºç«‹æ—¶é—´ */ email varchar(20) NOT NULL, /* å…¬å¸è”ç³»é‚®ç®± */ property varchar(20) NOT NULL, /* å…¬å¸æ€§è´¨ */ telephone varchar(20) NOT NULL, /* å…¬å¸è”ç³»ç”µè¯ */ scale varchar(20) NOT NULL, /* å…¬å¸è§„æ¨¡ */ intro varchar(300) NOT NULL, /* å…¬å¸ç®€ä»‹ */ mid_id varchar(12) NOT NULL, /* å…¬å¸å¯¹åº”çš„æ³¨å†Œç®¡ç†ä¿¡æ¯çš„id */ PRIMARY KEY (ID), FOREIGN KEY (mid_id) REFERENCES manage (ID))5.å»ºç«‹å²—ä½ç±»åˆ«è¡¨ï¼šCREATE TABLE jobcategory ( cate_name varchar(20) NOT NULL, /* å²—ä½ç±»åˆ« */ pre_cate varchar(20) NOT NULL, /* å²—ä½å¯¹åº”çš„çˆ¶ç±»åˆ«ï¼Œè‹¥æ— åˆ™ä¸ºç©º */ PRIMARY KEY (cate_name))6.å»ºç«‹ç®€å†è¡¨ï¼šCREATE TABLE cv ( ID varchar(11) NOT NULL, /* ç®€å†çš„id */ name varchar(20) NOT NULL, /* åº”è˜è€…åå­— */ sex varchar(10) NOT NULL, /* åº”è˜è€…æ€§åˆ« */ birth varchar(20) NOT NULL, /* åº”è˜è€…å‡ºç”Ÿæ—¥æœŸ */ create_time varchar(20) NOT NULL, /* ç®€å†åˆ›å»ºæ—¥æœŸ */ location varchar(50) NOT NULL, /* åº”è˜è€…å…ˆå±…ä½åœ° */ education varchar(20) NOT NULL, /* åº”è˜è€…å­¦å† */ work_exp varchar(100) NOT NULL, /* åº”è˜è€…å·¥ä½œç»å† */ school varchar(20) NOT NULL, /* åº”è˜è€…æ¯•ä¸šé™¢æ ¡ */ major varchar(20) NOT NULL, /* åº”è˜è€…ä¸“ä¸š */ email varchar(20) NOT NULL, /* åº”è˜è€…é‚®ç®± */ telephone varchar(20) NOT NULL, /* åº”è˜è€…æ‰‹æœºå·ç  */ intro varchar(300) NOT NULL, /* åº”è˜è€…ç®€ä»‹ */ expected_job varchar(20) NOT NULL, /* åº”è˜è€…æœŸæœ›åº”è˜å²—ä½ */ category_id varchar(20) NOT NULL, /* åº”è˜è€…åº”è˜å²—ä½ç±»åˆ« */ PRIMARY KEY (ID), FOREIGN KEY (category_id) REFERENCES jobcategory (cate_name))7.å»ºç«‹å‘å¸ƒå²—ä½è¡¨ï¼šCREATE TABLE jobdeliver ( ID varchar(11) NOT NULL, /* å‘å¸ƒçš„å²—ä½id */ job_name varchar(20) NOT NULL, /* å²—ä½åå­— */ position varchar(40) NOT NULL, /* å²—ä½å·¥ä½œåœ°ç‚¹ */ numb int NOT NULL, /* å²—ä½æ‹›è˜äººæ•° */ sex varchar(10) NOT NULL, /* æ€§åˆ«è¦æ±‚ */ work_year varchar(5) NOT NULL, /* å·¥ä½œç»å†è¦æ±‚ */ age varchar(10) NOT NULL, /* å¹´é¾„è¦æ±‚ */ education varchar(20) NOT NULL, /* å­¦å†è¦æ±‚ */ salary varchar(20) NOT NULL, /* å·¥èµ„ */ intro varchar(300) NOT NULL, /* å²—ä½ä»‹ç» */ contact varchar(20) NOT NULL, /* è”ç³»æ–¹å¼ */ created_time varchar(20) NOT NULL, /* åˆ›å»ºæ—¶é—´ */ category_id varchar(20) NOT NULL, /* å²—ä½æ‰€å±ç±»åˆ« */ PRIMARY KEY (ID), FOREIGN KEY (category_id) REFERENCES jobcategory (cate_name))8.å»ºç«‹å…¬å¸-å²—ä½è¡¨ï¼šCREATE TABLE companyjob ( ID varchar(11) NOT NULL, /* å…¬å¸-å²—ä½çš„id */ company_id varchar(11) NOT NULL, /* å…¬å¸çš„id */ job_deliver_id varchar(11) NOT NULL,/* å·²å‘å¸ƒå²—ä½çš„id */ PRIMARY KEY (ID), FOREIGN KEY (job_deliver_id) REFERENCES jobdeliver (ID), FOREIGN KEY (company_id) REFERENCES company (ID))9.å»ºç«‹åº”è˜è€…-ç®€å†è¡¨ï¼šCREATE TABLE usercv ( ID varchar(11) NOT NULL, /* ç”¨æˆ·-ç®€å†çš„id */ cv_id varchar(11) NOT NULL, /* ç®€å†çš„id */ applicant_id varchar(11) NOT NULL, /* åº”è˜è€…çš„id */ PRIMARY KEY (ID), FOREIGN KEY (applicant_id) REFERENCES applicant (ID), FOREIGN KEY (cv_id) REFERENCES cv (ID))10.å»ºç«‹å²—ä½-å»ºç«‹æŠ•é€’è¡¨ï¼šCREATE TABLE jobwanted ( ID varchar(11) NOT NULL, /* ç®€å†-å²—ä½ æŠ•é€’çš„id */ result varchar(10) NOT NULL, /* æŠ•é€’ç»“æœ */ cv_id varchar(11) NOT NULL, /* ç®€å†çš„id */ job_deliver_id varchar(11) NOT NULL,/* å‘å¸ƒå²—ä½çš„id */ PRIMARY KEY (ID), FOREIGN KEY (job_deliver_id) REFERENCES jobdeliver (ID), FOREIGN KEY (cv_id) REFERENCES cv (ID)) äº”ã€æ‹›è˜ç½‘æ•°æ®åº“æŸ¥è¯¢ç³»ç»Ÿè¯´æ˜5.1ç³»ç»Ÿä»‹ç»1)æ“ä½œç³»ç»Ÿ ç³»ç»Ÿæ­å»ºåœ¨Ubuntuç³»ç»Ÿä¸Šã€‚Ubuntuæ˜¯ä¸€å…è´¹å¼€æºæ“ä½œç³»ç»Ÿï¼Œæ˜¯åŸºäºLinuxçš„å‘è¡Œç‰ˆæœ¬ï¼Œå…·æœ‰å¼€æ”¾æ€§å’Œé«˜æ€§ä»·æ¯”ç­‰æ˜¾è‘—ç‰¹ç‚¹ã€‚åŒæ—¶Ubuntuå…·æœ‰åºå¤§çš„ç¤¾åŒºåŠ›é‡æ”¯æŒï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä»ç¤¾åŒºè·å¾—å¸®åŠ©ã€‚ç³»ç»Ÿé€‰ç”¨çš„æ˜¯Ubuntu14.04ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬ä»£å·ä¸ºâ€œTrusty Tahrâ€ï¼ˆå€¼å¾—ä¿¡èµ–çš„å¡”å°”ç¾Šï¼‰ï¼Œæ˜¯ä¸€ä¸ªé•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼Œæœ‰å¾ˆå¥½çš„æ€§èƒ½å’Œäº¤äº’æ€§ã€‚ 2ï¼‰å¼€å‘è¯­è¨€ ç³»ç»Ÿä¸»è¦ä½¿ç”¨pythonï¼Œpythonæ˜¯ä¸€ç§å®Œå…¨é¢å‘å¯¹è±¡ã€è§£é‡Šå‹è®¡ç®—æœºç¨‹åºè®¾è®¡è¯­è¨€ï¼Œè¯­æ³•ç®€æ´æ¸…æ™°ï¼Œæ‹¥æœ‰ä¸°å¯Œå’Œå¼ºå¤§çš„åº“ï¼Œæ˜“è¯»ä¸”æ˜“ç»´æŠ¤ï¼Œæä¾›APIï¼Œèƒ½æ–¹ä¾¿è¿›è¡Œç»´æŠ¤å’Œç®¡ç†ã€‚ 3ï¼‰æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç³»ç»Ÿé€‰ç”¨SQLiteæ•°æ®åº“ï¼ŒSQLiteæ˜¯éµå®ˆACIDçš„å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå®ƒåŒ…å«åœ¨ä¸€ä¸ªç›¸å¯¹å°çš„Cç¨‹å¼åº“ä¸­ã€‚ä¸è®¸å¤šå…¶å®ƒæ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸åŒï¼ŒSQLiteä¸æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯/æœåŠ¡å™¨ç»“æ„çš„æ•°æ®åº“å¼•æ“ï¼Œè€Œæ˜¯è¢«é›†æˆåœ¨ç”¨æˆ·ç¨‹åºä¸­ã€‚ 4ï¼‰å¼€å‘æ¡†æ¶ ç³»ç»Ÿé€‰ç”¨Djangoæ¡†æ¶ï¼ŒDjangoæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„Webåº”ç”¨æ¡†æ¶ï¼Œç”±Pythonå†™æˆã€‚é‡‡ç”¨äº†MVCçš„è½¯ä»¶è®¾è®¡æ¨¡å¼ã€‚å®ƒå¼ºè°ƒä»£ç å¤ç”¨,å¤šä¸ªç»„ä»¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä»¥â€œæ’ä»¶â€å½¢å¼æœåŠ¡äºæ•´ä¸ªæ¡†æ¶ï¼Œæœ‰è®¸å¤šåŠŸèƒ½å¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œå…·æœ‰å¾ˆå¼ºçš„å¯æ‰©å±•æ€§ã€‚ 5.2ç•Œé¢å±•ç¤º5.2.1ç™»é™†ç•Œé¢ è¾“å…¥è´¦å·å’Œå¯†ç ï¼ŒæŸ¥è¯¢æ•°æ®åº“å¹¶ä¸å¯†ç åŒ¹é…æˆåŠŸåå¯ç™»é™† è‹¥æŸ¥è¯¢å¤±è´¥åˆ™æ— æ³•ç™»é™† 5.2.2æ™®é€šç”¨æˆ·ç™»å½• è·å¾—ç”¨æˆ·è¯¦ç»†ä¿¡æ¯ï¼Œå’Œå¯¹åº”çš„ç®€å†åˆ—è¡¨æ¯ä»½ç®€å†çš„è¯¦ç»†ä¿¡æ¯ 5.2.3ä¼ä¸šç”¨æˆ·ç™»å½• è·å¾—ä¼ä¸šç”¨æˆ·è¯¦ç»†ä¿¡æ¯ï¼Œå’Œå¯¹åº”çš„å‘å¸ƒçš„æ‹›è˜ä¿¡æ¯åˆ—è¡¨æ¯æ¡æ‹›è˜çš„è¯¦ç»†æ‹›è˜ä¿¡æ¯ä»¥åŠå¯¹åº”è¯¥æ‹›è˜æŠ•æ”¾çš„ç®€å† 5.2.4æ•°æ®åº“åå°ç®¡ç†ç”¨æ¥ç®¡ç†æ•°æ®åº“çš„åå°ï¼Œå®ç°å¢åˆ æŸ¥æ”¹ã€‚ 5.3 ç³»ç»Ÿä½¿ç”¨è¯´æ˜ç³»ç»Ÿè¿è¡Œéœ€æ±‚ï¼šç³»ç»Ÿç¯å¢ƒï¼šubuntu14.04/OS Xç¨‹åºè¯­è¨€ï¼špython 2.7.+æ¡†æ¶: django 1.8.0+ ç³»ç»Ÿä¸‹è½½:ä½¿ç”¨githubä¸‹è½½ï¼šgit clone https://github.com/Hareric/dbBigHW.gitç›´æ¥ä¸‹è½½ï¼šhttps://github.com/Hareric/dbBigHW/archive/master.zip ç³»ç»Ÿè¿è¡Œï¼šè¿›å…¥è¯¥ç³»ç»Ÿæ ¹ç›®å½•ï¼Œç»ˆç«¯ä¸‹æ‰§è¡Œpython manage.py runserverå¼€å¯æœ¬åœ°æœåŠ¡å™¨æµè§ˆå™¨è®¿é—®: 127.0.0.1:8000/home è¿›å…¥æŸ¥è¯¢é¡µé¢æµè§ˆå™¨è®¿é—®: 127.0.0.1:8000/admin è¿›å…¥æ•°æ®åº“åå°ç®¡ç†é¡µé¢ç®¡ç†å‘˜å¸å·: admin å¯†ç : admin","raw":null,"content":null,"categories":[],"tags":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://hareric.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"Django","slug":"Django","permalink":"https://hareric.com/tags/Django/"},{"name":"æ–‡æ¡£","slug":"æ–‡æ¡£","permalink":"https://hareric.com/tags/%E6%96%87%E6%A1%A3/"}]},{"title":"scikit-learnçš„å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨æ•™ç¨‹","slug":"scikit-learnçš„å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨æ•™ç¨‹","date":"2016-05-22T04:11:40.000Z","updated":"2021-05-22T08:01:05.400Z","comments":true,"path":"2016/05/22/scikit-learnçš„å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨æ•™ç¨‹/","link":"","permalink":"https://hareric.com/2016/05/22/scikit-learn%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/","excerpt":"å¼•è¨€ã€€ã€€scikit-learnæ˜¯Pythonçš„ä¸€ä¸ªå¼€æºæœºå™¨å­¦ä¹ æ¨¡å—ï¼Œå®ƒå»ºç«‹åœ¨NumPyï¼ŒSciPyå’Œmatplotlibæ¨¡å—ä¹‹ä¸Šèƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›å„ç§æœºå™¨å­¦ä¹ ç®—æ³•æ¥å£ï¼Œå¯ä»¥è®©ç”¨æˆ·ç®€å•ã€é«˜æ•ˆåœ°è¿›è¡Œæ•°æ®æŒ–æ˜å’Œæ•°æ®åˆ†æã€‚","text":"å¼•è¨€ scikit-learnæ˜¯Pythonçš„ä¸€ä¸ªå¼€æºæœºå™¨å­¦ä¹ æ¨¡å—ï¼Œå®ƒå»ºç«‹åœ¨NumPyï¼ŒSciPyå’Œmatplotlibæ¨¡å—ä¹‹ä¸Šèƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›å„ç§æœºå™¨å­¦ä¹ ç®—æ³•æ¥å£ï¼Œå¯ä»¥è®©ç”¨æˆ·ç®€å•ã€é«˜æ•ˆåœ°è¿›è¡Œæ•°æ®æŒ–æ˜å’Œæ•°æ®åˆ†æã€‚ scikit-learnå®‰è£…python ä¸­å®‰è£…è®¸å¤šæ¨¡æ¿åº“ä¹‹å‰éƒ½æœ‰ä¾èµ–å…³ç³»,å®‰è£… scikit-learn ä¹‹å‰éœ€è¦ä»¥ä¸‹å…ˆå†³æ¡ä»¶: Python(&gt;= 2.6 or &gt;= 3.3) NumPy (&gt;= 1.6.1) SciPy (&gt;= 0.9) å¦‚æ— æ„å¤–,ä¸‹é¢ç”¨ pip çš„å®‰è£…æ–¹æ³•å¯ä»¥é¡ºåˆ©å®Œæˆ~~å®‰è£… numpy sudo pip install numpy å®‰è£… scipyéœ€è¦å…ˆå®‰è£… matplotlib ipython ipython-notebook pandas sympy sudo apt-get install python-matplotlib ipython ipython-notebook sudo apt-get install python-pandas python-sympy python-nose sudo pip install scipy å®‰è£… scikit-learn sudo pip install -U scikit-learn æµ‹è¯•åœ¨ terminal é‡Œé¢è¾“å…¥ pip list è¿™ä¸ªä¼šåˆ—å‡º pip å®‰è£…çš„æ‰€æœ‰ä¸œè¥¿,å¦‚æœé‡Œé¢æœ‰ sklearn è¿™ä¸€é¡¹,åº”è¯¥å°±æ˜¯å¤§åŠŸå‘Šæˆäº†!æˆ–è€…å°è¯•ç€å°†å‡ ä¸ªæ¨¡æ¿åº“å¯¼å…¥è¿›æ¥ import numpy import scipy import sklearn åŠ è½½æ•°æ®(Data Loading) æœ¬æ–‡æ‰€ä½¿ç”¨çš„æ•°æ®é›†ä¸ºâ€˜ä»Šæ—¥å¤´æ¡â€™è¿‘æœŸä¸¤ç¯‡çƒ­é—¨æ–°é—»â€œç‰›ï¼å·å¤§å­¦éœ¸å¯å®¤5äººè·16ä»½åæ ¡é€šçŸ¥ä¹¦â€ã€â€œå¼ è¶…å‡¡çš„æœ€å14å¤©ï¼šå±±è¥¿15å²ä¼‘å­¦å°‘å¹´æ˜¯å¦‚ä½•æ®’å‘½ç½‘å§çš„â€åˆ†åˆ«500æ¡è¯„è®ºï¼Œå…±1000æ¡è¯„è®ºã€‚ å»é™¤åœç”¨è¯åå¾—åˆ°äº†è¯åº“å¤§å°ä¸º3992çš„è¯åº“ã€‚å› æ­¤æ„å»ºäº†1000Ã—3992çš„ç‰¹å¾çŸ©é˜µï¼Œä»¥åŠé•¿åº¦ä¸º1000çš„å¯¹åº”è¯„è®ºæ‰€å±ç±»åˆ«åˆ—è¡¨ å…·ä½“çˆ¬è™«å’Œç‰¹å¾çŸ©é˜µæ„å»ºä»£ç  class_result_save.npyä¸‹è½½ feature_matrix_save.npyä¸‹è½½123import numpy as npfeature_matrix = np.load(&#x27;dataSet/feature_matrix_save.npy&#x27;)class_list = np.load(&#x27;dataSet/class_result_save.npy&#x27;) æ•°æ®å½’ä¸€åŒ–(Data Normalization) å¤§å¤šæ•°æœºå™¨å­¦ä¹ ç®—æ³•ä¸­çš„æ¢¯åº¦æ–¹æ³•å¯¹äºæ•°æ®çš„ç¼©æ”¾å’Œå°ºåº¦éƒ½æ˜¯å¾ˆæ•æ„Ÿçš„ï¼Œåœ¨å¼€å§‹è·‘ç®—æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥è¿›è¡Œå½’ä¸€åŒ–æˆ–è€…æ ‡å‡†åŒ–çš„è¿‡ç¨‹ï¼Œè¿™ä½¿å¾—ç‰¹å¾æ•°æ®ç¼©æ”¾åˆ°0-1èŒƒå›´ä¸­ã€‚scikit-learnæä¾›äº†å½’ä¸€åŒ–çš„æ–¹æ³•ï¼š1234567from sklearn import preprocessing# å½’ä¸€åŒ–ï¼ˆNormalizationï¼‰normalized_X = preprocessing.normalize(feature_matrix)print normalized_X# æ ‡å‡†åŒ–ï¼ˆStandardizationï¼‰standardized_X = preprocessing.scale(feature_matrix)print standardized_X ç‰¹å¾é€‰æ‹©(Feature Selection) åœ¨è§£å†³ä¸€ä¸ªå®é™…é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œé€‰æ‹©åˆé€‚çš„ç‰¹å¾æˆ–è€…æ„å»ºç‰¹å¾çš„èƒ½åŠ›ç‰¹åˆ«é‡è¦ã€‚è¿™æˆä¸ºç‰¹å¾é€‰æ‹©æˆ–è€…ç‰¹å¾å·¥ç¨‹ã€‚ç‰¹å¾é€‰æ‹©æ—¶ä¸€ä¸ªå¾ˆéœ€è¦åˆ›é€ åŠ›çš„è¿‡ç¨‹ï¼Œæ›´å¤šçš„ä¾èµ–äºç›´è§‰å’Œä¸“ä¸šçŸ¥è¯†ï¼Œå¹¶ä¸”æœ‰å¾ˆå¤šç°æˆçš„ç®—æ³•æ¥è¿›è¡Œç‰¹å¾çš„é€‰æ‹©ã€‚ä¸‹é¢çš„æ ‘ç®—æ³•(Tree algorithms)è®¡ç®—ç‰¹å¾çš„ä¿¡æ¯é‡ï¼š12345from sklearn.ensemble import ExtraTreesClassifiermodel = ExtraTreesClassifier()print feature_matrix.shape # åŸç‰¹å¾çŸ©é˜µè§„æ¨¡feature_matrix = model.fit(feature_matrix, class_list).transform(feature_matrix)print feature_matrix.shape # ç‰¹å¾é€‰æ‹©å ç‰¹å¾çŸ©é˜µçš„è§„æ¨¡ ç‰¹å¾æå–(Feature Extraction) ç”¨TFIDFç®—æ³•æ¥è®¡ç®—ç‰¹å¾è¯çš„æƒé‡å€¼æ˜¯è¡¨ç¤ºå½“ä¸€ä¸ªè¯åœ¨è¿™ç¯‡æ–‡æ¡£ä¸­å‡ºç°çš„é¢‘ç‡è¶Šé«˜ï¼ŒåŒæ—¶åœ¨å…¶ä»–æ–‡æ¡£ä¸­å‡ºç°çš„æ¬¡æ•°è¶Šå°‘ï¼Œåˆ™è¡¨æ˜è¯¥è¯å¯¹äºè¡¨ç¤ºè¿™ç¯‡æ–‡æ¡£çš„åŒºåˆ†èƒ½åŠ›è¶Šå¼ºï¼Œæ‰€ä»¥å…¶æƒé‡å€¼å°±åº”è¯¥è¶Šå¤§ã€‚123from sklearn.feature_extraction.text import TfidfTransformertfidf_transformer = TfidfTransformer()feature_matrix = tfidf_transformer.fit_transform(feature_matrix).toarray() æœ´ç´ è´å¶æ–¯(Naive Bayes) æœ´ç´ è´å¶æ–¯æ˜¯ä¸€ä¸ªå¾ˆè‘—åçš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œä¸»è¦æ˜¯æ ¹æ®è®­ç»ƒæ ·æœ¬çš„ç‰¹å¾æ¥è®¡ç®—å„ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œåœ¨å¤šåˆ†ç±»é—®é¢˜ä¸Šç”¨çš„æ¯”è¾ƒå¤šã€‚12345678910111213from sklearn import metricsfrom sklearn.naive_bayes import GaussianNB# æ„å»ºæœ´ç´ è´å¶æ–¯æ¨¡å‹model = GaussianNB()model.fit(feature_matrix, class_list)print model# ä½¿ç”¨æµ‹è¯•é›†è¿›è¡Œæµ‹è¯•(æ­¤å¤„å°†è®­ç»ƒé›†åšæµ‹è¯•é›†)expected = class_listpredicted = model.predict(feature_matrix)# è¾“å‡ºæµ‹è¯•æ•ˆæœprint metrics.classification_report(expected, predicted)print metrics.confusion_matrix(expected, predicted) kè¿‘é‚»(k-Nearest Neighbours) kè¿‘é‚»ç®—æ³•å¸¸å¸¸è¢«ç”¨ä½œæ˜¯åˆ†ç±»ç®—æ³•ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚å¯ä»¥ç”¨å®ƒæ¥è¯„ä¼°ç‰¹å¾ï¼Œåœ¨ç‰¹å¾é€‰æ‹©ä¸Šæˆ‘ä»¬å¯ä»¥ç”¨åˆ°å®ƒã€‚12345678910111213from sklearn import metricsfrom sklearn.neighbors import KNeighborsClassifier# æ„å»ºknnæ¨¡å‹model = KNeighborsClassifier()model.fit(feature_matrix, class_list)print model# ä½¿ç”¨æµ‹è¯•é›†è¿›è¡Œæµ‹è¯•(æ­¤å¤„å°†è®­ç»ƒé›†åšæµ‹è¯•é›†)expected = class_listpredicted = model.predict(feature_matrix)# è¾“å‡ºæµ‹è¯•æ•ˆæœprint metrics.classification_report(expected, predicted)print metrics.confusion_matrix(expected, predicted) å†³ç­–æ ‘(Decision Tree) åˆ†ç±»ä¸å›å½’æ ‘(Classification and Regression Trees ,CART)ç®—æ³•å¸¸ç”¨äºç‰¹å¾å«æœ‰ç±»åˆ«ä¿¡æ¯çš„åˆ†ç±»æˆ–è€…å›å½’é—®é¢˜ï¼Œè¿™ç§æ–¹æ³•éå¸¸é€‚ç”¨äºå¤šåˆ†ç±»æƒ…å†µã€‚12345678910111213from sklearn import metricsfrom sklearn.tree import DecisionTreeClassifier# æ„å»ºå†³ç­–æ•°æ¨¡å‹model = DecisionTreeClassifier()model.fit(feature_matrix, class_list)print model# ä½¿ç”¨æµ‹è¯•é›†è¿›è¡Œæµ‹è¯•(æ­¤å¤„å°†è®­ç»ƒé›†åšæµ‹è¯•é›†)expected = class_listpredicted = model.predict(feature_matrix)# è¾“å‡ºæµ‹è¯•æ•ˆæœprint metrics.classification_report(expected, predicted)print metrics.confusion_matrix(expected, predicted)","raw":null,"content":null,"categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://hareric.com/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}]},{"title":"KNNç®—æ³•å®ç°ä¹‹KDæ ‘","slug":"KNNç®—æ³•å®ç°ä¹‹KDæ ‘","date":"2016-05-21T17:53:05.000Z","updated":"2021-05-22T08:01:05.399Z","comments":true,"path":"2016/05/22/KNNç®—æ³•å®ç°ä¹‹KDæ ‘/","link":"","permalink":"https://hareric.com/2016/05/22/KNN%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%E4%B9%8BKD%E6%A0%91/","excerpt":"ä¸€ã€èƒŒæ™¯ã€€ã€€äº†è§£äº†KNNç®—æ³•åï¼Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œç”±äºKNNç®—æ³•éœ€è¦å°†æ‰€æœ‰æ•°æ®é›†è¯»å…¥å†…å­˜ï¼Œå¹¶éœ€è¦é€šè¿‡è®¡ç®—æœªçŸ¥ç‚¹ä¸æ‰€æœ‰è®­ç»ƒç‚¹çš„è·ç¦»ï¼Œç­›é€‰å‡ºè·ç¦»æœ€å°çš„kä¸ªç‚¹ã€‚å› æ­¤åœ¨åºå¤§çš„è®­ç»ƒé›†é¢å‰ï¼Œè®¡ç®—å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½ç›¸å½“å¾—é«˜ï¼ŒKNNç®—æ³•å°±æ˜¾å¾—éå¸¸çš„æ— åŠ›ã€‚","text":"ä¸€ã€èƒŒæ™¯ äº†è§£äº†KNNç®—æ³•åï¼Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œç”±äºKNNç®—æ³•éœ€è¦å°†æ‰€æœ‰æ•°æ®é›†è¯»å…¥å†…å­˜ï¼Œå¹¶éœ€è¦é€šè¿‡è®¡ç®—æœªçŸ¥ç‚¹ä¸æ‰€æœ‰è®­ç»ƒç‚¹çš„è·ç¦»ï¼Œç­›é€‰å‡ºè·ç¦»æœ€å°çš„kä¸ªç‚¹ã€‚å› æ­¤åœ¨åºå¤§çš„è®­ç»ƒé›†é¢å‰ï¼Œè®¡ç®—å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½ç›¸å½“å¾—é«˜ï¼ŒKNNç®—æ³•å°±æ˜¾å¾—éå¸¸çš„æ— åŠ›ã€‚ äºŒã€åŸç† å°†è®­ç»ƒé›†æ„å»ºå‡ºäºŒå‰æ ‘ï¼Œåˆ©ç”¨å›æº¯ç®—æ³•å¯»æ‰¾ä¸æ ·ç‚¹æœ€è¿‘çš„kä¸ªè®­ç»ƒç‚¹ï¼Œé¿å…ä¸æ‰€æœ‰è®­ç»ƒé›†è®¡ç®—è·ç¦»çš„éœ€æ±‚ï¼Œå¤§å¤§å‡å°‘äº†è®¡ç®—å¤æ‚åº¦ã€‚ ä¸‰ã€ç®—æ³•æµç¨‹1ã€KDæ ‘çš„æ„å»º Kd-æ ‘ï¼šæ˜¯å¯¹æ•°æ®ç‚¹åœ¨kç»´ç©ºé—´{äºŒç»´(xï¼Œy)ï¼Œä¸‰ç»´(xï¼Œyï¼Œz)ï¼Œkç»´(xï¼Œyï¼Œz..)}ä¸­åˆ’åˆ†çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸»è¦åº”ç”¨äºå¤šç»´ç©ºé—´å…³é”®æ•°æ®çš„æœç´¢(å¦‚ï¼šèŒƒå›´æœç´¢å’Œæœ€è¿‘é‚»æœç´¢)ã€‚æœ¬è´¨ä¸Šè¯´ï¼ŒKd-æ ‘å°±æ˜¯ä¸€ç§å¹³è¡¡äºŒå‰æ ‘ã€‚ å‡è®¾æœ‰6ä¸ªäºŒç»´æ•°æ®ç‚¹&#123;(2,3)ï¼Œ(5,4)ï¼Œ(9,6)ï¼Œ(4,7)ï¼Œ(8,1)ï¼Œ(7,2)&#125;ï¼Œæ•°æ®ç‚¹ä½äºäºŒç»´ç©ºé—´å†…ï¼Œæ ¹æ®è¿™äº›æ•°æ®ç‚¹æ„é€ ä¸€ä¸ªkdæ ‘ã€‚å¦‚ä¸‹å›¾ï¼š æ­¥éª¤ â‘ 6ä¸ªæ•°æ®ç‚¹åœ¨xï¼Œyç»´åº¦ä¸Šçš„æ•°æ®æ–¹å·®åˆ†åˆ«ä¸º39ï¼Œ28.63ï¼Œæ‰€ä»¥åœ¨xè½´ä¸Šæ–¹å·®æ›´å¤§ï¼Œæ•…å…ˆé€‰xè½´ä¸ºåæ ‡è½´æ¥åˆ‡åˆ†çŸ©å½¢ï¼› â‘¡æ ¹æ®xç»´ä¸Šçš„å€¼å°†æ•°æ®æ’åºï¼š&#123;(2,3),(4,7),(5,4),(7,2),(8,1),(9,6)&#125;6ä¸ªæ•°æ®çš„ä¸­å€¼ä¸º7ï¼Œæ‰€ä»¥ä»¥æ•°æ®ç‚¹(7,2)ä¸ºèŠ‚ç‚¹ï¼Œé€šè¿‡(7,2)å¹¶å‚ç›´äºxè½´çš„ç›´çº¿æ¥æŠŠå¹³é¢åˆ‡åˆ†æˆä¸¤ä¸ªçŸ©å½¢ï¼› â‘¢ç¡®å®šå·¦å­ç©ºé—´å’Œå³å­ç©ºé—´ã€‚x=7å°†æ•´ä¸ªç©ºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šx&lt;=7çš„éƒ¨åˆ†ä¸ºå·¦å­ç©ºé—´ï¼ŒåŒ…å«3ä¸ªèŠ‚ç‚¹=&#123;(2,3),(5,4),(4,7)&#125;ï¼›å¦ä¸€éƒ¨åˆ†ä¸ºå³å­ç©ºé—´ï¼ŒåŒ…å«2ä¸ªèŠ‚ç‚¹=&#123;(8,1)ï¼Œ(9,6)&#125;ï¼› kdæ ‘çš„æ„å»ºæ˜¯ä¸€ä¸ªé€’å½’è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯¹å·¦å­ç©ºé—´å’Œå³å­ç©ºé—´å†…çš„æ•°æ®é‡å¤ä¸Šè¿°è¿‡ç¨‹å°†ç©ºé—´å’Œæ•°æ®é›†è¿›ä¸€æ­¥ç»†åˆ†ï¼Œå¦‚æ­¤å¾€å¤ç›´åˆ°ç©ºé—´ä¸­ä»»æ„ä¸¤ä¸ªå­åŒºåŸŸæ²¡æœ‰å®ä¾‹å­˜åœ¨æ—¶ï¼Œåœæ­¢åˆ’åˆ†ã€‚ æœ€åå¯ä»¥è·å¾—äºŒå‰æ ‘,å¦‚ä¸‹å›¾ï¼š 2ã€k-dæ ‘ä¸Šçš„æœ€é‚»è¿‘æŸ¥æ‰¾ç®—æ³• ç›®çš„æ˜¯æ£€ç´¢åœ¨k-dæ ‘ä¸­ä¸æŸ¥è¯¢ç‚¹è·ç¦»æœ€è¿‘çš„æ•°æ®ç‚¹ã€‚ æ­¥éª¤ï¼š å‡è®¾æŸ¥è¯¢ç‚¹Aã€‚é€šè¿‡äºŒå‰æœç´¢ï¼Œé¡ºç€æœç´¢è·¯å¾„å¾ˆå¿«å°±èƒ½æ‰¾åˆ°æœ€é‚»è¿‘çš„è¿‘ä¼¼ç‚¹ï¼Œä¹Ÿå°±æ˜¯å¶å­èŠ‚ç‚¹Bã€‚ è€Œæ‰¾åˆ°çš„å¶å­èŠ‚ç‚¹Bå¹¶ä¸ä¸€å®šå°±æ˜¯æœ€é‚»è¿‘çš„ï¼Œæœ€é‚»è¿‘è‚¯å®šè·ç¦»æŸ¥è¯¢ç‚¹æ›´è¿‘ï¼Œåº”è¯¥ä½äºä»¥æŸ¥è¯¢ç‚¹ä¸ºåœ†å¿ƒä¸”é€šè¿‡å¶å­èŠ‚ç‚¹çš„åœ†åŸŸå†…ã€‚ ä¸ºäº†æ‰¾åˆ°çœŸæ­£çš„æœ€è¿‘é‚»ï¼Œè¿˜éœ€è¦è¿›è¡Œç›¸å…³çš„å›æº¯æ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç®—æ³•æ²¿æœç´¢è·¯å¾„åå‘æŸ¥æ‰¾æ˜¯å¦æœ‰è·ç¦»æŸ¥è¯¢ç‚¹æ›´è¿‘çš„æ•°æ®ç‚¹ã€‚ å®ä¾‹ï¼šä»¥æŸ¥è¯¢(2.1,3.1)ä¸ºä¾‹ï¼š 1.äºŒå‰æ ‘æœç´¢ æ­¤æ—¶æœç´¢è·¯å¾„ä¸­çš„èŠ‚ç‚¹ä¸º&#123;(7,2)ï¼Œ(5,4)ï¼Œ(2,3)&#125;ï¼Œä»¥(2,3)ä½œä¸ºå½“å‰æœ€è¿‘é‚»ç‚¹ï¼Œè®¡ç®—å…¶åˆ°æŸ¥è¯¢ç‚¹(2.1,3.1)çš„è·ç¦»ä¸º0.1414 2.å›æº¯æŸ¥æ‰¾ åœ¨å¾—åˆ°(2,3)ä¸ºæŸ¥è¯¢ç‚¹çš„æœ€è¿‘ç‚¹ä¹‹åï¼Œå›æº¯åˆ°å…¶çˆ¶èŠ‚ç‚¹(5,4)ï¼Œå¹¶åˆ¤æ–­åœ¨è¯¥çˆ¶èŠ‚ç‚¹çš„å…¶ä»–å­èŠ‚ç‚¹ç©ºé—´ä¸­æ˜¯å¦æœ‰è·ç¦»æŸ¥è¯¢ç‚¹æ›´è¿‘çš„æ•°æ®ç‚¹ã€‚ ä»¥(2.1,3.1)ä¸ºåœ†å¿ƒï¼Œä»¥0.1414ä¸ºåŠå¾„ç”»åœ†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å‘ç°è¯¥åœ†å¹¶ä¸å’Œè¶…å¹³é¢y = 4äº¤å‰²ï¼Œå› æ­¤ä¸ç”¨è¿›å…¥(5,4)èŠ‚ç‚¹å³å­ç©ºé—´ä¸­(å›¾ä¸­ç»¿è‰²åŒºåŸŸ)å»æœç´¢ï¼› æœ€åï¼Œå†å›æº¯åˆ°(7,2)ï¼Œä»¥(2.1,3.1)ä¸ºåœ†å¿ƒï¼Œä»¥0.1414ä¸ºåŠå¾„çš„åœ†æ›´ä¸ä¼šä¸x = 7è¶…å¹³é¢äº¤å‰²ï¼Œå› æ­¤ä¸ç”¨è¿›å…¥(7,2)å³å­ç©ºé—´(å›¾ä¸­çº¢è‰²åŒºåŸŸ)è¿›è¡ŒæŸ¥æ‰¾ã€‚è‡³æ­¤ï¼Œæœç´¢è·¯å¾„ä¸­çš„èŠ‚ç‚¹å·²ç»å…¨éƒ¨å›æº¯å®Œï¼Œç»“æŸæ•´ä¸ªæœç´¢ï¼Œè¿”å›æœ€è¿‘é‚»ç‚¹(2,3)ï¼Œæœ€è¿‘è·ç¦»ä¸º0.1414ã€‚","raw":null,"content":null,"categories":[],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://hareric.com/tags/%E7%AE%97%E6%B3%95/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://hareric.com/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}]},{"title":"å†³ç­–æ ‘ä¹‹ç‰¹å¾é€‰æ‹©---ä¿¡æ¯å¢ç›Š","slug":"å†³ç­–æ ‘ä¹‹ç‰¹å¾é€‰æ‹©---ä¿¡æ¯å¢ç›Š","date":"2016-05-18T18:33:51.000Z","updated":"2021-05-22T08:01:05.401Z","comments":true,"path":"2016/05/19/å†³ç­–æ ‘ä¹‹ç‰¹å¾é€‰æ‹©---ä¿¡æ¯å¢ç›Š/","link":"","permalink":"https://hareric.com/2016/05/19/%E5%86%B3%E7%AD%96%E6%A0%91%E4%B9%8B%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9---%E4%BF%A1%E6%81%AF%E5%A2%9E%E7%9B%8A/","excerpt":"ã€€ã€€åŸºäºä¿¡æ¯å¢ç›Šçš„ç‰¹å¾é€‰å–æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨åœ¨å†³ç­–æ ‘(decision tree)åˆ†ç±»ç®—æ³•ä¸­ç”¨åˆ°çš„ç‰¹å¾é€‰å–ã€‚è¯¥ç‰¹å¾é€‰æ‹©çš„æ–¹æ³•æ˜¯é€šè¿‡è®¡ç®—æ¯ä¸ªç‰¹å¾å€¼åˆ’åˆ†æ•°æ®é›†è·å¾—ä¿¡æ¯å¢ç›Šï¼Œé€šè¿‡æ¯”è¾ƒä¿¡æ¯å¢ç›Šçš„å¤§å°é€‰å–åˆé€‚çš„ç‰¹å¾å€¼ã€‚","text":"åŸºäºä¿¡æ¯å¢ç›Šçš„ç‰¹å¾é€‰å–æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨åœ¨å†³ç­–æ ‘(decision tree)åˆ†ç±»ç®—æ³•ä¸­ç”¨åˆ°çš„ç‰¹å¾é€‰å–ã€‚è¯¥ç‰¹å¾é€‰æ‹©çš„æ–¹æ³•æ˜¯é€šè¿‡è®¡ç®—æ¯ä¸ªç‰¹å¾å€¼åˆ’åˆ†æ•°æ®é›†è·å¾—ä¿¡æ¯å¢ç›Šï¼Œé€šè¿‡æ¯”è¾ƒä¿¡æ¯å¢ç›Šçš„å¤§å°é€‰å–åˆé€‚çš„ç‰¹å¾å€¼ã€‚ ä¸€ã€å®šä¹‰1.1 ç†µ ä¿¡æ¯çš„æœŸæœ›å€¼ï¼Œå¯ç†è§£ä¸ºæ•°æ®é›†çš„æ— åºåº¦ï¼Œç†µçš„å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºæ•°æ®è¶Šæ— åºï¼Œå…¬å¼å¦‚ä¸‹ï¼š å…¶ä¸­Hè¡¨ç¤ºè¯¥æ•°æ®é›†çš„ç†µå€¼ï¼Œ piè¡¨ç¤ºç±»åˆ«içš„æ¦‚ç‡ï¼Œ è‹¥æ‰€æœ‰æ•°æ®é›†åªæœ‰ä¸€ä¸ªç±»åˆ«ï¼Œé‚£ä¹ˆpi=1ï¼ŒH=0ã€‚å› æ­¤H=0ä¸ºç†µçš„æœ€å°å€¼ï¼Œè¡¨ç¤ºè¯¥æ•°æ®é›†å®Œå…¨æœ‰åºã€‚ 1.2 ä¿¡æ¯å¢ç›Š ç†µçš„å‡å°‘æˆ–è€…æ˜¯æ•°æ®æ— åºåº¦çš„å‡å°‘ã€‚ äºŒã€æµç¨‹1ã€è®¡ç®—åŸå§‹æ•°æ®çš„ä¿¡æ¯ç†µH12ã€é€‰å–ä¸€ä¸ªç‰¹å¾ï¼Œæ ¹æ®ç‰¹å¾å€¼å¯¹æ•°æ®è¿›è¡Œåˆ†ç±»ï¼Œå†å¯¹æ¯ä¸ªç±»åˆ«åˆ†åˆ«è®¡ç®—ä¿¡æ¯ç†µï¼ŒæŒ‰æ¯”ä¾‹æ±‚å’Œï¼Œå¾—å‡ºè¿™ç§åˆ’åˆ†æ–¹å¼çš„ä¿¡æ¯ç†µH23ã€è®¡ç®—ä¿¡æ¯å¢ç›Šï¼š infoGain = H1 - H24ã€æ ¹æ®2ï¼Œ3è®¡ç®—æ‰€æœ‰ç‰¹å¾å±æ€§å¯¹åº”çš„ä¿¡æ¯å¢ç›Šï¼Œä¿ç•™ä¿¡æ¯å¢ç›Šè¾ƒå¤§çš„ç‰¹å¾å±æ€§ã€‚ ä¸‰ã€å®ä¾‹æµ·æ´‹ç”Ÿç‰©æ•°æ® è¢«åˆ†ç±»é¡¹\\ç‰¹å¾ ä¸æµ®å‡ºæ°´é¢æ˜¯å¦å¯ä»¥ç”Ÿå­˜ æ˜¯å¦æœ‰è„šè¹¼ å±äºé±¼ç±» 1 æ˜¯ æ˜¯ æ˜¯ 2 æ˜¯ æ˜¯ æ˜¯ 3 æ˜¯ å¦ å¦ 4 å¦ æ˜¯ å¦ 5 å¦ æ˜¯ å¦ 3.1 åŸå§‹æ•°æ®ä¿¡æ¯ç†µp(æ˜¯é±¼ç±») = p1 =0.4p(éé±¼ç±») = p2 =0.6é€šè¿‡ä¿¡æ¯ç†µå…¬å¼å¯å¾—åŸå§‹æ•°æ®ä¿¡æ¯ç†µ H1 = 0.97095 3.2 æ ¹æ®ç‰¹å¾åˆ†ç±»è®¡ç®—ä¿¡æ¯ç†µé€‰æ‹©â€™ä¸æœå‡ºæ°´é¢æ˜¯å¦å¯ä»¥ç”Ÿå­˜â€™ä½œä¸ºåˆ†æçš„ç‰¹å¾å±æ€§å¯å°†æ•°æ®é›†åˆ†ä¸º[1,2,3]ä¸[4,5]ï¼Œåˆ†åˆ«å 0.6å’Œ0.4ã€‚[1,2,3]å¯è®¡ç®—è¯¥ç±»æ•°æ®ä¿¡æ¯ç†µä¸º h1=0.918295834054[4,5] å¯è®¡ç®—è¯¥ç±»æ•°æ®ä¿¡æ¯ç†µä¸º h2=0è®¡ç®—åˆ’åˆ†åçš„ä¿¡æ¯ç†µ H2 = 0.6 * h1 + 0.4 * h2 = 0.550977500433 3.3 è®¡ç®—ä¿¡æ¯å¢ç›ŠinfoGain_0 = H1-H2 = 0.419973094022 3.4 ç‰¹å¾é€‰æ‹©åŒç†å¯å¾—å¯¹ç‰¹å¾â€™æ˜¯å¦æœ‰è„šè¹¼â€™è¯¥ç‰¹å¾è®¡ç®—ä¿¡æ¯å¢ç›Š infoGain_1 = 0.170950594455æ¯”è¾ƒå¯å¾—ï¼Œâ€™ä¸æœå‡ºæ°´é¢æ˜¯å¦å¯ä»¥ç”Ÿå­˜â€™æ‰€å¾—çš„ä¿¡æ¯å¢ç›Šæ›´å¤§ï¼Œå› æ­¤åœ¨è¯¥å®ä¾‹ä¸­ï¼Œè¯¥ç‰¹å¾æ˜¯æœ€å¥½ç”¨äºåˆ’åˆ†æ•°æ®é›†çš„ç‰¹å¾ å››ã€ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576# coding=utf-8import numpy as npfrom math import logdata_feature_matrix = np.array([[1, 1], [1, 1], [1, 0], [0, 1], [0, 1]]) # ç‰¹å¾çŸ©é˜µcategory = [&#x27;yes&#x27;, &#x27;yes&#x27;, &#x27;no&#x27;, &#x27;no&#x27;, &#x27;no&#x27;] # 5ä¸ªå¯¹è±¡åˆ†åˆ«æ‰€å±çš„ç±»åˆ«def calc_shannon_ent(category_list): &quot;&quot;&quot; :param category_list: ç±»åˆ«åˆ—è¡¨ :return: è¯¥ç±»åˆ«åˆ—è¡¨çš„ç†µå€¼ &quot;&quot;&quot; label_count = &#123;&#125; # ç»Ÿè®¡æ•°æ®é›†ä¸­æ¯ä¸ªç±»åˆ«çš„ä¸ªæ•° num = len(category_list) # æ•°æ®é›†ä¸ªæ•° for i in range(num): try: label_count[category_list[i]] += 1 except KeyError: label_count[category_list[i]] = 1 shannon_ent = 0. for k in label_count: prob = float(label_count[k]) / num shannon_ent -= prob * log(prob, 2) # è®¡ç®—ä¿¡æ¯ç†µ return shannon_entdef split_data(feature_matrix, category_list, feature_index, value): &quot;&quot;&quot; ç­›é€‰å‡ºæŒ‡å®šç‰¹å¾å€¼æ‰€å¯¹åº”çš„ç±»åˆ«åˆ—è¡¨ :param category_list: ç±»åˆ«åˆ—è¡¨ :param feature_matrix: ç‰¹å¾çŸ©é˜µ :param feature_index: æŒ‡å®šç‰¹å¾ç´¢å¼• :param value: æŒ‡å®šç‰¹å¾å±æ€§çš„ç‰¹å¾å€¼ :return: ç¬¦åˆæŒ‡å®šç‰¹å¾å±æ€§çš„ç‰¹å¾å€¼çš„ç±»åˆ«åˆ—è¡¨ &quot;&quot;&quot; # feature_matrix = np.array(feature_matrix) ret_index = np.where(feature_matrix[:, feature_index] == value)[0] # è·å–ç¬¦åˆæŒ‡å®šç‰¹å¾å€¼çš„ç´¢å¼• ret_category_list = [category_list[i] for i in ret_index] # æ ¹æ®ç´¢å¼•å–å¾—æŒ‡å®šçš„æ‰€å±ç±»åˆ«ï¼Œæ„å»ºä¸ºåˆ—è¡¨ return ret_category_listdef choose_best_feature(feature_matrix, category_list): &quot;&quot;&quot; æ ¹æ®ä¿¡æ¯å¢ç›Šè·å–æœ€ä¼˜ç‰¹å¾ :param feature_matrix: ç‰¹å¾çŸ©é˜µ :param category_list: ç±»åˆ«åˆ—è¡¨ :return: æœ€ä¼˜ç‰¹å¾å¯¹åº”çš„ç´¢å¼• &quot;&quot;&quot; feature_num = len(feature_matrix[0]) # ç‰¹å¾ä¸ªæ•° data_num = len(category_list) # æ•°æ®é›†çš„ä¸ªæ•° base_shannon_ent = calc_shannon_ent(category_list=category_list) # åŸå§‹æ•°æ®çš„ä¿¡æ¯ç†µ best_info_gain = 0 # æœ€ä¼˜ä¿¡æ¯å¢ç›Š best_feature_index = -1 # æœ€ä¼˜ç‰¹å¾å¯¹åº”çš„ç´¢å¼• for f in range(feature_num): uni_value_list = set(feature_matrix[:, f]) # è¯¥ç‰¹å¾å±æ€§æ‰€åŒ…å«çš„ç‰¹å¾å€¼ new_shannon_ent = 0. for value in uni_value_list: sub_cate_list = split_data(feature_matrix=feature_matrix, category_list=category_list, feature_index=f, value=value) prob = float(len(sub_cate_list)) / data_num new_shannon_ent += prob * calc_shannon_ent(sub_cate_list) info_gain = base_shannon_ent - new_shannon_ent # ä¿¡æ¯å¢ç›Š print &#x27;åˆå§‹ä¿¡æ¯ç†µä¸ºï¼š&#x27;, base_shannon_ent, &#x27;æŒ‰ç…§ç‰¹å¾%iåˆ†ç±»åçš„ä¿¡æ¯ç†µä¸ºï¼š&#x27; % f, new_shannon_ent, &#x27;ä¿¡æ¯å¢ç›Šä¸ºï¼š&#x27;, info_gain if info_gain &gt; best_info_gain: best_info_gain = info_gain best_feature_index = f return best_feature_indexif __name__ == &#x27;__main__&#x27;: best_feature = choose_best_feature(data_feature_matrix, category) print &#x27;æœ€å¥½ç”¨äºåˆ’åˆ†æ•°æ®é›†çš„ç‰¹å¾ä¸ºï¼š&#x27;, best_feature","raw":null,"content":null,"categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://hareric.com/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"ç‰¹å¾é€‰æ‹©","slug":"ç‰¹å¾é€‰æ‹©","permalink":"https://hareric.com/tags/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/"}]},{"title":"k-è¿‘é‚»ç®—æ³•(K Nearest Neighbor)","slug":"k-è¿‘é‚»ç®—æ³•(K Nearest Neighbor)","date":"2016-04-28T20:01:05.000Z","updated":"2021-05-22T08:01:05.400Z","comments":true,"path":"2016/04/29/k-è¿‘é‚»ç®—æ³•(K Nearest Neighbor)/","link":"","permalink":"https://hareric.com/2016/04/29/k-%E8%BF%91%E9%82%BB%E7%AE%97%E6%B3%95(K%20Nearest%20Neighbor)/","excerpt":"å·¥ä½œåŸç†ã€€ã€€å­˜åœ¨ä¸€ä»½è®­ç»ƒæ ·æœ¬é›†ï¼Œå¹¶ä¸”æ¯ä¸ªæ ·æœ¬éƒ½æœ‰å±äºè‡ªå·±çš„æ ‡ç­¾ï¼Œå³æˆ‘ä»¬çŸ¥é“æ¯ä¸ªæ ·æœ¬é›†ä¸­æ‰€å±äºçš„ç±»åˆ«ã€‚è¾“å…¥æ²¡æœ‰æ ‡ç­¾çš„æ–°æ•°æ®åï¼Œå°†æ–°æ•°æ®çš„æ¯ä¸ªç‰¹å¾ä¸æ ·æœ¬é›†ä¸­æ•°æ®å¯¹åº”çš„ç‰¹å¾è¿›è¡Œæ¯”è¾ƒï¼Œç„¶åæå–æ ·æœ¬é›†ä¸­ä¸ä¹‹æœ€ç›¸è¿‘çš„kä¸ªæ ·æœ¬ã€‚è§‚å¯Ÿå¹¶ç»Ÿè®¡è¿™kä¸ªæ ·æœ¬çš„æ ‡ç­¾ï¼Œé€‰æ‹©æ•°é‡æœ€å¤§çš„æ ‡ç­¾ä½œä¸ºè¿™ä¸ªæ–°æ•°æ®çš„æ ‡ç­¾ã€‚","text":"å·¥ä½œåŸç† å­˜åœ¨ä¸€ä»½è®­ç»ƒæ ·æœ¬é›†ï¼Œå¹¶ä¸”æ¯ä¸ªæ ·æœ¬éƒ½æœ‰å±äºè‡ªå·±çš„æ ‡ç­¾ï¼Œå³æˆ‘ä»¬çŸ¥é“æ¯ä¸ªæ ·æœ¬é›†ä¸­æ‰€å±äºçš„ç±»åˆ«ã€‚è¾“å…¥æ²¡æœ‰æ ‡ç­¾çš„æ–°æ•°æ®åï¼Œå°†æ–°æ•°æ®çš„æ¯ä¸ªç‰¹å¾ä¸æ ·æœ¬é›†ä¸­æ•°æ®å¯¹åº”çš„ç‰¹å¾è¿›è¡Œæ¯”è¾ƒï¼Œç„¶åæå–æ ·æœ¬é›†ä¸­ä¸ä¹‹æœ€ç›¸è¿‘çš„kä¸ªæ ·æœ¬ã€‚è§‚å¯Ÿå¹¶ç»Ÿè®¡è¿™kä¸ªæ ·æœ¬çš„æ ‡ç­¾ï¼Œé€‰æ‹©æ•°é‡æœ€å¤§çš„æ ‡ç­¾ä½œä¸ºè¿™ä¸ªæ–°æ•°æ®çš„æ ‡ç­¾ã€‚ ç”¨ä»¥ä¸‹è¿™å¹…å›¾å¯ä»¥å¾ˆå¥½çš„è§£é‡ŠkNNç®—æ³•ï¼š ä¸åŒå½¢çŠ¶çš„ç‚¹ï¼Œä¸ºä¸åŒæ ‡ç­¾çš„ç‚¹ã€‚å…¶ä¸­ç»¿è‰²ç‚¹ä¸ºæœªçŸ¥æ ‡ç­¾çš„æ•°æ®ç‚¹ã€‚ç°åœ¨è¦å¯¹ç»¿è‰²ç‚¹è¿›è¡Œé¢„æµ‹ã€‚ç”±å›¾ä¸éš¾å¾—å‡ºï¼š å¦‚æœk=3ï¼Œé‚£ä¹ˆç¦»ç»¿è‰²ç‚¹æœ€è¿‘çš„æœ‰2ä¸ªçº¢è‰²ä¸‰è§’å½¢å’Œ1ä¸ªè“è‰²çš„æ­£æ–¹å½¢ï¼Œè¿™3ä¸ªç‚¹æŠ•ç¥¨ï¼Œäºæ˜¯ç»¿è‰²çš„è¿™ä¸ªå¾…åˆ†ç±»ç‚¹å±äºçº¢è‰²çš„ä¸‰è§’å½¢ã€‚ å¦‚æœk=5ï¼Œé‚£ä¹ˆç¦»ç»¿è‰²ç‚¹æœ€è¿‘çš„æœ‰2ä¸ªçº¢è‰²ä¸‰è§’å½¢å’Œ3ä¸ªè“è‰²çš„æ­£æ–¹å½¢ï¼Œè¿™5ä¸ªç‚¹æŠ•ç¥¨ï¼Œäºæ˜¯ç»¿è‰²çš„è¿™ä¸ªå¾…åˆ†ç±»ç‚¹å±äºè“è‰²çš„æ­£æ–¹å½¢ã€‚ kNNç®—æ³•å®æ–½ä¼ªä»£ç å¯¹æœªçŸ¥å±æ€§çš„æ•°æ®é›†ä¸­çš„æ¯ä¸ªç‚¹æ‰§è¡Œä»¥ä¸‹æ“ä½œ è®¡ç®—å·²çŸ¥ç±»å‹ç±»åˆ«æ•°æ®é›†ä¸­çš„ç‚¹ä¸å½“å‰ç‚¹ä¹‹é—´çš„è·ç¦» æŒ‰ç…§è·ç¦»é€’å¢æ¬¡åºæ’åº é€‰å–ä¸å½“å‰ç‚¹è·ç¦»æœ€å°çš„kä¸ªç‚¹ ç¡®å®šå‰kä¸ªç‚¹æ‰€åœ¨ç±»åˆ«çš„å‡ºç°é¢‘ç‡ è¿”å›å‰kä¸ªç‚¹å‡ºç°é¢‘ç‡æœ€é«˜çš„ç±»åˆ«ä½œä¸ºå½“å‰ç‚¹çš„é¢„æµ‹åˆ†ç±» æ¬§å¼è·ç¦»(è®¡ç®—ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»å…¬å¼)è®¡ç®—ç‚¹xä¸ç‚¹yä¹‹é—´æ¬§å¼è·ç¦» pythonä»£ç å®ç°123456789101112131415161718192021222324252627282930313233343536373839import numpy as npimport operator# è®­ç»ƒé›†data_set = np.array([[1., 1.1], [1.0, 1.0], [0., 0.], [0, 0.1]])labels = [&#x27;A&#x27;, &#x27;A&#x27;, &#x27;B&#x27;, &#x27;B&#x27;]def classify_knn(in_vector, training_data, training_label, k): &quot;&quot;&quot; :param in_vector: å¾…åˆ†ç±»å‘é‡ :param training_data: è®­ç»ƒé›†å‘é‡ :param training_label: è®­ç»ƒé›†æ ‡ç­¾ :param k: é€‰æ‹©æœ€è¿‘é‚»å±…çš„æ•°ç›® :return: åˆ†ç±»å™¨å¯¹ in_vector åˆ†ç±»çš„ç±»åˆ« &quot;&quot;&quot; data_size = training_data.shape[0] # .shape[0] è¿”å›äºŒç»´æ•°ç»„çš„è¡Œæ•° diff_mat = np.tile(in_vector, (data_size, 1)) - data_set # np.tile(array, (3, 2)) å¯¹ array è¿›è¡Œ 3Ã—2 æ‰©å±•ä¸ºäºŒç»´æ•°ç»„ sq_diff_mat = diff_mat ** 2 sq_distances = sq_diff_mat.sum(axis=1) # .sum(axis=1) çŸ©é˜µä»¥åˆ—æ±‚å’Œ # distances = sq_distances ** 0.5 # ä¸»è¦æ˜¯é€šè¿‡æ¯”è¾ƒæ±‚æœ€è¿‘ç‚¹,æ‰€ä»¥æ²¡æœ‰å¿…è¦æ±‚å¹³æ–¹æ ¹ distances_sorted_index = sq_distances.argsort() # .argsort() å¯¹arrayè¿›è¡Œæ’åº è¿”å›æ’åºåå¯¹åº”çš„ç´¢å¼• class_count_dict = &#123;&#125; # ç”¨äºç»Ÿè®¡ç±»åˆ«çš„ä¸ªæ•° for i in range(k): label = training_label[distances_sorted_index[i]] try: class_count_dict[label] += 1 except KeyError: class_count_dict[label] = 1 class_count_dict = sorted(class_count_dict.iteritems(), key=operator.itemgetter(1), reverse=True) # æ ¹æ®å­—å…¸çš„valueå€¼å¯¹å­—å…¸è¿›è¡Œé€†åºæ’åº return class_count_dict[0][0]if __name__ == &#x27;__main__&#x27;: vector = [0, 0] # å¾…åˆ†ç±»æ•°æ®é›† print classify_knn(in_vector=vector, training_data=data_set, training_label=labels, k=3) ç®—æ³•è¯„ä»· ä¼˜ç‚¹ï¼šç²¾åº¦é«˜ã€å¯¹å¼‚å¸¸å€¼ä¸æ•æ„Ÿã€æ— æ•°æ®è¾“å…¥å‡å®š ç¼ºç‚¹ï¼šè®¡ç®—å¤æ‚åº¦é«˜ã€ç©ºé—´å¤æ‚åº¦é«˜ ä½¿ç”¨æ•°æ®èŒƒå›´ï¼šæ•°æ®å‹å’Œæ ‡ç§°å‹ é€‚ç”¨ï¼škNNæ–¹æ³•é€šå¸¸ç”¨äºä¸€ä¸ªæ›´å¤æ‚åˆ†ç±»ç®—æ³•çš„ä¸€éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒçš„ä¼°è®¡å€¼åšä¸ºä¸€ä¸ªå¯¹è±¡çš„ç‰¹å¾ã€‚æœ‰æ—¶å€™ï¼Œä¸€ä¸ªç®€å•çš„kNNç®—æ³•åœ¨è‰¯å¥½é€‰æ‹©çš„ç‰¹å¾ä¸Šä¼šæœ‰å¾ˆå‡ºè‰²çš„è¡¨ç°ã€‚","raw":null,"content":null,"categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://hareric.com/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}]},{"title":"æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ï¼ˆNaive Bayes classifier)","slug":"æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨","date":"2016-04-23T10:54:28.000Z","updated":"2021-05-22T08:01:05.401Z","comments":true,"path":"2016/04/23/æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨/","link":"","permalink":"https://hareric.com/2016/04/23/%E6%9C%B4%E7%B4%A0%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%88%86%E7%B1%BB%E5%99%A8/","excerpt":"ã€€ã€€æœ´ç´ è´å¶æ–¯æ˜¯ä¸€ç§æ„å»ºåˆ†ç±»å™¨çš„ç®€å•æ–¹æ³•ã€‚è¯¥åˆ†ç±»å™¨æ¨¡å‹ä¼šç»™é—®é¢˜å®ä¾‹åˆ†é…ç”¨ç‰¹å¾å€¼è¡¨ç¤ºçš„ç±»æ ‡ç­¾ï¼Œç±»æ ‡ç­¾å–è‡ªæœ‰é™é›†åˆã€‚å®ƒä¸æ˜¯è®­ç»ƒè¿™ç§åˆ†ç±»å™¨çš„å•ä¸€ç®—æ³•ï¼Œè€Œæ˜¯ä¸€ç³»åˆ—åŸºäºç›¸åŒåŸç†çš„ç®—æ³•ï¼šæ‰€æœ‰æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨éƒ½å‡å®šæ ·æœ¬æ¯ä¸ªç‰¹å¾ä¸å…¶ä»–ç‰¹å¾éƒ½ä¸ç›¸å…³ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€ç§æ°´æœå…¶å…·æœ‰çº¢ï¼Œåœ†ï¼Œç›´å¾„å¤§æ¦‚3è‹±å¯¸ç­‰ç‰¹å¾ï¼Œè¯¥æ°´æœå¯ä»¥è¢«åˆ¤å®šä¸ºæ˜¯è‹¹æœã€‚å°½ç®¡è¿™äº›ç‰¹å¾ç›¸äº’ä¾èµ–æˆ–è€…æœ‰äº›ç‰¹å¾ç”±å…¶ä»–ç‰¹å¾å†³å®šï¼Œç„¶è€Œæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨è®¤ä¸ºè¿™äº›å±æ€§åœ¨åˆ¤å®šè¯¥æ°´æœæ˜¯å¦ä¸ºè‹¹æœçš„æ¦‚ç‡åˆ†å¸ƒä¸Šç‹¬ç«‹çš„ã€‚","text":"æœ´ç´ è´å¶æ–¯æ˜¯ä¸€ç§æ„å»ºåˆ†ç±»å™¨çš„ç®€å•æ–¹æ³•ã€‚è¯¥åˆ†ç±»å™¨æ¨¡å‹ä¼šç»™é—®é¢˜å®ä¾‹åˆ†é…ç”¨ç‰¹å¾å€¼è¡¨ç¤ºçš„ç±»æ ‡ç­¾ï¼Œç±»æ ‡ç­¾å–è‡ªæœ‰é™é›†åˆã€‚å®ƒä¸æ˜¯è®­ç»ƒè¿™ç§åˆ†ç±»å™¨çš„å•ä¸€ç®—æ³•ï¼Œè€Œæ˜¯ä¸€ç³»åˆ—åŸºäºç›¸åŒåŸç†çš„ç®—æ³•ï¼šæ‰€æœ‰æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨éƒ½å‡å®šæ ·æœ¬æ¯ä¸ªç‰¹å¾ä¸å…¶ä»–ç‰¹å¾éƒ½ä¸ç›¸å…³ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€ç§æ°´æœå…¶å…·æœ‰çº¢ï¼Œåœ†ï¼Œç›´å¾„å¤§æ¦‚3è‹±å¯¸ç­‰ç‰¹å¾ï¼Œè¯¥æ°´æœå¯ä»¥è¢«åˆ¤å®šä¸ºæ˜¯è‹¹æœã€‚å°½ç®¡è¿™äº›ç‰¹å¾ç›¸äº’ä¾èµ–æˆ–è€…æœ‰äº›ç‰¹å¾ç”±å…¶ä»–ç‰¹å¾å†³å®šï¼Œç„¶è€Œæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨è®¤ä¸ºè¿™äº›å±æ€§åœ¨åˆ¤å®šè¯¥æ°´æœæ˜¯å¦ä¸ºè‹¹æœçš„æ¦‚ç‡åˆ†å¸ƒä¸Šç‹¬ç«‹çš„ã€‚ ä¸€ã€æœ´ç´ è´å¶æ–¯åˆ†ç±»çš„åŸºæœ¬åŸç† ç»™å®šçš„å¾…åˆ†ç±»é¡¹çš„ç‰¹å¾å±æ€§ï¼Œè®¡ç®—è¯¥é¡¹åœ¨å„ä¸ªç±»åˆ«å‡ºç°çš„æ¦‚ç‡ï¼Œå–æœ€å¤§çš„æ¦‚ç‡ç±»åˆ«ä½œä¸ºé¢„æµ‹é¡¹ã€‚ äºŒã€è´å¶æ–¯å®šç† æ ¹æ®æ¡ä»¶æ¦‚ç‡çš„å®šä¹‰ã€‚åœ¨äº‹ä»¶Bå‘ç”Ÿçš„æ¡ä»¶ä¸‹äº‹ä»¶Aå‘ç”Ÿçš„æ¦‚ç‡æ˜¯: åŒæ ·åœ°ï¼Œåœ¨äº‹ä»¶Aå‘ç”Ÿçš„æ¡ä»¶ä¸‹äº‹ä»¶Bå‘ç”Ÿçš„æ¦‚ç‡: æ•´ç†ä¸åˆå¹¶è¿™ä¸¤ä¸ªæ–¹ç¨‹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°: è¿™ä¸ªå¼•ç†æœ‰æ—¶ç§°ä½œæ¦‚ç‡ä¹˜æ³•è§„åˆ™ã€‚ä¸Šå¼ä¸¤è¾¹åŒé™¤ä»¥P(A)ï¼Œè‹¥P(A)æ˜¯éé›¶çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è´å¶æ–¯å®šç†: ä¸‰ã€è´å¶æ–¯å®šç†çš„å˜å¼åº”ç”¨ ç°æœ‰ä¸€ä¸ªå¾…åˆ†ç±»é¡¹xï¼Œæ‹¥æœ‰nä¸ªç‰¹å¾ï¼Œå½’äºç±»åˆ«cçš„æ¦‚ç‡å¯è¡¨ç¤ºä¸ºï¼š ä½¿ç”¨è´å¶æ–¯å®šç†å¯å˜å¼ä¸º: ç”±äºåœ¨è®¡ç®—å…¶ä»–ç±»åˆ«çš„æ¦‚ç‡æ—¶ï¼Œå‡ä¼šé™¤ä»¥ï¼Œå¹¶ä¸å½±å“æœ€åç»“æœçš„åˆ¤æ–­é¢„æµ‹ï¼Œå› æ­¤å¯çœç•¥ï¼Œå³: å˜å¼å: ä¾‹ï¼š ç°ç»™å‡º10ä¸ªè¢«åˆ†ç±»é¡¹çš„ç‰¹å¾å’Œå·²ç¡®å®šçš„ç±»åˆ«ï¼Œç”¨æ¥è®­ç»ƒè¯¥åˆ†ç±»å™¨ã€‚ è¢«åˆ†ç±»é¡¹\\ç‰¹å¾ F1 F2 F3 F4 F5 F6 ç±»åˆ« U1 1 0 1 0 1 0 a U2 1 1 0 1 0 0 a U3 1 0 0 1 1 1 b U4 0 0 1 0 1 1 a U5 1 0 0 1 1 0 c U6 1 1 1 1 1 0 b U7 1 1 1 0 1 1 a U8 1 0 1 0 1 0 c U9 0 1 0 0 1 0 c U10 0 1 1 0 1 0 a ç”±ä¸Šç¤ºè¡¨æ ¼å¯è®¡ç®—å‡º P(F1|c)=0.66 ; P(F5|a)=0.8 ; P(F3|b)=0.5 ; P(c)=0.3â€¦ç°ç»™å‡º U11 é¡¹çš„ç‰¹å¾ï¼Œè¿›è¡Œé¢„æµ‹æ¨æ–­è¯¥é¡¹åº”å±äºa,b,cä¸­çš„å“ªä¸€ç±» è¢«åˆ†ç±»é¡¹\\ç‰¹å¾ F1 F2 F3 F4 F5 F6 ç±»åˆ« U11 0 0 1 0 1 0 æœªçŸ¥ ç”±è¡¨æ ¼å¯å¾—çŸ¥ï¼šè¢«åˆ†ç±»é¡¹ U11 æ‹¥æœ‰ç‰¹å¾F3å’ŒF5 é¢„æµ‹åˆ†åˆ°ç±»åˆ«açš„æ¦‚ç‡: é¢„æµ‹åˆ†åˆ°ç±»åˆ«bçš„æ¦‚ç‡: é¢„æµ‹åˆ†åˆ°ç±»åˆ«cçš„æ¦‚ç‡: å› æ­¤å¯é¢„æµ‹è¯¥é¡¹åº”åˆ†è‡³ç±»åˆ«a å››ã€è´å¶æ–¯åˆ†ç±»è¿ç”¨äºæ–‡æœ¬åˆ†ç±»ä¸­å®ä¾‹:å¯¹é‚®ä»¶è¿›è¡Œåƒåœ¾é‚®ä»¶å’Œæ­£å¸¸é‚®ä»¶çš„åˆ†ç±»åŸºæœ¬æ€è·¯ï¼š1.å°†é‚®ä»¶ä¸­çš„æ–‡æœ¬çš„æ¯ä¸€ä¸ªè¯éƒ½ä½œä¸ºç‰¹å¾ï¼Œæ˜¯å¦å­˜åœ¨è¿™ä¸ªè¯å¯è§†ä¸ºè¯¥é‚®ä»¶æ˜¯å¦å­˜åœ¨è¿™ä¸ªç‰¹å¾ã€‚2.é¦–å…ˆç»™å‡ºäº†å·²äººå·¥åˆ’åˆ†å¥½çš„é‚®ä»¶ä½œä¸ºè®­ç»ƒé›†ï¼Œåˆ›å»ºå…³äºé‚®ä»¶çš„å®Œæ•´è¯åº“ã€‚3.å¯¹æ¯æ¡é‚®ä»¶éƒ½åˆ›å»ºå…³äºè¯åº“çš„å‘é‡ï¼Œé‚®ä»¶è‹¥å­˜åœ¨æŸè¯è¯­åˆ™ä¸º1ï¼Œä¸å­˜åœ¨åˆ™ä¸º0.4.åˆ›å»ºå¦‚ä¸‹å›¾çš„å‘é‡è¡¨ã€‚ ability ad after basket battle behind â€¦ zero zebu zest zoom æ˜¯å¦ä¸ºåƒåœ¾é‚®ä»¶ Email01 1 0 1 0 1 1 0 1 1 1 1 Email02 0 0 0 0 1 0 1 0 1 1 0 Email03 1 1 1 1 0 1 1 1 0 1 0 Email04 0 0 0 0 1 0 0 0 0 0 1 Email05 1 1 0 1 1 1 1 0 0 1 1 Email06 0 0 1 0 0 0 0 0 1 0 0 Email07 0 1 0 1 1 1 1 0 0 0 1 Email08 0 1 1 1 0 0 0 1 1 1 1 Email09 1 1 1 1 1 1 1 0 0 1 0 Email10 0 0 0 0 0 0 0 1 0 0 1 â€¦ Email n 0 0 1 0 1 0 0 1 0 0 1 5ã€å¾…åˆ†ç±»çš„é‚®ä»¶åˆ™å¯ä»¥åˆ©ç”¨ä¸Šå›¾è¡¨ä½¿ç”¨è´å¶æ–¯å®šç†ï¼Œè®¡ç®—å‡ºå½’äºåƒåœ¾é‚®ä»¶å’Œæ­£å¸¸é‚®ä»¶çš„æ¦‚ç‡ï¼Œå¹¶è¿›è¡Œé¢„æµ‹ã€‚ ä»£ç å®ä¾‹ï¼‘ï¼é¦–å…ˆè¯»å…¥æ•°æ®é›† spam æ–‡ä»¶å¤¹ä¸­çš„åƒåœ¾é‚®ä»¶å’Œ ham æ–‡ä»¶å¤¹ä¸­çš„æ­£å¸¸é‚®ä»¶ï¼Œå¹¶å¯¹å®ƒè¿›è¡Œè§£ç ã€åˆ†è¯å¤„ç†å’Œå°å†™å¤„ç†ï¼Œæœ€ååˆå¹¶æˆä¸€ä¸ªåˆ—è¡¨ã€‚ 12345678910111213141516171819202122def loadDataSet(): #å¯¼å…¥åƒåœ¾é‚®ä»¶å’Œæ­£å¸¸é‚®ä»¶ä½œä¸ºè®­ç»ƒé›† test_list = [] for i in range(21)[1:]: file1 = open(r&#x27;spam/%s.txt&#x27;%i) text = file1.read() code = chardet.detect(text)[&#x27;encoding&#x27;] text = text.decode(code).lower() words = nltk.word_tokenize(text) test_list.append(words) file1.close() for i in range(21)[1:]: file1 = open(r&#x27;ham/%s.txt&#x27;%i) text = file1.read() code = chardet.detect(text)[&#x27;encoding&#x27;] text = text.decode(code).lower() words = nltk.word_tokenize(text) test_list.append(words) file1.close() classVec = [1 for i in range(20)] classVec.extend([0 for j in range(20)])#1 ä»£è¡¨åƒåœ¾é‚®ä»¶ 0ä»£è¡¨æ™®é€šé‚®ä»¶ return test_list,classVec 2ã€åˆ©ç”¨setç±»å‹æ“ä½œï¼Œå¯¹åˆ—è¡¨è¿›è¡Œå¤„ç†ï¼Œåˆ é™¤é‡å¤å•è¯ï¼Œæœ€ååˆå¹¶æˆä¸€ä¸ªè¯åº“12345def createVocabList(dataSet):#åˆ›å»ºè¯åº“ vocabSet = set([]) for i in dataSet: vocabSet = vocabSet | set(i) #å–å¹¶é›†ï¼Œæ¶ˆé™¤é‡å¤é›† return list(vocabSet) 3ã€å¯¹å•æ¡é‚®ä»¶åˆ›å»ºå‘é‡ 123456789def createVector(unit,vocabList): vector = [0]*len(vocabList) for i in unit: if i in vocabList: vector[vocabList.index(i)] = 1 else: print &quot;the word %s is not in my vocabList&quot;%i continue return vector 4ã€åˆ©ç”¨å·²åˆ†å¥½ç±»å‹çš„é‚®ä»¶æ•°å¯¹è´å¶æ–¯åˆ†ç±»å™¨è¿›è¡Œè®­ç»ƒã€‚è®­ç»ƒç»“æŸåèƒ½å¤Ÿå¾—åˆ°ï¼šæ­£å¸¸é‚®ä»¶ä¸­å’Œåƒåœ¾é‚®ä»¶è¯åº“ä¸­æ¯ä¸ªè¯å‡ºç°çš„æ¦‚ç‡åˆ—è¡¨ï¼ˆp1Vect,p0Vectï¼‰ï¼Œä»¥åŠåƒåœ¾é‚®ä»¶å’Œæ­£å¸¸é‚®ä»¶çš„æ¦‚ç‡ï¼ˆp1,p0ï¼‰ 12345678910111213141516171819202122232425def trainNBO(train_matrix,train_bool): train_num = len(train_matrix) words_num = len(train_matrix[0]) sum_1 = [0 for i in range(words_num)] sum_0 = [0 for i in range(words_num)] _1_num = 0 #æ˜¯åƒåœ¾é‚®ä»¶çš„é‚®ä»¶æ•° _0_num = 0 #éåƒåœ¾é‚®ä»¶çš„é‚®ä»¶æ•° for i in range(train_num): #å°†è®­ç»ƒçŸ©é˜µå‘é‡è¿›è¡Œç›¸åŠ  if train_bool[i]==1: for j in range(words_num): sum_1[j] += train_matrix[i][j] _1_num = _1_num + 1 if train_bool[i]==0: for j in range(words_num): sum_0[j] += train_matrix[i][j] _0_num = _0_num + 1 print &quot;æ­£å¸¸é‚®ä»¶æ•°ï¼š&quot;,_0_num,&quot; åƒåœ¾é‚®ä»¶æ•°ï¼š&quot;,_1_num p1Vect = [(float(sum_1[j])/_1_num) for j in range(words_num)] p0Vect = [(float(sum_0[j])/_0_num) for j in range(words_num)] p1 = float(_1_num)/train_num p0 = float(_0_num)/train_num return p1Vect,p0Vect,p1,p0 5ã€å°†å·²è½¬åŒ–æˆå‘é‡çš„é‚®ä»¶ï¼Œè¿›è¡Œç±»åˆ«æ¨æµ‹ã€‚ 12345678910111213def classing(p1Vect,p0Vect,P1,P0,unitVector): p1 = 1. p0 = 1. words_num = len(unitVector) for i in range(words_num): if unitVector[i]==1: p1 *= p1_vect[i] p0 *= p0_vect[i] p1 *= P1 p0 *= P0 if p1&gt;p0: return 1 else:return 0 æ•°æ®é›†å’Œæºä»£ç ä¸‹è½½ èµ„æ–™å‚è€ƒï¼š1ã€ ç»´åŸºç™¾ç§‘2ã€ã€Šæœºå™¨å­¦ä¹ å®æˆ˜ã€‹","raw":null,"content":null,"categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://hareric.com/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}]},{"title":"pythonå­¦ä¹ ç¬”è®°----ç¬¬7ç« ç±»å’Œç±»å‹","slug":"pythonå­¦ä¹ ç¬”è®°----ç¬¬7ç« ç±»å’Œç±»å‹","date":"2016-04-23T10:54:23.000Z","updated":"2021-05-22T08:01:05.400Z","comments":true,"path":"2016/04/23/pythonå­¦ä¹ ç¬”è®°----ç¬¬7ç« ç±»å’Œç±»å‹/","link":"","permalink":"https://hareric.com/2016/04/23/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0----%E7%AC%AC7%E7%AB%A0%E7%B1%BB%E5%92%8C%E7%B1%BB%E5%9E%8B/","excerpt":"ä¸å…¶å®ƒç¼–ç¨‹è¯­è¨€ç›¸æ¯”ï¼ŒPythonçš„ç±»æœºåˆ¶æ·»åŠ äº†æœ€å°çš„æ–°è¯­æ³•å’Œè¯­ä¹‰ã€‚å®ƒæ˜¯C++å’ŒModula-3ä¸­çš„ç±»æœºåˆ¶çš„æ··åˆã€‚Pythonçš„ç±»æä¾›äº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ‰€æœ‰çš„æ ‡å‡†ç‰¹æ€§ï¼Œç±»ç»§æ‰¿æœºåˆ¶å…è®¸æœ‰å¤šä¸ªåŸºç±»ï¼Œä¸€ä¸ªå­ç±»å¯ä»¥é‡å†™åŸºç±»ä¸­çš„ä»»ä½•æ–¹æ³•ï¼Œä¸€ä¸ªæ–¹æ³•å¯ä»¥è°ƒç”¨åŸºç±»é‡Œé¢çš„åŒåæ–¹æ³•ã€‚å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„æ•°é‡å’Œç§ç±»çš„æ•°æ®ã€‚å°±åƒæ¨¡å—é‚£æ ·ï¼Œç±»å‚ä¸Pythonçš„åŠ¨æ€å¤©æ€§ï¼Œåœ¨è¿è¡Œæ—¶è¢«åˆ›å»ºï¼Œåˆ›å»ºåå¯ä»¥è¢«è¿›ä¸€æ­¥ä¿®æ”¹ã€‚","text":"ä¸å…¶å®ƒç¼–ç¨‹è¯­è¨€ç›¸æ¯”ï¼ŒPythonçš„ç±»æœºåˆ¶æ·»åŠ äº†æœ€å°çš„æ–°è¯­æ³•å’Œè¯­ä¹‰ã€‚å®ƒæ˜¯C++å’ŒModula-3ä¸­çš„ç±»æœºåˆ¶çš„æ··åˆã€‚Pythonçš„ç±»æä¾›äº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ‰€æœ‰çš„æ ‡å‡†ç‰¹æ€§ï¼Œç±»ç»§æ‰¿æœºåˆ¶å…è®¸æœ‰å¤šä¸ªåŸºç±»ï¼Œä¸€ä¸ªå­ç±»å¯ä»¥é‡å†™åŸºç±»ä¸­çš„ä»»ä½•æ–¹æ³•ï¼Œä¸€ä¸ªæ–¹æ³•å¯ä»¥è°ƒç”¨åŸºç±»é‡Œé¢çš„åŒåæ–¹æ³•ã€‚å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„æ•°é‡å’Œç§ç±»çš„æ•°æ®ã€‚å°±åƒæ¨¡å—é‚£æ ·ï¼Œç±»å‚ä¸Pythonçš„åŠ¨æ€å¤©æ€§ï¼Œåœ¨è¿è¡Œæ—¶è¢«åˆ›å»ºï¼Œåˆ›å»ºåå¯ä»¥è¢«è¿›ä¸€æ­¥ä¿®æ”¹ã€‚ åˆ›å»ºç®€å•ç±»123456789101112131415161718192021222324252627class Employee: &#x27;æ‰€æœ‰å‘˜å·¥çš„åŸºç±»&#x27; empCount = 0 #å¼€å¤´æ²¡æœ‰selfçš„æ•°æ®åŸŸ,ä¸”å†™åœ¨æ–¹æ³•å¤–ç±»ä¼¼äºé™æ€å˜é‡private # æ„é€ æ–¹æ³•ï¼Œå®ä¾‹åŒ–åç¬¬ä¸€æ—¶é—´è‡ªåŠ¨è°ƒç”¨ def __init__(self, name, salary): #æ³¨æ„ï¼š1ã€åŒä¸‹åˆ’çº¿ 2ã€æ˜¯initä¸æ˜¯int self.name = name #å¼€å¤´æœ‰selfçš„æ•°æ®å¯ä»¥è®©ç±»çš„å…¶ä»–æ–¹æ³•ä½¿ç”¨ self.salary = salary Employee.empCount += 1 def displayCount(self): print &quot;Total Employee %d&quot; % Employee.empCount def displayEmployee(self): print &quot;Name : &quot;, self.name, &quot;, Salary: &quot;, self.salary#åˆ›å»ºå®ä¾‹å¯¹è±¡ &quot;åˆ›å»º Employee ç±»çš„ç¬¬ä¸€ä¸ªå¯¹è±¡&quot;emp1 = Employee(&quot;Zara&quot;, 2000)&quot;åˆ›å»º Employee ç±»çš„ç¬¬äºŒä¸ªå¯¹è±¡&quot;emp2 = Employee(&quot;Manni&quot;, 5000)#è®¿é—®å±æ€§emp1.displayEmployee()emp2.displayEmployee()print &quot;Total Employee %d&quot; % Employee.empCount è¾“å‡ºç»“æœName : Zara ,Salary: 2000Name : Manni ,Salary: 5000Total Employee 2 é‡ç»‘å®šempCountæ–°çš„empCountå€¼è¢«å†™åˆ°emp1å¾—ç‰¹æ€§ä¸­ï¼Œå±è”½äº†ç±»èŒƒå›´å†…çš„å˜é‡ emp1.empCount2emp2.empCount2emp1.empCount = â€œtwoâ€emp1.empCountâ€œtwoâ€emp2.empCount2 ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•@classmethodæˆ‘ä»¬è¦å†™ä¸€ä¸ªåªåœ¨ç±»ä¸­è¿è¡Œè€Œä¸åœ¨å®ä¾‹ä¸­è¿è¡Œçš„æ–¹æ³•. å¦‚æœæˆ‘ä»¬æƒ³è®©æ–¹æ³•ä¸åœ¨å®ä¾‹ä¸­è¿è¡Œï¼Œå¯ä»¥è¿™ä¹ˆåš:123456789def iget_no_of_instance(ins_obj): return ins_obj.__class__.no_instclass Kls(object): no_inst = 0 def __init__(self): Kls.no_inst = Kls.no_inst + 1ik1 = Kls()ik2 = Kls()print iget_no_of_instance(ik1)è¾“å‡ºï¼š2 åœ¨Python2.2ä»¥åå¯ä»¥ä½¿ç”¨@classmethodè£…é¥°å™¨æ¥åˆ›å»ºç±»æ–¹æ³•.1234567891011class Kls(object): no_inst = 0 def __init__(self): Kls.no_inst = Kls.no_inst + 1 @classmethod def get_no_of_instance(cls_obj): return cls_obj.no_instik1 = Kls()ik2 = Kls()print ik1.get_no_of_instance()print Kls.get_no_of_instance()è¾“å‡º:22è¿™æ ·çš„å¥½å¤„æ˜¯: ä¸ç®¡è¿™ä¸ªæ–¹å¼æ˜¯ä»å®ä¾‹è°ƒç”¨è¿˜æ˜¯ä»ç±»è°ƒç”¨ï¼Œå®ƒéƒ½ç”¨ç¬¬ä¸€ä¸ªå‚æ•°æŠŠç±»ä¼ é€’è¿‡æ¥.","raw":null,"content":null,"categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"}]},{"title":"ä½¿ç”¨MySQLdbå¯¹mysqlæ•°æ®åº“çš„è¿›è¡Œè¯»å†™","slug":"ä½¿ç”¨MySQLdbå¯¹mysqlæ•°æ®åº“çš„è¿›è¡Œè¯»å†™","date":"2016-04-23T10:47:10.000Z","updated":"2021-05-22T08:01:05.401Z","comments":true,"path":"2016/04/23/ä½¿ç”¨MySQLdbå¯¹mysqlæ•°æ®åº“çš„è¿›è¡Œè¯»å†™/","link":"","permalink":"https://hareric.com/2016/04/23/%E4%BD%BF%E7%94%A8MySQLdb%E5%AF%B9mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%BF%9B%E8%A1%8C%E8%AF%BB%E5%86%99/","excerpt":"MySQLæ˜¯ä¸€ä¸ªå°å‹å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå¼€å‘è€…ä¸ºç‘å…¸MySQLABå…¬å¸ã€‚åœ¨2008å¹´1æœˆ16å·è¢«Sunå…¬å¸æ”¶è´­ã€‚ç›®å‰MySQLè¢«å¹¿æ³›åœ°åº”ç”¨åœ¨Internetä¸Šçš„ä¸­å°å‹ç½‘ç«™ä¸­ã€‚ç”±äºå…¶ä½“ç§¯å°ã€é€Ÿåº¦å¿«ã€æ€»ä½“æ‹¥æœ‰æˆæœ¬ä½ï¼Œå°¤å…¶æ˜¯å¼€æ”¾æºç è¿™ä¸€ç‰¹ç‚¹ï¼Œè®¸å¤šä¸­å°å‹ç½‘ç«™ä¸ºäº†é™ä½ç½‘ç«™æ€»ä½“æ‹¥æœ‰æˆæœ¬è€Œé€‰æ‹©äº†MySQLä½œä¸ºç½‘ç«™æ•°æ®åº“ã€‚","text":"MySQLæ˜¯ä¸€ä¸ªå°å‹å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå¼€å‘è€…ä¸ºç‘å…¸MySQLABå…¬å¸ã€‚åœ¨2008å¹´1æœˆ16å·è¢«Sunå…¬å¸æ”¶è´­ã€‚ç›®å‰MySQLè¢«å¹¿æ³›åœ°åº”ç”¨åœ¨Internetä¸Šçš„ä¸­å°å‹ç½‘ç«™ä¸­ã€‚ç”±äºå…¶ä½“ç§¯å°ã€é€Ÿåº¦å¿«ã€æ€»ä½“æ‹¥æœ‰æˆæœ¬ä½ï¼Œå°¤å…¶æ˜¯å¼€æ”¾æºç è¿™ä¸€ç‰¹ç‚¹ï¼Œè®¸å¤šä¸­å°å‹ç½‘ç«™ä¸ºäº†é™ä½ç½‘ç«™æ€»ä½“æ‹¥æœ‰æˆæœ¬è€Œé€‰æ‹©äº†MySQLä½œä¸ºç½‘ç«™æ•°æ®åº“ã€‚ åˆ›å»ºæ•°æ®åº“è¡¨å¦‚æœæ•°æ®åº“è¿æ¥å­˜åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨execute()æ–¹æ³•æ¥ä¸ºæ•°æ®åº“åˆ›å»ºè¡¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºåˆ›å»ºè¡¨EMPLOYEEï¼š1234567891011121314151617181920212223import MySQLdb# æ‰“å¼€æ•°æ®åº“è¿æ¥db = MySQLdb.connect(&quot;localhost&quot;,&quot;testuser&quot;,&quot;test123&quot;,&quot;TESTDB&quot; )# ä½¿ç”¨cursor()æ–¹æ³•è·å–æ“ä½œæ¸¸æ ‡ cursor = db.cursor()# å¦‚æœæ•°æ®è¡¨å·²ç»å­˜åœ¨ä½¿ç”¨ execute() æ–¹æ³•åˆ é™¤è¡¨ã€‚cursor.execute(&quot;DROP TABLE IF EXISTS EMPLOYEE&quot;)# åˆ›å»ºæ•°æ®è¡¨SQLè¯­å¥sql = &quot;&quot;&quot;CREATE TABLE EMPLOYEE ( FIRST_NAME CHAR(20) NOT NULL, LAST_NAME CHAR(20), AGE INT, SEX CHAR(1), INCOME FLOAT )&quot;&quot;&quot;cursor.execute(sql)# å…³é—­æ•°æ®åº“è¿æ¥db.close() æ•°æ®åº“æ’å…¥æ“ä½œä»¥ä¸‹å®ä¾‹ä½¿ç”¨æ‰§è¡Œ SQL INSERT è¯­å¥å‘è¡¨ EMPLOYEE æ’å…¥è®°å½•ï¼š1234567891011121314151617181920212223import MySQLdb# æ‰“å¼€æ•°æ®åº“è¿æ¥db = MySQLdb.connect(&quot;localhost&quot;,&quot;testuser&quot;,&quot;test123&quot;,&quot;TESTDB&quot; )# ä½¿ç”¨cursor()æ–¹æ³•è·å–æ“ä½œæ¸¸æ ‡ cursor = db.cursor()# SQL æ’å…¥è¯­å¥sql = &quot;&quot;&quot;INSERT INTO EMPLOYEE(FIRST_NAME, LAST_NAME, AGE, SEX, INCOME) VALUES (&#x27;Mac&#x27;, &#x27;Mohan&#x27;, 20, &#x27;M&#x27;, 2000)&quot;&quot;&quot;try: # æ‰§è¡Œsqlè¯­å¥ cursor.execute(sql) # æäº¤åˆ°æ•°æ®åº“æ‰§è¡Œ db.commit()except: # Rollback in case there is any error db.rollback()# å…³é—­æ•°æ®åº“è¿æ¥db.close() ä»¥ä¸Šä¾‹å­ä¹Ÿå¯ä»¥å†™æˆå¦‚ä¸‹å½¢å¼ï¼š123456789101112131415161718192021222324import MySQLdb# æ‰“å¼€æ•°æ®åº“è¿æ¥db = MySQLdb.connect(&quot;localhost&quot;,&quot;testuser&quot;,&quot;test123&quot;,&quot;TESTDB&quot; )# ä½¿ç”¨cursor()æ–¹æ³•è·å–æ“ä½œæ¸¸æ ‡ cursor = db.cursor()# SQL æ’å…¥è¯­å¥sql = &quot;INSERT INTO EMPLOYEE(FIRST_NAME, \\ LAST_NAME, AGE, SEX, INCOME) \\ VALUES (&#x27;%s&#x27;, &#x27;%s&#x27;, &#x27;%d&#x27;, &#x27;%c&#x27;, &#x27;%d&#x27; )&quot; % \\ (&#x27;Mac&#x27;, &#x27;Mohan&#x27;, 20, &#x27;M&#x27;, 2000)try: # æ‰§è¡Œsqlè¯­å¥ cursor.execute(sql) # æäº¤åˆ°æ•°æ®åº“æ‰§è¡Œ db.commit()except: # å‘ç”Ÿé”™è¯¯æ—¶å›æ»š db.rollback()# å…³é—­æ•°æ®åº“è¿æ¥db.close()","raw":null,"content":null,"categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://hareric.com/tags/python/"},{"name":"Mysql","slug":"Mysql","permalink":"https://hareric.com/tags/Mysql/"}]},{"title":"MySQLå‘½ä»¤è¡Œ--å¯¼å…¥å¯¼å‡ºæ•°æ®åº“","slug":"MySQLå‘½ä»¤è¡Œ--å¯¼å…¥å¯¼å‡ºæ•°æ®åº“","date":"2016-04-23T03:11:40.000Z","updated":"2021-05-22T08:01:05.400Z","comments":true,"path":"2016/04/23/MySQLå‘½ä»¤è¡Œ--å¯¼å…¥å¯¼å‡ºæ•°æ®åº“/","link":"","permalink":"https://hareric.com/2016/04/23/MySQL%E5%91%BD%E4%BB%A4%E8%A1%8C--%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93/","excerpt":"MySQLå‘½ä»¤è¡Œå¯¼å‡ºæ•°æ®åº“ï¼šmysqldump -u ç”¨æˆ·å -p æ•°æ®åº“å &gt; å¯¼å‡ºçš„åœ°å€/å¯¼å‡ºçš„æ–‡ä»¶åå¦‚æˆ‘è¾“å…¥çš„å‘½ä»¤è¡Œ:mysqldump -u root -p swpu &gt; â€˜/Users/frand/Desktop/swpu.sqlâ€™,è¾“å…¥åä¼šè®©ä½ è¾“å…¥è¿›å…¥MySQLçš„å¯†ç ,è¾“å…¥å¯†ç å³å¯çœ‹åˆ°swpu.sqlå‡ºç°åœ¨æ¡Œé¢ä¸Šã€‚","text":"MySQLå‘½ä»¤è¡Œå¯¼å‡ºæ•°æ®åº“ï¼šmysqldump -u ç”¨æˆ·å -p æ•°æ®åº“å &gt; å¯¼å‡ºçš„åœ°å€/å¯¼å‡ºçš„æ–‡ä»¶åå¦‚æˆ‘è¾“å…¥çš„å‘½ä»¤è¡Œ:mysqldump -u root -p swpu &gt; â€˜/Users/frand/Desktop/swpu.sqlâ€™,è¾“å…¥åä¼šè®©ä½ è¾“å…¥è¿›å…¥MySQLçš„å¯†ç ,è¾“å…¥å¯†ç å³å¯çœ‹åˆ°swpu.sqlå‡ºç°åœ¨æ¡Œé¢ä¸Šã€‚ MySQLå‘½ä»¤è¡Œå¯¼å‡ºä¸€ä¸ªè¡¨ï¼šmysqldump -u ç”¨æˆ·å -p æ•°æ®åº“å è¡¨å&gt; å¯¼å‡ºçš„åœ°å€/å¯¼å‡ºçš„æ–‡ä»¶åå¦‚æˆ‘è¾“å…¥çš„å‘½ä»¤è¡Œï¼šmysqldump -u root -p swpu users&gt; â€˜/Users/frand/Desktop/swpu_users.sqlâ€™,è¾“å…¥åä¼šè®©ä½ è¾“å…¥è¿›å…¥MySQLçš„å¯†ç ,è¾“å…¥å¯†ç å³å¯çœ‹åˆ°swpu_users.sqlå‡ºç°åœ¨æ¡Œé¢ä¸Šã€‚ MySQLå‘½ä»¤è¡Œå¯¼å…¥ä¸€ä¸ªæ•°æ®åº“1ï¼Œå…ˆè¿›å…¥æ•°æ®åº“ï¼Œå¦‚æˆ‘è¾“å…¥çš„å‘½ä»¤è¡Œ:mysql -u root -p (è¾“å…¥åŒæ ·åä¼šè®©ä½ è¾“å…¥MySQLçš„å¯†ç )2ï¼Œåœ¨MySQL-Frontä¸­æ–°å»ºä½ è¦å»ºçš„æ•°æ®åº“ï¼Œè¿™æ—¶æ˜¯ç©ºæ•°æ®åº“ï¼Œå¦‚æ–°å»ºä¸€ä¸ªåä¸ºnewsçš„ç›®æ ‡æ•°æ®åº“3ï¼Œè¾“å…¥ï¼šuse ç›®æ ‡æ•°æ®åº“å,å¦‚æˆ‘è¾“å…¥çš„å‘½ä»¤è¡Œ:use news;4ï¼Œå¯¼å…¥æ–‡ä»¶ï¼šsource å¯¼å…¥çš„æ–‡ä»¶å,å¦‚æˆ‘è¾“å…¥çš„å‘½ä»¤è¡Œï¼šsource /Users/frand/Desktop/swpu.sqls; MySQLå‘½ä»¤è¡Œå¯¼å…¥ä¸€ä¸ªæ•°æ®è¡¨1ï¼Œå…ˆè¿›å…¥æ•°æ®åº“ï¼Œå¦‚æˆ‘è¾“å…¥çš„å‘½ä»¤è¡Œ:mysql -u root -p (è¾“å…¥åŒæ ·åä¼šè®©ä½ è¾“å…¥MySQLçš„å¯†ç )2ï¼Œåœ¨MySQL-Frontä¸­æ–°å»ºä½ è¦å»ºçš„æ•°æ®åº“ï¼Œè¿™æ—¶æ˜¯ç©ºæ•°æ®åº“ï¼Œå¦‚æ–°å»ºä¸€ä¸ªåä¸ºnewsçš„ç›®æ ‡æ•°æ®åº“3ï¼Œè¾“å…¥ï¼šuse ç›®æ ‡æ•°æ®åº“å,å¦‚æˆ‘è¾“å…¥çš„å‘½ä»¤è¡Œ:use news;4ï¼Œå¯¼å…¥æ–‡ä»¶ï¼šsource å¯¼å…¥çš„æ–‡ä»¶å,å¦‚æˆ‘è¾“å…¥çš„å‘½ä»¤è¡Œï¼šsource /Users/frand/Desktop/swpu_falcatys.sqls;MySQLå¤‡ä»½å’Œè¿˜åŸ,éƒ½æ˜¯åˆ©ç”¨mysqldumpã€mysqlå’Œsourceå‘½ä»¤æ¥å®Œæˆçš„ã€‚","raw":null,"content":null,"categories":[],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://hareric.com/tags/Mysql/"}]},{"title":"Hello World","slug":"hello-world","date":"2016-04-22T11:09:48.000Z","updated":"2021-05-22T08:01:05.400Z","comments":true,"path":"2016/04/22/hello-world/","link":"","permalink":"https://hareric.com/2016/04/22/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","raw":null,"content":null,"categories":[],"tags":[]}]}